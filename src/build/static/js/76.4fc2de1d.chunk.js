/*! For license information please see 76.4fc2de1d.chunk.js.LICENSE.txt */
(self.webpackChunkCoode=self.webpackChunkCoode||[]).push([[76],{59907:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(81469)),c=function(){function e(t){a(this,e),this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}return o(e,[{key:"applyConfig",value:function(e){this.config=this.mergeDefaults(e)}},{key:"getConfig",value:function(){return this.config}},{key:"mergeDefaults",value:function(e){var t=e.protocol||"http",r=e.port||("https"===t?443:80);return{host:e.host||"127.0.0.1",protocol:t,port:r,timeout:e.timeout||2e4,logging:e.logging||!1,logger:e.logger||console.log}}},{key:"get",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request().get(t,r);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.response||!e.t0.response.status){e.next=10;break}return e.abrupt("return",e.t0.response);case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=i(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request().post(t,r,i);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.response||!e.t0.response.status){e.next=10;break}return e.abrupt("return",e.t0.response);case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=this,t=u.default.create({baseURL:"".concat(this.config.protocol,"://").concat(this.config.host,":").concat(this.config.port),timeout:this.config.timeout,maxContentLength:536870912});return this.config.logging&&(t.interceptors.request.use((function(t){return e.config.logger("Requesting: ".concat(t.baseURL,"/").concat(t.url)),t})),t.interceptors.response.use((function(t){return e.config.logger("Response:   ".concat(t.config.url," - ").concat(t.status)),t}))),t}}]),e}();t.default=c},22254:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(2276),c=s(r(74285)),f=function(){function e(){a(this,e)}return o(e,[{key:"signer",get:function(){return this.currencyConfig.getSigner()}},{key:"withdrawBalance",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.withdrawBalance)(this.utils,this.api,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLoadedBalance",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.utils.getBalance(this.address));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.utils.getBalance(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fund",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.funder.fund(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.utils.getPrice(this.currency,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTransaction",value:function(e,t){return new c.default(e,this,t)}},{key:"getSigner",value:function(){return this.currencyConfig.getSigner()}}]),e}();t.default=f},82790:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(42122).default,a=r(17061).default,o=r(17156).default,s=r(56690).default,u=r(89728).default,c=r(61655).default,f=r(26389).default,l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkingUploader=void 0;var h=r(35108),d=r(41064),p=r(47465),v=l(r(50308)),y=l(r(86433)),m=r(43568),g=l(r(52176)),b=l(r(81974)),w=function(e){c(r,e);var t=f(r);function r(e,n){var i;return s(this,r),(i=t.call(this,{captureRejections:!0})).paused=!1,i.isResume=!1,i.currencyConfig=e,i.api=n,i.currency=i.currencyConfig.name,i.chunkSize=25e6,i.batchSize=5,i.uploadID="",i}return u(r,[{key:"setResumeData",value:function(e){return e&&(this.uploadID=e,this.isResume=!0),this}},{key:"getResumeData",value:function(){return this.uploadID}},{key:"setChunkSize",value:function(e){if(e<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=e,this}},{key:"setBatchSize",value:function(e){if(e<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=e,this}},{key:"pause",value:function(){this.emit("pause"),this.paused=!0}},{key:"resume",value:function(){this.paused=!1,this.emit("resume")}},{key:"uploadTransaction",value:function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.DataItem.isDataItem(t)){e.next=4;break}return e.abrupt("return",this.runUpload(t.getRaw()));case 4:return e.abrupt("return",this.runUpload(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadData",value:function(){var e=o(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.runUpload(t,i({},r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"runUpload",value:function(){var e=o(a().mark((function e(t,r){var s,u,c,f,l,p,w,k,_,x,A,E,S,T,M,P,I,N,C,O,R,B,U,F,L,j,D,K,Z,q,H,z,G,V,J=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=this.uploadID,l=void 0===r,p={"x-chunking-version":"2"},f){e.next=11;break}return e.next=6,this.api.get("/chunks/".concat(this.currency,"/-1/-1"),{headers:p});case 6:w=e.sent,v.default.checkAndThrow(w,"Getting upload token"),this.uploadID=f=w.data.id,e.next=19;break;case 11:return e.next=13,this.api.get("/chunks/".concat(this.currency,"/").concat(f,"/-1"),{headers:p});case 13:if(404!==(w=e.sent).status){e.next=16;break}throw new Error("Upload ID not found - your upload has probably expired.");case 16:if(v.default.checkAndThrow(w,"Getting upload info"),this.chunkSize==+w.data.size){e.next=19;break}throw new Error("Chunk size not equal to that of a previous upload (".concat(+w.data.size,")."));case 19:if(k=w.data,_=k.max,x=k.min,!(this.chunkSize<+x||this.chunkSize>+_)){e.next=22;break}throw new Error("Chunk size out of allowed range: ".concat(x," - ").concat(_));case 22:if(A=0,E=function(e,t,r){return new Promise((function(n){(0,g.default)(o(a().mark((function o(){return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.api.post("/chunks/".concat(J.currency,"/").concat(f,"/").concat(t),e,{headers:i({"Content-Type":"application/octet-stream"},p),maxBodyLength:1/0,maxContentLength:1/0}).then((function(i){if((null===i||void 0===i?void 0:i.status)>=300){var a={res:i,id:r,offset:t,size:e.length};throw J.emit("chunkError",a),a}J.emit("chunkUpload",{id:r,offset:t,size:e.length,totalUploaded:A+=e.length}),n({o:t,d:i})}));case 2:case"end":return a.stop()}}),o)}))))}))},S=null!==(s=w.data.chunks)&&void 0!==s?s:[],T=new d.PassThrough,M=n.alloc(0),P=!1,I=!0,T.on("end",(function(){return P=!0})),T.on("error",(function(e){throw new Error("Error processing readable: ".concat(e))})),N=function(){var e=o(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=15;break}if(!(M.length>=t)){e.next=5;break}return r=n.from(M.slice(0,t)),M=M.slice(t),e.abrupt("return",r);case 5:if(null!==(r=T.read(t))){e.next=10;break}return e.next=9,new Promise((function(e){return setTimeout((function(e){return e(!0)}),0,e)}));case 9:return e.abrupt("continue",0);case 10:if(r.length!==t){e.next=12;break}return e.abrupt("return",r);case 12:M=n.concat([M,r]),e.next=0;break;case 15:if(!(M.length>=t)){e.next=21;break}return r=n.from(M.slice(0,t)),M=M.slice(t),e.abrupt("return",r);case 21:return I=!1,e.abrupt("return",M);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l||(C=(0,h.createData)("",this.currencyConfig.getSigner(),i(i({},r),{},{anchor:null!==(u=null===r||void 0===r?void 0:r.anchor)&&void 0!==u?u:y.default.randomBytes(32).toString("base64").slice(0,32)})),T.write(C.getRaw()),A-=C.getRaw().length),n.isBuffer(t)?(T.write(t),T.end()):t.pipe(T),O=0,R=[],B=0,l){e.next=48;break}return F=new d.PassThrough,j=C.getRaw().length,e.next=42,N(this.chunkSize);case 42:U=e.sent,B++,O+=U.length,F.write(U.slice(j)),D=[(0,m.stringToBuffer)("dataitem"),(0,m.stringToBuffer)("1"),(0,m.stringToBuffer)(C.signatureType.toString()),C.rawOwner,C.rawTarget,C.rawAnchor,C.rawTags,new b.default(F)],L=(0,h.deepHash)(D);case 48:K=S.pop();case 49:if(!I){e.next=78;break}if(!this.paused){e.next=53;break}return e.next=53,new Promise((function(e){return J.on("resume",(function(){return e(void 0)}))}));case 53:if(!K){e.next=66;break}if(!(+K[0]-O<=this.chunkSize)){e.next=66;break}return Z=K[1],e.next=59,N(Z);case 59:return q=e.sent,l||F.write(q),O+=Z,K=S.pop(),B++,A+=Z,e.abrupt("continue",49);case 66:return e.next=68,N(this.chunkSize);case 68:if(H=e.sent,l||F.write(H),R.length!=this.batchSize){e.next=74;break}return e.next=73,Promise.all(R);case 73:R=[];case 74:R.push(E(H,O,++B)),O+=H.length,e.next=49;break;case 78:return F&&F.end(),e.next=81,Promise.all(R);case 81:if(l){e.next=93;break}return e.next=84,L;case 84:return z=e.sent,e.t0=n,e.next=88,this.currencyConfig.getSigner().sign(z);case 88:return e.t1=e.sent,G=e.t0.from.call(e.t0,e.t1),U.set(G,2),e.next=93,E(U,0,0);case 93:return e.next=95,this.api.post("/chunks/".concat(this.currency,"/").concat(f,"/-1"),null,{headers:i({"Content-Type":"application/octet-stream"},p),timeout:10*this.api.config.timeout});case 95:if(402!==(V=e.sent).status){e.next=98;break}throw new Error("Not enough funds to send data");case 98:return v.default.checkAndThrow(V,"Finalising upload",[201]),201===V.status&&(V.data={id:null===(c=V.statusText.split(" "))||void 0===c?void 0:c[1]}),this.emit("done",V),e.abrupt("return",V);case 102:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"completionPromise",get:function(){var e=this;return new Promise((function(t){return e.on("done",t)}))}}]),r}(p.EventEmitter);t.ChunkingUploader=w},41319:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(52176)),c=s(r(17144)),f=s(r(50308)),l=function(){function e(t){a(this,e),this.utils=t}return o(e,[{key:"fund",value:function(){var e=i(n().mark((function e(t){var r,a,o,s,l,h,d,p,v=this,y=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=y.length>1&&void 0!==y[1]?y[1]:1,(a=new c.default(t)).isInteger()){e.next=4;break}throw new Error("must use an integer for funding amount");case 4:return o=this.utils.currencyConfig,e.next=7,this.utils.getBundlerAddress(this.utils.currency);case 7:if(s=e.sent,l="0",!o.needsFee){e.next=14;break}return e.next=12,o.getFee("winston"===o.base[0]?0:a,s);case 12:h=e.sent,l=h.multipliedBy(r).toFixed(0).toString();case 14:return e.next=16,o.createTx(a,s,l);case 16:return d=e.sent,e.prev=17,e.next=20,o.sendTx(d.tx);case 20:p=e.sent,e.next=26;break;case 23:throw e.prev=23,e.t0=e.catch(17),e.t0;case 26:return d.txId||(d.txId=p),f.default.checkAndThrow(p,"Sending transaction to the ".concat(this.utils.currency," network")),e.next=30,this.utils.confirmationPoll(d.txId);case 30:return e.next=32,(0,u.default)(function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.utils.api.post("/account/balance/".concat(v.utils.currency),{tx_id:d.txId});case 2:return 400==(r=e.sent).status&&t(new Error("failed to post funding tx - ".concat(d.txId," (keep this id!) - ").concat(r.data))),f.default.checkAndThrow(r,"Posting transaction ".concat(d.txId," information to the bundler"),[202]),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0});case 32:if(e.sent){e.next=35;break}throw new Error("failed to post funding tx - ".concat(d.txId," - keep this id!"));case 35:return e.abrupt("return",{reward:l,target:s,quantity:a.toString(),id:d.txId});case 36:case"end":return e.stop()}}),e,this,[[17,23]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=l},81974:function(e,t,r){"use strict";var n=r(74704).default,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.STATES=void 0;var u=Symbol("not readable"),c=Symbol("readable"),f=Symbol("ended"),l=Symbol("errored");t.STATES={notReadable:u,readable:c,ended:f,errored:l};var h=function(e){function r(e){var n=this,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).size;o(this,r),this._state=t.STATES.notReadable,this._rejections=new Set,this._stream=e,this._size=i;for(var a=0,s=["_handleStreamEnd","_handleStreamError"];a<s.length;a++){var u=s[a];Object.defineProperty(this,u,{configurable:!0,writable:!0,value:this[u].bind(this)})}e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",(function(){n._state=t.STATES.readable}))}return s(r,[{key:"closed",get:function(){return this._state===t.STATES.ended}},{key:e,value:function(){return this}},{key:"next",value:function(){var e=a(i().mark((function e(){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this._state,e.next=e.t0===t.STATES.notReadable?3:e.t0===t.STATES.ended?13:e.t0===t.STATES.errored?15:e.t0===t.STATES.readable?17:26;break;case 3:return e.prev=3,r=this._untilReadable(),n=this._untilEnd(),e.next=8,Promise.race([r.promise,n.promise]);case 8:return e.prev=8,null!=r&&r.close(),null!=n&&n.close(),e.finish(8);case 12:case 25:return e.abrupt("return",this.next());case 13:return this.close(),e.abrupt("return",{done:!0,value:void 0});case 15:throw this.close(),this._error;case 17:if(null===(a=this._size?this._stream.read(this._size):this._stream.read())){e.next=22;break}return e.abrupt("return",{done:!1,value:a});case 22:return this._state=t.STATES.notReadable,e.next=25,new Promise((function(e){return setTimeout((function(e){return e(!0)}),0,e)}));case 26:case"end":return e.stop()}}),e,this,[[3,,8,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"_untilReadable",value:function(){var e=this,r=void 0;return{close:function(){null!=r&&e._stream.removeListener("readable",r)},promise:new Promise((function(n,i){r=function(){e._state=t.STATES.readable,e._rejections.delete(i),n()},e._state,t.STATES.readable,e._stream.once("readable",r),e._rejections.add(i)}))}}},{key:"_untilEnd",value:function(){var e=this,r=void 0;return{close:function(){null!=r&&e._stream.removeListener("end",r)},promise:new Promise((function(n,i){r=function(){e._state=t.STATES.ended,e._rejections.delete(i),n()},e._stream.once("end",r),e._rejections.add(i)}))}}},{key:"return",value:function(){return this._state=t.STATES.ended,this.next()}},{key:"throw",value:function(e){return this._error=e,this._state=t.STATES.errored,this.next()}},{key:"close",value:function(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=t.STATES.ended,this._stream.destroy(e)}},{key:"_handleStreamError",value:function(e){this._error=e,this._state=t.STATES.errored;var r,i=n(this._rejections);try{for(i.s();!(r=i.n()).done;){(0,r.value)(e)}}catch(e){i.e(e)}finally{i.f()}}},{key:"_handleStreamEnd",value:function(){this._state=t.STATES.ended}},{key:"state",get:function(){return this._state}}]),r}(Symbol.asyncIterator);t.default=h},74285:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(42122).default,o=r(56690).default,s=r(89728).default,u=r(41588).default,c=r(73808).default,f=r(61655).default,l=r(26389).default,h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=r(35108),p=h(r(86433)),v=function(e){f(r,e);var t=l(r);function r(e,n,i){var s,u;return o(this,r),(s=t.call(this,(0,d.createData)(e,n.currencyConfig.getSigner(),a(a({},i),{},{anchor:null!==(u=null===i||void 0===i?void 0:i.anchor)&&void 0!==u?u:p.default.randomBytes(32).toString("base64").slice(0,32)})).getRaw())).bundlr=n,s.signer=n.currencyConfig.getSigner(),s}return s(r,[{key:"sign",value:function(){return u(c(r.prototype),"sign",this).call(this,this.signer)}},{key:"size",get:function(){return this.getRaw().length}},{key:"upload",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.bundlr.uploader.transactionUploader(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(d.DataItem);t.default=v},50773:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(27424).default,a=r(74704).default,o=r(17061).default,s=r(17156).default,u=r(56690).default,c=r(89728).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;var l=r(35108),h=f(r(24989)),d=f(r(52176)),p=r(82790);t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))};var v=function(){function e(t,r,n,i){u(this,e),this.api=t,this.currency=n,this.currencyConfig=i,this.utils=r}return c(e,[{key:"upload",value:function(){var e=s(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chunkedUploader.uploadData(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"chunkedUploader",get:function(){return new p.ChunkingUploader(this.currencyConfig,this.api)}},{key:"transactionUploader",value:function(){var e=s(o().mark((function e(t){var r,n,i,a,s,u,c,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.DataItem.isDataItem(t),!(this.forceUseChunking||n&&t.getRaw().length>5e7)&&n){e.next=8;break}return i=this.chunkedUploader,e.next=5,i.uploadTransaction(n?t.getRaw():t);case 5:r=e.sent,e.next=13;break;case 8:return a=this.api.getConfig(),s=a.protocol,u=a.host,c=a.port,f=a.timeout,e.next=11,this.api.post("".concat(s,"://").concat(u,":").concat(c,"/tx/").concat(this.currency),t.getRaw(),{headers:{"Content-Type":"application/octet-stream"},timeout:f,maxBodyLength:1/0});case 11:201==(r=e.sent).status&&(r.data={id:t.id});case 13:e.t0=r.status,e.next=402===e.t0?16:17;break;case 16:throw new Error("Not enough funds to send data");case 17:if(!(r.status>=400)){e.next=19;break}throw new Error("whilst uploading DataItem: ".concat(r.status," ").concat(r.statusText));case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"concurrentUploader",value:function(){var e=s(o().mark((function e(t){var r,n,i,a,u,c=this,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:5,n=f.length>2?f[2]:void 0,i=f.length>3?f[3]:void 0,a=[],e.next=6,h.default.for(t).withConcurrency(r>=1?r:5).handleError(function(){var e=s(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.push(t),"Not enough funds to send data"!==t.message){e.next=3;break}throw t;case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()).process(function(){var e=s(o().mark((function e(t,a,u){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.default)(function(){var e=s(o().mark((function e(s){var u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.processItem(t);case 3:if(u=e.sent,a%r!=0){e.next=7;break}return e.next=7,i("Processed ".concat(a," Items"));case 7:if(!n){e.next=13;break}return e.next=10,n({item:t,res:u,i:a});case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",{item:t,res:u,i:a});case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(0),"Not enough funds to send data"===e.t0.message&&s(e.t0),e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),{retries:3,minTimeout:1e3,maxTimeout:1e4});case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}());case 6:return u=e.sent,e.abrupt("return",{errors:a,results:u.results});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"processItem",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof t&&(t=n.from(t)),e.next=3,this.transactionUploader(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateManifest",value:function(){var e=s(o().mark((function e(t){var r,n,s,u,c,f,l,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.items,n=t.indexFile,s={manifest:"arweave/paths",version:"0.1.0",paths:{}},!n){e.next=6;break}if(r.has(n)){e.next=5;break}throw new Error("Unable to access item: ".concat(n));case 5:s.index={path:n};case 6:u=a(r.entries());try{for(u.s();!(c=u.n()).done;)f=i(c.value,2),l=f[0],h=f[1],s.paths[l]={id:h}}catch(o){u.e(o)}finally{u.f()}return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"useChunking",set:function(e){"boolean"===typeof e&&(this.forceUseChunking=e)}},{key:"contentType",set:function(e){this.contentTypeOverride=e}}]),e}();t.default=v},50308:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;var u=s(r(17144));u.default.set({DECIMAL_PLACES:50});t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))};var c=function(){function e(t,r,n){a(this,e),this.api=t,this.currency=r,this.currencyConfig=n}return o(e,[{key:"getNonce",value:function(){var t=i(n().mark((function t(){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.get("/account/withdrawals/".concat(this.currency,"?address=").concat(this.currencyConfig.address));case 2:return r=t.sent,e.checkAndThrow(r,"Getting withdrawal nonce"),t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getBalance",value:function(){var t=i(n().mark((function t(r){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.get("/account/balance/".concat(this.currency,"?address=").concat(r));case 2:return i=t.sent,e.checkAndThrow(i,"Getting balance"),t.abrupt("return",new u.default(i.data.balance));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBundlerAddress",value:function(){var t=i(n().mark((function t(r){var i,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.get("/info");case 2:if(i=t.sent,e.checkAndThrow(i,"Getting Bundler address"),a=i.data.addresses[r]){t.next=7;break}throw new Error("Specified bundler does not support currency ".concat(r));case 7:return t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getPrice",value:function(){var t=i(n().mark((function t(r,i){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.get("/price/".concat(r,"/").concat(i));case 2:return a=t.sent,e.checkAndThrow(a,"Getting storage cost"),t.abrupt("return",new u.default(a.data));case 5:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"confirmationPoll",value:function(){var e=i(n().mark((function e(r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currencyConfig.isSlow){e.next=2;break}return e.abrupt("return");case 2:i=0;case 3:if(!(i<30)){e.next=13;break}return e.next=6,(0,t.sleep)(1e3);case 6:return e.next=8,this.currencyConfig.getTx(r).then((function(e){return null===e||void 0===e?void 0:e.confirmed})).catch((function(e){return!1}));case 8:if(!e.sent){e.next=10;break}return e.abrupt("return");case 10:i++,e.next=3;break;case 13:console.warn("Tx ".concat(r," didn't finalize after 30 seconds"));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unitConverter",value:function(e){return new u.default(e).dividedBy(this.currencyConfig.base[1])}}],[{key:"checkAndThrow",value:function(e,t,r){if((null===e||void 0===e?void 0:e.status)&&!(null!==r&&void 0!==r?r:[]).includes(e.status)&&200!=e.status)throw new Error("HTTP Error: ".concat(t,": ").concat(e.status," ").concat("string"!==typeof e.data?e.statusText:e.data))}}]),e}();t.default=c},2276:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withdrawBalance=void 0;var s=r(35108),u=r(12803),c=o(r(50308)),f=o(r(17144)),l=o(r(1827));function h(){return(h=a(i().mark((function e(t,r,a){var o,h,d,p,v,y,m,g,b,w,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.currencyConfig,e.next=3,o.getPublicKey();case 3:return h=e.sent,e.t0=h,e.t1=t.currency,e.t2=new f.default(a).toString(),e.next=9,t.getNonce();case 9:return e.t3=e.sent,e.t4=void 0,e.t5=o.getSigner().signatureType,d={publicKey:e.t0,currency:e.t1,amount:e.t2,nonce:e.t3,signature:e.t4,sigType:e.t5},e.next=15,(0,s.deepHash)([(0,u.stringToBuffer)(d.currency),(0,u.stringToBuffer)(d.amount.toString()),(0,u.stringToBuffer)(d.nonce.toString())]);case 15:return p=e.sent,n.isBuffer(d.publicKey)||(d.publicKey=n.from(d.publicKey)),e.next=19,o.sign(p);case 19:return d.signature=e.sent,e.next=22,o.verify(d.publicKey,p,d.signature);case 22:return v=e.sent,d.publicKey=l.default.encode(d.publicKey),d.signature=l.default.encode(d.signature),y=l.default.toBuffer(d.publicKey),m=l.default.toBuffer(d.signature),e.next=29,(0,s.deepHash)([(0,u.stringToBuffer)(d.currency),(0,u.stringToBuffer)(d.amount.toString()),(0,u.stringToBuffer)(d.nonce.toString())]);case 29:return g=e.sent,e.next=32,o.verify(y,g,m);case 32:if(b=e.sent,w=o.ownerToAddress("arweave"==o.name?l.default.decode(d.publicKey):l.default.toBuffer(d.publicKey))===o.address,v||b||w){e.next=36;break}throw new Error("Internal withdrawal validation failed - please report this!\nDebug Info:".concat(JSON.stringify(d)));case 36:return e.next=38,r.post("/account/withdraw",d);case 38:return k=e.sent,c.default.checkAndThrow(k,"Withdrawing balance"),e.abrupt("return",k);case 41:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.withdrawBalance=function(e,t,r){return h.apply(this,arguments)}},35754:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(61655).default,u=r(26389).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=c(r(59907)),l=c(r(22254)),h=c(r(41319)),d=c(r(50773)),p=c(r(50308)),v=c(r(79969)),y=function(e){s(r,e);var t=u(r);function r(e,n,i,o){var s,u;a(this,r),s=t.call(this);var c=new URL(e);return s.api=new f.default({protocol:c.protocol.slice(0,-1),port:c.port,host:c.hostname,timeout:null!==(u=null===o||void 0===o?void 0:o.timeout)&&void 0!==u?u:1e5}),s.currency=n.toLowerCase(),s.currencyConfig=(0,v.default)(n,i,null===o||void 0===o?void 0:o.providerUrl,null===o||void 0===o?void 0:o.contractAddress),s.utils=new p.default(s.api,s.currency,s.currencyConfig),s.uploader=new d.default(s.api,s.utils,s.currency,s.currencyConfig),s.funder=new h.default(s.utils),s}return o(r,[{key:"ready",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currencyConfig.ready();case 2:this.address=this.currencyConfig.address;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(l.default);t.default=y},97659:function(e,t,r){"use strict";var n=r(27424).default,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(61655).default,c=r(26389).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.erc20abi=void 0;var l=f(r(17144)),h=r(40400),d=r(13908),p=function(e){u(f,e);var r=c(f);function f(e){var t;return o(this,f),(t=r.call(this,e)).contractAddress=e.contractAddress,t}return s(f,[{key:"getContract",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.contractInstance){e.next=8;break}return this.contractInstance=new h.ethers.Contract(this.contractAddress,t.erc20abi,this.w3signer),e.t0=Math,e.next=5,this.contractInstance.decimals();case 5:e.t1=e.sent,e.t2=e.t0.pow.call(e.t0,10,e.t1),this.base=["wei",e.t2];case 8:return e.abrupt("return",this.contractInstance);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTx",value:function(){var e=a(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.providerInstance.getTransaction(t);case 2:if(r=e.sent){e.next=5;break}throw new Error("Tx doesn't exist");case 5:if(138===r.data.length&&"a9059cbb"===r.data.slice(2,10)){e.next=7;break}throw new Error("Tx isn't a ERC20 transfer");case 7:return n="0x".concat(r.data.slice(34,74)),a=new l.default(r.data.slice(74),16),e.abrupt("return",{from:r.from,to:n,blockHeight:r.blockNumber?new l.default(r.blockNumber):null,amount:a,pending:!r.blockNumber,confirmed:r.confirmations>=this.minConfirm});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFee",value:function(){var e=a(i().mark((function e(t,r){var a,o,s,u,c,f,h,d,p,v,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="0x"+new l.default(t).toString(16),e.next=3,this.getContract();case 3:return o=e.sent,e.next=6,this.providerInstance.getGasPrice();case 6:return s=e.sent,e.next=9,o.estimateGas.transfer(r,a);case 9:return u=e.sent,c=new l.default(s.mul(u).toString()),e.next=13,this.getGas();case 13:return f=e.sent,h=n(f,1),d=h[0],p=d.multipliedBy(c),e.t0=l.default,e.next=20,this.price();case 20:return e.t1=e.sent,v=new e.t0(e.t1),y=new l.default(p).dividedToIntegerBy(v),e.abrupt("return",y);case 24:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createTx",value:function(){var e=a(i().mark((function e(t,r,n){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContract();case 2:return a=e.sent,o="0x"+new l.default(t).toString(16),e.next=6,a.populateTransaction.transfer(r,o);case 6:return s=e.sent,e.next=9,this.providerInstance.getGasPrice();case 9:return s.gasPrice=e.sent,e.next=12,a.estimateGas.transfer(r,o);case 12:return s.gasLimit=e.sent,e.next=15,this.providerInstance.getNetwork();case 15:return s.chainId=e.sent.chainId,e.next=18,this.providerInstance.getTransactionCount(this.address);case 18:return s.nonce=e.sent,e.abrupt("return",{txId:void 0,tx:s});case 20:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getGas",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l.default,e.next=3,(0,d.getRedstonePrice)("ETH");case 3:return e.t1=e.sent,e.t2=new e.t0(e.t1),e.abrupt("return",[e.t2,1e18]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),f}(f(r(31330)).default);t.default=p,t.erc20abi=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]},31330:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(61655).default,c=r(26389).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=f(r(70438)),h=r(40400),d=f(r(17144)),p=r(60555),v=f(r(13908)),y=h.ethers.BigNumber,m=p.InjectedEthereumSigner,g=function(e){u(r,e);var t=c(r);function r(e){var n;return o(this,r),(n=t.call(this,e)).base=["wei",1e18],n}return s(r,[{key:"getTx",value:function(){var e=a(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.providerInstance,e.next=3,r.getTransaction(t);case 3:if(n=e.sent){e.next=6;break}throw new Error("Tx doesn't exist");case 6:return e.abrupt("return",{from:n.from,to:n.to,blockHeight:n.blockNumber?new d.default(n.blockNumber):null,amount:new d.default(n.value.toHexString(),16),pending:!n.blockNumber,confirmed:n.confirmations>=this.minConfirm});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ownerToAddress",value:function(e){return"0x"+(0,l.default)(n.from(e.slice(1))).slice(-20).toString("hex")}},{key:"sign",value:function(){var e=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSigner();case 2:return r=e.sent,e.abrupt("return",r.sign(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSigner",value:function(){return this.signer||(this.signer=new p.InjectedEthereumSigner(this.wallet)),this.signer}},{key:"verify",value:function(){var e=a(i().mark((function e(t,r,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.verify(t,r,n));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getCurrentHeight",value:function(){var e=a(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.providerInstance,e.next=3,t.send("eth_blockNumber",[]);case 3:return r=e.sent,e.abrupt("return",new d.default(r,16));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFee",value:function(){var e=a(i().mark((function e(t,r){var n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.providerInstance,a={to:r,from:this.address,value:"0x"+new d.default(t).toString(16)},e.next=4,n.estimateGas(a);case 4:return o=e.sent,e.next=7,n.getGasPrice();case 7:return s=e.sent,e.abrupt("return",new d.default(o.mul(s).toString()));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sendTx",value:function(){var e=a(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.w3signer,e.next=3,r.sendTransaction(t);case 3:return n=e.sent,e.abrupt("return",n?n.hash:void 0);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTx",value:function(){var e=a(i().mark((function e(t,r,n){var a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.from(new d.default(t).toFixed()),o=this.w3signer,e.next=4,o.estimateGas({to:r,from:this.address,value:a.toHexString()});case 4:return s=e.sent,e.next=7,o.getGasPrice();case 7:return u=e.sent,"matic"===this.name&&(u=h.ethers.BigNumber.from(new d.default(u.toString()).multipliedBy(10).decimalPlaces(0).toString())),e.next=11,o.populateTransaction({to:r,from:this.address,value:a.toHexString(),gasPrice:u,gasLimit:s});case 11:return c=e.sent,e.abrupt("return",{txId:void 0,tx:c});case 13:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getPublicKey",value:function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSigner();case 2:return t=e.sent,e.next=5,t.setPublicKey();case 5:return e.abrupt("return",t.publicKey);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pruneBalanceTransactions",value:function(e){throw new Error("Method not implemented.")}},{key:"ready",value:function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.wallet.getSigner();case 2:return this.w3signer=e.sent,e.t0=this,e.next=6,this.getPublicKey();case 6:return e.t1=e.sent,this._address=e.t0.ownerToAddress.call(e.t0,e.t1),this.providerInstance=new h.ethers.providers.JsonRpcProvider(this.providerUrl),e.next=11,null===(t=this.providerInstance)||void 0===t?void 0:t._ready();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(v.default);t.default=g},79969:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(r(31330)),s=a(r(70248)),u=a(r(62202)),c=a(r(97659)),f=a(r(81469)),l=a(r(50308));t.default=function(e,t,r,a){switch(e){case"ethereum":return new o.default({name:"ethereum",ticker:"ETH",providerUrl:null!==r&&void 0!==r?r:"https://cloudflare-eth.com/",wallet:t});case"matic":return new o.default({name:"matic",ticker:"MATIC",providerUrl:null!==r&&void 0!==r?r:"https://polygon-rpc.com",wallet:t,minConfirm:1});case"arbitrum":return new o.default({name:"arbitrum",ticker:"ETH",providerUrl:null!==r&&void 0!==r?r:"https://arb1.arbitrum.io/rpc",wallet:t});case"bnb":return new o.default({name:"bnb",ticker:"BNB",providerUrl:null!==r&&void 0!==r?r:"https://bsc-dataseed.binance.org",wallet:t});case"avalanche":return new o.default({name:"avalanche",ticker:"AVAX",providerUrl:null!==r&&void 0!==r?r:"https://api.avax.network/ext/bc/C/rpc",wallet:t});case"boba-eth":return new o.default({name:"boba-eth",ticker:"ETH",providerUrl:null!==r&&void 0!==r?r:"https://mainnet.boba.network/",minConfirm:1,wallet:t});case"boba":var h=new c.default({name:"boba",ticker:"BOBA",providerUrl:null!==r&&void 0!==r?r:"https://mainnet.boba.network/",contractAddress:null!==a&&void 0!==a?a:"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:t});return h.price=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:"".concat(h.ticker)}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});case 2:return r=e.sent,e.next=5,l.default.checkAndThrow(r,"Getting price data");case 5:if(null===(t=null===r||void 0===r?void 0:r.data)||void 0===t?void 0:t.rate){e.next=7;break}throw new Error("unable to get price for ".concat(h.name));case 7:return e.abrupt("return",+r.data.rate);case 8:case"end":return e.stop()}}),e)}))),h;case"solana":return new u.default({name:"solana",ticker:"SOL",providerUrl:null!==r&&void 0!==r?r:"https://api.mainnet-beta.solana.com/",wallet:t});case"near":return new s.default({name:"near",ticker:"NEAR",providerUrl:null!==r&&void 0!==r?r:"https://rpc.mainnet.near.org",wallet:t});default:throw new Error("Unknown/Unsupported currency ".concat(e))}}},70248:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(27424).default,a=r(17061).default,o=r(17156).default,s=r(56690).default,u=r(89728).default,c=r(61655).default,f=r(26389).default,l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=r(60555),d=l(r(17144)),p=r(58963),v=r(88650),y=l(r(80518)),m=r(74981),g=function(e){c(r,e);var t=f(r);function r(e){var n;return s(this,r),(n=t.call(this,e)).near=n.wallet._near,n.base=["yoctoNEAR",1e25],n}return u(r,[{key:"ready",value:function(){var e=o(a().mark((function e(){var t,r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.wallet.isSignedIn()){e.next=2;break}throw new Error("Wallet has not been signed in!");case 2:return t=new p.keyStores.BrowserLocalStorageKeyStore,r=this.wallet.account(),e.next=6,t.getKey(this.wallet._networkId,r.accountId);case 6:if(this.keyPair=e.sent,this.keyPair){e.next=14;break}return this.keyPair=p.KeyPair.fromRandom("ed25519"),n=this.keyPair.getPublicKey().toString(),e.next=12,t.setKey(this.wallet._networkId,r.accountId,this.keyPair);case 12:return e.next=14,r.addKey(n);case 14:return e.next=16,this.wallet.getAccountId();case 16:this._address=e.sent,this.providerInstance=this.wallet._near.connection.provider;case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTx",value:function(){var e=o(a().mark((function e(t){var r,n,o,s,u,c,f,l,h,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.providerInstance;case 2:return n=e.sent,o=t.split(":"),s=i(o,2),u=s[0],c=s[1],e.next=6,n.txStatusReceipts((0,v.decode)(c),u);case 6:return f=e.sent,e.next=9,n.block(f.transaction_outcome.block_hash);case 9:return l=e.sent,e.next=12,n.block({finality:"final"});case 12:if(h=e.sent.header.height,""===f.receipts_outcome[0].outcome.status.SuccessValue){e.next=15;break}throw new Error("Transaction failed!");case 15:return p=null!==(r=f.receipts[0].receipt.Action.actions[0].Transfer.deposit)&&void 0!==r?r:0,e.abrupt("return",{from:u,to:f.transaction.receiver_id,amount:new d.default(p),blockHeight:new d.default(l.header.height),pending:!1,confirmed:h-l.header.height>=this.minConfirm});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ownerToAddress",value:function(e){var t="string"===typeof e?e:(0,v.encode)(e);return(0,v.decode)(t.replace("ed25519:","")).toString("hex")}},{key:"sign",value:function(){var e=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSigner().sign(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSigner",value:function(){return new h.NearSigner(this.keyPair.secretKey)}},{key:"verify",value:function(){var e=o(a().mark((function e(t,r,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.NearSigner.verify(t,r,n));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getCurrentHeight",value:function(){var e=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.providerInstance.status();case 2:return t=e.sent,e.abrupt("return",new d.default(t.sync_info.latest_block_height));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFee",value:function(){var e=o(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.providerInstance.gasPrice(null);case 2:return n=e.sent,e.abrupt("return",new d.default(n.gas_price).multipliedBy(45e10));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sendTx",value:function(){var e=o(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.providerInstance.sendTransaction(t);case 3:return r=e.sent,e.abrupt("return","".concat(this.address,":").concat(r.transaction.hash));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTx",value:function(){var e=o(a().mark((function e(t,r,n){var i,o,s,u,c,f,l,h,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()});case 2:return i=e.sent,o=++i.nonce,s=p.utils.serialize.base_decode(i.block_hash),u=[p.transactions.transfer(new y.default(new d.default(t).toString()))],c=p.transactions.createTransaction(this.address,this.keyPair.getPublicKey(),r,o,u,s),f=p.utils.serialize.serialize(p.transactions.SCHEMA,c),l=new Uint8Array(m.sha256.array(f)),h=this.keyPair.sign(l),v=new p.transactions.SignedTransaction({transaction:c,signature:new p.transactions.Signature({keyType:c.publicKey.keyType,data:h.signature})}),e.abrupt("return",{tx:v,txId:void 0});case 12:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getPublicKey",value:function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.from(this.keyPair.getPublicKey().data));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(l(r(13908)).default);t.default=g},62202:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(61655).default,c=r(26389).default,f=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&f(t,e,r);return l(t,e),t},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=r(60555),v=d(r(17144)),y=d(r(13908)),m=h(r(30893)),g=d(r(88650)),b=d(r(52176)),w=function(e){u(r,e);var t=c(r);function r(e){var n;return o(this,r),(n=t.call(this,e)).minConfirm=1,n.base=["lamports",1e9],n}return s(r,[{key:"getProvider",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.providerInstance||(this.providerInstance=new m.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),e.abrupt("return",this.providerInstance);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTx",value:function(){var e=a(i().mark((function e(t){var r,n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProvider();case 2:return r=e.sent,e.next=5,r.getTransaction(t,{commitment:"confirmed"});case 5:if(n=e.sent){e.next=8;break}throw new Error("Confirmed tx not found");case 8:return e.next=10,r.getSlot("confirmed");case 10:return a=e.sent,o=new v.default(n.meta.postBalances[1]).minus(new v.default(n.meta.preBalances[1])),s={from:n.transaction.message.accountKeys[0].toBase58(),to:n.transaction.message.accountKeys[1].toBase58(),amount:o,blockHeight:new v.default(n.slot),pending:!1,confirmed:a-n.slot>=1},e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ownerToAddress",value:function(e){return"string"===typeof e&&(e=n.from(e)),g.default.encode(e)}},{key:"sign",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSigner();case 2:return e.next=4,e.sent.sign(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSigner",value:function(){return this.signer||(this.signer=new p.HexInjectedSolanaSigner(this.wallet)),this.signer}},{key:"verify",value:function(e,t,r){return p.HexInjectedSolanaSigner.verify(e,t,r)}},{key:"getCurrentHeight",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v.default,e.next=3,this.getProvider();case 3:return e.next=5,e.sent.getEpochInfo();case 5:return e.t1=e.sent.blockHeight,e.abrupt("return",new e.t0(e.t1));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFee",value:function(){var e=a(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new v.default(5e3));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sendTx",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.wallet,e.t1=t,e.next=4,this.getProvider();case 4:return e.t2=e.sent,e.t3={skipPreflight:!0},e.next=8,e.t0.sendTransaction.call(e.t0,e.t1,e.t2,e.t3);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTx",value:function(){var e=a(i().mark((function e(t,r,n){var o,s,u,c=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m.PublicKey,e.next=3,this.getPublicKey();case 3:return e.t1=e.sent,o=new e.t0(e.t1),e.next=7,(0,b.default)(function(){var e=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.getProvider();case 3:return e.next=5,e.sent.getRecentBlockhash();case 5:return e.abrupt("return",e.sent.blockhash);case 8:if(e.prev=8,e.t0=e.catch(0),!(null===(r=e.t0.message)||void 0===r?void 0:r.includes("blockhash"))){e.next=14;break}throw e.t0;case 14:t(e.t0);case 15:throw new Error("Unreachable");case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),{retries:3,minTimeout:1e3});case 7:return s=e.sent,(u=new m.Transaction({recentBlockhash:s,feePayer:o})).add(m.SystemProgram.transfer({fromPubkey:o,toPubkey:new m.PublicKey(r),lamports:+new v.default(t).toNumber()})),e.abrupt("return",{tx:u,txId:void 0});case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getPublicKey",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.wallet.publicKey.toBuffer());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(y.default);t.default=w},13908:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRedstonePrice=void 0;var c=u(r(47567)),f=u(r(1827)),l=u(r(81469)),h=u(r(50308)),d=function(){function e(t){o(this,e),this.minConfirm=5,this.isSlow=!1,this.needsFee=!0,Object.assign(this,t)}return s(e,[{key:"address",get:function(){return this._address}},{key:"ready",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.wallet){e.next=8;break}return e.t1=this,e.next=4,this.getPublicKey();case 4:e.t2=e.sent,e.t0=e.t1.ownerToAddress.call(e.t1,e.t2),e.next=9;break;case 8:e.t0=void 0;case 9:this._address=e.t0;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getId",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f.default,e.t1=n,e.t2=c.default.crypto,e.next=5,t.rawSignature();case 5:return e.t3=e.sent,e.next=8,e.t2.hash.call(e.t2,e.t3);case 8:return e.t4=e.sent,e.t5=e.t1.from.call(e.t1,e.t4),e.abrupt("return",e.t0.encode.call(e.t0,e.t5));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"price",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p(this.ticker));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function p(e){return v.apply(this,arguments)}function v(){return(v=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.get("https://api.redstone.finance/prices?symbol=".concat(t,"&provider=redstone&limit=1"));case 2:return r=e.sent,e.next=5,h.default.checkAndThrow(r,"Getting price data");case 5:return e.abrupt("return",r.data[0].value);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=d,t.getRedstonePrice=p},69076:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebBundlr=t.default=void 0;var i=r(35754);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}});var a=r(35754);Object.defineProperty(t,"WebBundlr",{enumerable:!0,get:function(){return n(a).default}})},88650:function(e,t,r){var n=r(12307);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},81469:function(e,t,r){e.exports=r(5375)},65887:function(e,t,r){"use strict";var n=r(92127),i=r(58240),a=r(99873),o=r(33067),s=r(44531),u=r(58327),c=r(87713),f=r(83492),l=r(7516),h=r(78070);e.exports=function(e){return new Promise((function(t,r){var d,p=e.data,v=e.headers,y=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}n.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+w)}var k=s(e.baseURL,e.url);function _(){if(g){var n="getAllResponseHeaders"in g?u(g.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};i((function(e){t(e),m()}),(function(e){r(e),m()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(k,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(_)},g.onabort=function(){g&&(r(f("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){r(f("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(f(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var x=(e.withCredentials||c(k))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;x&&(v[e.xsrfHeaderName]=x)}"setRequestHeader"in g&&n.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),y&&"json"!==y&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(r(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},5375:function(e,t,r){"use strict";var n=r(92127),i=r(77458),a=r(90916),o=r(90476);var s=function e(t){var r=new a(t),s=i(a.prototype.request,r);return n.extend(s,a.prototype,r),n.extend(s,r),s.create=function(r){return e(o(t,r))},s}(r(7516));s.Axios=a,s.Cancel=r(78070),s.CancelToken=r(91946),s.isCancel=r(12450),s.VERSION=r(73326).version,s.all=function(e){return Promise.all(e)},s.spread=r(69689),s.isAxiosError=r(70409),e.exports=s,e.exports.default=s},78070:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},91946:function(e,t,r){"use strict";var n=r(78070);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},12450:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},90916:function(e,t,r){"use strict";var n=r(92127),i=r(33067),a=r(91277),o=r(40046),s=r(90476),u=r(59704),c=u.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){if("string"===typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var a,f=[];if(this.interceptors.response.forEach((function(e){f.push(e.fulfilled,e.rejected)})),!i){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(f),a=Promise.resolve(t);l.length;)a=a.then(l.shift(),l.shift());return a}for(var h=t;n.length;){var d=n.shift(),p=n.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;f.length;)a=a.then(f.shift(),f.shift());return a},f.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){f.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=f},91277:function(e,t,r){"use strict";var n=r(92127);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},44531:function(e,t,r){"use strict";var n=r(14630),i=r(63261);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},83492:function(e,t,r){"use strict";var n=r(72818);e.exports=function(e,t,r,i,a){var o=new Error(e);return n(o,t,r,i,a)}},40046:function(e,t,r){"use strict";var n=r(92127),i=r(74360),a=r(12450),o=r(7516),s=r(78070);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},72818:function(e){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},90476:function(e,t,r){"use strict";var n=r(92127);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function o(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function u(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);n.isUndefined(i)&&t!==u||(r[e]=i)})),r}},58240:function(e,t,r){"use strict";var n=r(83492);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},74360:function(e,t,r){"use strict";var n=r(92127),i=r(7516);e.exports=function(e,t,r){var a=this||i;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},7516:function(e,t,r){"use strict";var n=r(1426),i=r(92127),a=r(94802),o=r(72818),s={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof n&&"[object process]"===Object.prototype.toString.call(n))&&(e=r(65887)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(s)})),e.exports=c},73326:function(e){e.exports={version:"0.25.0"}},77458:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},33067:function(e,t,r){"use strict";var n=r(92127);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},63261:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},99873:function(e,t,r){"use strict";var n=r(92127);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},14630:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},70409:function(e,t,r){"use strict";var n=r(92127);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},87713:function(e,t,r){"use strict";var n=r(92127);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},94802:function(e,t,r){"use strict";var n=r(92127);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},58327:function(e,t,r){"use strict";var n=r(92127),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,o={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},69689:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},59704:function(e,t,r){"use strict";var n=r(73326).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,o){if(!1===e)throw new Error(i(n," has been removed"+(t?" in "+t:"")));return t&&!a[n]&&(a[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,o)}},e.exports={assertOptions:function(e,t,r){if("object"!==typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var a=n[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+a)}},validators:i}},92127:function(e,t,r){"use strict";var n=r(77458),i=Object.prototype.toString;function a(e){return Array.isArray(e)}function o(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function f(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:f,isStream:function(e){return u(e)&&f(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):a(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,i){e[i]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},92153:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.curve25519=t.getSharedSecret=t.sync=t.verify=t.sign=t.getPublicKey=t.Signature=t.Point=t.RistrettoPoint=t.ExtendedPoint=t.CURVE=void 0;var s=r(43094),u=BigInt(0),c=BigInt(1),f=BigInt(2),l=BigInt(8),h=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),d=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:h,n:h,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});t.CURVE=d;var p=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),v=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),y=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),m=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),g=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),b=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),w=function(){function e(t,r,n,i){a(this,e),this.x=t,this.y=r,this.z=n,this.t=i}return o(e,[{key:"equals",value:function(e){_(e);var t=this.x,r=this.y,n=this.z,i=e.x,a=e.y,o=e.z,s=D(t*o),u=D(i*n),c=D(r*o),f=D(a*n);return s===u&&c===f}},{key:"negate",value:function(){return new e(D(-this.x),this.y,this.z,D(-this.t))}},{key:"double",value:function(){var t=this.x,r=this.y,n=this.z,i=d.a,a=D(t*t),o=D(r*r),s=D(f*D(n*n)),u=D(i*a),c=t+r,l=D(D(c*c)-a-o),h=u+o,p=h-s,v=u-o,y=D(l*p),m=D(h*v),g=D(l*v);return new e(y,m,D(p*h),g)}},{key:"add",value:function(t){_(t);var r=this.x,n=this.y,i=this.z,a=this.t,o=t.x,s=t.y,c=t.z,l=t.t,h=D((n-r)*(s+o)),d=D((n+r)*(s-o)),p=D(d-h);if(p===u)return this.double();var v=D(i*f*l),y=D(a*f*c),m=y+v,g=d+h,b=y-v,w=D(m*p),k=D(g*b),x=D(m*b);return new e(w,k,D(p*g),x)}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"precomputeWindow",value:function(e){for(var t=1+256/e,r=[],n=this,i=n,a=0;a<t;a++){i=n,r.push(i);for(var o=1;o<Math.pow(2,e-1);o++)i=i.add(n),r.push(i);n=i.double()}return r}},{key:"wNAF",value:function(t,r){!r&&this.equals(e.BASE)&&(r=T.BASE);var n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");var i=r&&S.get(r);i||(i=this.precomputeWindow(n),r&&1!==n&&(i=e.normalizeZ(i),S.set(r,i)));for(var a=e.ZERO,o=e.BASE,s=1+256/n,u=Math.pow(2,n-1),f=BigInt(Math.pow(2,n)-1),l=Math.pow(2,n),h=BigInt(n),d=0;d<s;d++){var p=d*u,v=Number(t&f);t>>=h,v>u&&(v-=l,t+=c);var y=p,m=p+Math.abs(v)-1,g=d%2!==0,b=v<0;0===v?o=o.add(k(g,i[y])):a=a.add(k(b,i[m]))}return e.normalizeZ([a,o])[0]}},{key:"multiply",value:function(e,t){return this.wNAF(J(e,d.l),t)}},{key:"multiplyUnsafe",value:function(t){var r=J(t,d.l,!1),n=e.BASE,i=e.ZERO;if(r===u)return i;if(this.equals(i)||r===c)return this;if(this.equals(n))return this.wNAF(r);for(var a=i,o=this;r>u;)r&c&&(a=a.add(o)),o=o.double(),r>>=c;return a}},{key:"isSmallOrder",value:function(){return this.multiplyUnsafe(d.h).equals(e.ZERO)}},{key:"isTorsionFree",value:function(){var t=this.multiplyUnsafe(d.l/f).double();return d.l%f&&(t=t.add(this)),t.equals(e.ZERO)}},{key:"toAffine",value:function(t){var r=this.x,n=this.y,i=this.z,a=this.equals(e.ZERO);null==t&&(t=a?l:K(i));var o=D(r*t),s=D(n*t),u=D(i*t);if(a)return T.ZERO;if(u!==c)throw new Error("invZ was invalid");return new T(o,s)}},{key:"fromRistrettoBytes",value:function(){A()}},{key:"toRistrettoBytes",value:function(){A()}},{key:"fromRistrettoHash",value:function(){A()}}],[{key:"fromAffine",value:function(t){if(!(t instanceof T))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(T.ZERO)?e.ZERO:new e(t.x,t.y,c,D(t.x*t.y))}},{key:"toAffineBatch",value:function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.P,r=new Array(e.length),n=K(e.reduce((function(e,n,i){return n===u?e:(r[i]=e,D(e*n,t))}),c),t);return e.reduceRight((function(e,n,i){return n===u?e:(r[i]=D(e*r[i],t),D(e*n,t))}),n),r}(e.map((function(e){return e.z})));return e.map((function(e,r){return e.toAffine(t[r])}))}},{key:"normalizeZ",value:function(e){return this.toAffineBatch(e).map(this.fromAffine)}}]),e}();function k(e,t){var r=t.negate();return e?r:t}function _(e){if(!(e instanceof w))throw new TypeError("ExtendedPoint expected")}function x(e){if(!(e instanceof E))throw new TypeError("RistrettoPoint expected")}function A(){throw new Error("Legacy method: switch to RistrettoPoint")}t.ExtendedPoint=w,w.BASE=new w(d.Gx,d.Gy,c,D(d.Gx*d.Gy)),w.ZERO=new w(u,c,c,u);var E=function(){function e(t){a(this,e),this.ep=t}return o(e,[{key:"toRawBytes",value:function(){var e,t=this.ep,r=t.x,n=t.y,i=t.z,a=t.t,o=D(D(i+n)*D(i-n)),s=D(r*n),u=D(s*s),c=z(D(o*u)).value,f=D(c*o),l=D(c*s),h=D(f*l*a);if(B(a*h)){var d=D(n*v),p=D(r*v);r=d,n=p,e=D(f*m)}else e=l;B(r*h)&&(n=D(-n));var y=D((i-n)*e);return B(y)&&(y=D(-y)),R(y)}},{key:"toHex",value:function(){return N(this.toRawBytes())}},{key:"toString",value:function(){return this.toHex()}},{key:"equals",value:function(e){x(e);var t=this.ep,r=e.ep,n=D(t.x*r.y)===D(t.y*r.x),i=D(t.y*r.y)===D(t.x*r.x);return n||i}},{key:"add",value:function(t){return x(t),new e(this.ep.add(t.ep))}},{key:"subtract",value:function(t){return x(t),new e(this.ep.subtract(t.ep))}},{key:"multiply",value:function(t){return new e(this.ep.multiply(t))}},{key:"multiplyUnsafe",value:function(t){return new e(this.ep.multiplyUnsafe(t))}}],[{key:"calcElligatorRistrettoMap",value:function(e){var t=d.d,r=D(v*e*e),n=D((r+c)*g),i=BigInt(-1),a=D((i-t*r)*D(r+t)),o=H(n,a),s=o.isValid,u=o.value,f=D(u*e);B(f)||(f=D(-f)),s||(u=f),s||(i=r);var l=D(i*(r-c)*b-a),h=u*u,p=D((u+u)*a),m=D(l*y),k=D(c-h),_=D(c+h);return new w(D(p*_),D(k*m),D(m*_),D(p*k))}},{key:"hashToCurve",value:function(t){var r=j((t=V(t,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=j(t.slice(32,64)),a=this.calcElligatorRistrettoMap(i);return new e(n.add(a))}},{key:"fromHex",value:function(t){t=V(t,32);var r=d.a,n=d.d,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=j(t);if(!function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(R(a),t)||B(a))throw new Error(i);var o=D(a*a),s=D(c+r*o),f=D(c-r*o),l=D(s*s),h=D(f*f),p=D(r*n*l-h),v=z(D(p*h)),y=v.isValid,m=v.value,g=D(m*f),b=D(m*g*p),k=D((a+a)*g);B(k)&&(k=D(-k));var _=D(s*b),x=D(k*_);if(!y||B(x)||_===u)throw new Error(i);return new e(new w(k,_,c,x))}}]),e}();t.RistrettoPoint=E,E.BASE=new E(w.BASE),E.ZERO=new E(w.ZERO);var S=new WeakMap,T=function(){function e(t,r){a(this,e),this.x=t,this.y=r}return o(e,[{key:"_setWindowSize",value:function(e){this._WINDOW_SIZE=e,S.delete(this)}},{key:"toRawBytes",value:function(){var e=R(this.y);return e[31]|=this.x&c?128:0,e}},{key:"toHex",value:function(){return N(this.toRawBytes())}},{key:"toX25519",value:function(){var e=this.y;return R(D((c+e)*K(c-e)))}},{key:"isTorsionFree",value:function(){return w.fromAffine(this).isTorsionFree()}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"negate",value:function(){return new e(D(-this.x),this.y)}},{key:"add",value:function(e){return w.fromAffine(this).add(w.fromAffine(e)).toAffine()}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"multiply",value:function(e){return w.fromAffine(this).multiply(e,this).toAffine()}}],[{key:"fromHex",value:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=d.d,i=d.P,a=(t=V(t,32)).slice();a[31]=-129&t[31];var o=U(a);if(r&&o>=i)throw new Error("Expected 0 < hex < P");if(!r&&o>=p)throw new Error("Expected 0 < hex < 2**256");var s=D(o*o),u=H(D(s-c),D(n*s+c)),f=u.isValid,l=u.value;if(!f)throw new Error("Point.fromHex: invalid y coordinate");var h=(l&c)===c;return 0!==(128&t[31])!==h&&(l=D(-l)),new e(l,o)}},{key:"fromPrivateKey",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:return e.abrupt("return",e.sent.point);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.Point=T,T.BASE=new T(d.Gx,d.Gy),T.ZERO=new T(u,c);var M=function(){function e(t,r){a(this,e),this.r=t,this.s=r,this.assertValidity()}return o(e,[{key:"assertValidity",value:function(){var e=this.r,t=this.s;if(!(e instanceof T))throw new Error("Expected Point instance");return J(t,d.l,!1),this}},{key:"toRawBytes",value:function(){var e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(R(this.s),32),e}},{key:"toHex",value:function(){return N(this.toRawBytes())}}],[{key:"fromHex",value:function(t){var r=V(t,64);return new e(T.fromHex(r.slice(0,32),!1),U(r.slice(32,64)))}}]),e}();function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((function(e){return e instanceof Uint8Array})))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];for(var n=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(n),a=0,o=0;a<t.length;a++){var s=t[a];i.set(s,o),o+=s.length}return i}t.Signature=M;var I=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function N(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");for(var t="",r=0;r<e.length;r++)t+=I[e[r]];return t}function C(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");for(var t=new Uint8Array(e.length/2),r=0;r<t.length;r++){var n=2*r,i=e.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");t[r]=a}return t}function O(e){return C(e.toString(16).padStart(64,"0"))}function R(e){return O(e).reverse()}function B(e){return(D(e)&c)===c}function U(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+N(Uint8Array.from(e).reverse()))}var F,L=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function j(e){return D(U(e)&L)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.P,r=e%t;return r>=u?r:t+r}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.P;if(e===u||t<=u)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));for(var r=D(e,t),n=t,i=u,a=c,o=c,s=u;r!==u;){var f=n/r,l=n%r,h=i-o*f,p=a-s*f;n=r,r=l,i=o,a=s,o=h,s=p}if(n!==c)throw new Error("invert: does not exist");return D(i,t)}function Z(e,t){for(var r=d.P,n=e;t-- >u;)n*=n,n%=r;return n}function q(e){var t=d.P,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),o=BigInt(80),s=e*e%t*e%t,u=Z(s,f)*s%t,l=Z(u,c)*e%t,h=Z(l,r)*l%t,p=Z(h,n)*h%t,v=Z(p,i)*p%t,y=Z(v,a)*v%t,m=Z(y,o)*y%t,g=Z(m,o)*y%t,b=Z(g,n)*h%t;return{pow_p_5_8:Z(b,f)*e%t,b2:s}}function H(e,t){var r=D(t*t*t),n=D(r*r*t),i=D(e*r*q(e*n).pow_p_5_8),a=D(t*i*i),o=i,s=D(i*v),u=a===e,c=a===D(-e),f=a===D(-e*v);return u&&(i=o),(c||f)&&(i=s),B(i)&&(i=D(-i)),{isValid:u||c,value:i}}function z(e){return H(c,e)}function G(e){return D(U(e),d.l)}function V(e,t){var r=e instanceof Uint8Array?Uint8Array.from(e):C(e);if("number"===typeof t&&r.length!==t)throw new Error("Expected ".concat(t," bytes"));return r}function J(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)throw new TypeError("Specify max value");if("number"===typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"===typeof e&&e<t)if(r){if(u<e)return e}else if(u<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function W(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Y(e){if(32!==(e="bigint"===typeof e||"number"===typeof e?O(J(e,p)):V(e)).length)throw new Error("Expected 32 bytes");return e}function Q(e){var t=W(e.slice(0,32)),r=e.slice(32,64),n=G(t),i=T.BASE.multiply(n),a=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:a}}function X(){if("function"!==typeof F)throw new Error("utils.sha512Sync must be set to use sync methods");return F.apply(void 0,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=i(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Q,e.next=3,t.utils.sha512(Y(r));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return Q(X(Y(e)))}function re(){return(re=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:return e.abrupt("return",e.sent.pointBytes);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=i(n().mark((function e(r,i){var a,o,s,u,c,f,l,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(r),e.next=3,$(i);case 3:return a=e.sent,o=a.prefix,s=a.scalar,u=a.pointBytes,e.t0=G,e.next=10,t.utils.sha512(o,r);case 10:return e.t1=e.sent,c=(0,e.t0)(e.t1),f=T.BASE.multiply(c),e.t2=G,e.next=16,t.utils.sha512(f.toRawBytes(),u,r);case 16:return e.t3=e.sent,l=(0,e.t2)(e.t3),h=D(c+l*s,d.l),e.abrupt("return",new M(f,h).toRawBytes());case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t,r){t=V(t),r instanceof T||(r=T.fromHex(r,!1));var n=e instanceof M?e.assertValidity():M.fromHex(e),i=n.r,a=n.s;return{r:i,s:a,SB:w.BASE.multiplyUnsafe(a),pub:r,msg:t}}function ae(e,t,r,n){var i=G(n),a=w.fromAffine(e).multiplyUnsafe(i);return w.fromAffine(t).add(a).subtract(r).multiplyUnsafe(d.h).equals(w.ZERO)}function oe(){return(oe=i(n().mark((function e(r,i,a){var o,s,u,c,f,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ie(r,i,a),s=o.r,u=o.SB,c=o.msg,f=o.pub,e.next=3,t.utils.sha512(s.toRawBytes(),f.toRawBytes(),c);case 3:return l=e.sent,e.abrupt("return",ae(f,s,u,l));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=i(n().mark((function e(r,i){var a,o,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(r);case 2:return a=e.sent,o=a.head,s=T.fromHex(i).toX25519(),e.abrupt("return",t.curve25519.scalarMult(o,s));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t,r){var n=D(e*(t-r));return[t=D(t-n),r=D(r+n)]}t.getPublicKey=function(e){return re.apply(this,arguments)},t.sign=function(e,t){return ne.apply(this,arguments)},t.verify=function(e,t,r){return oe.apply(this,arguments)},t.sync={getExtendedPublicKey:te,getPublicKey:function(e){return te(e).pointBytes},sign:function(e,t){e=V(e);var r=te(t),n=r.prefix,i=r.scalar,a=r.pointBytes,o=G(X(n,e)),s=T.BASE.multiply(o),u=D(o+G(X(s.toRawBytes(),a,e))*i,d.l);return new M(s,u).toRawBytes()},verify:function(e,t,r){var n=ie(e,t,r),i=n.r,a=n.SB,o=n.msg,s=n.pub,u=X(i.toRawBytes(),s.toRawBytes(),o);return ae(s,i,a,u)}},t.getSharedSecret=function(e,t){return se.apply(this,arguments)},T.BASE._setWindowSize(8),t.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult:function(e,t){var r=function(e,t){for(var r,n=d.P,i=J(e,n),a=J(t,n),o=BigInt(121665),s=i,f=c,l=u,h=i,p=c,v=u,y=BigInt(254);y>=u;y--){var m=a>>y&c;f=(r=ue(v^=m,f,h))[0],h=r[1],l=(r=ue(v,l,p))[0],p=r[1],v=m;var g=f+l,b=D(g*g),w=f-l,k=D(w*w),_=b-k,x=h+p,A=D((h-p)*g),E=D(x*w),S=A+E,T=A-E;h=D(S*S),p=D(s*D(T*T)),f=D(b*k),l=D(_*(b+D(o*_)))}f=(r=ue(v,f,h))[0],h=r[1],l=(r=ue(v,l,p))[0],p=r[1];var M=q(l),P=M.pow_p_5_8,I=M.b2,N=D(Z(P,BigInt(3))*I);return D(f*N)}(function(e){var t=V(e,32);return t[31]&=127,U(t)}(t),U(W(V(e,32))));if(r===u)throw new Error("Invalid private or public key received");return function(e){return R(D(e,d.P))}(r)},scalarMultBase:function(e){return t.curve25519.scalarMult(e,t.curve25519.BASE_POINT_U)}};var ce={node:s,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0};t.utils={bytesToHex:N,hexToBytes:C,concatBytes:P,getExtendedPublicKey:$,mod:D,invert:K,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:function(e){if((e=V(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return D(U(e),d.l-c)+c},randomBytes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ce.web)return ce.web.getRandomValues(new Uint8Array(e));if(ce.node){var t=ce.node.randomBytes;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:function(){return t.utils.randomBytes(32)},sha512:function(){var e=i(n().mark((function e(){var t,r,i=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=P.apply(void 0,i),!ce.web){e.next=8;break}return e.next=4,ce.web.subtle.digest("SHA-512",t.buffer);case 4:return r=e.sent,e.abrupt("return",new Uint8Array(r));case 8:if(!ce.node){e.next=12;break}return e.abrupt("return",Uint8Array.from(ce.node.createHash("sha512").update(t).digest()));case 12:throw new Error("The environment doesn't have sha512 function");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),precompute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.BASE,r=t.equals(T.BASE)?t:new T(t.x,t.y);return r._setWindowSize(e),r.multiply(f),r},sha512Sync:void 0},Object.defineProperties(t.utils,{sha512Sync:{configurable:!1,get:function(){return F},set:function(e){F||(F=e)}}})},57284:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},24989:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(76921);t.default=a.PromisePool,i(r(57284),t),i(r(76921),t),i(r(51191),t),i(r(36287),t),i(r(54825),t),i(r(30777),t)},51191:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(66115).default,o=r(61655).default,s=r(26389).default,u=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePoolError=void 0;var c=function(e){o(r,e);var t=s(r);function r(e,i){var o;return n(this,r),(o=t.call(this)).raw=e,o.item=i,o.name=o.constructor.name,o.message=o.messageFrom(e),Error.captureStackTrace(a(o),o.constructor),o}return i(r,[{key:"messageFrom",value:function(e){return e instanceof Error||"object"===typeof e?e.message:"string"===typeof e||"number"===typeof e?e.toString():""}}],[{key:"createFrom",value:function(e,t){return new this(e,t)}}]),r}(u(Error));t.PromisePoolError=c},94036:function(e,t,r){"use strict";var n=r(27424).default,i=r(74704).default,a=r(17061).default,o=r(17156).default,s=r(56690).default,u=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePoolExecutor=void 0;var c=r(76921),f=r(51191),l=r(54825),h=r(30777),d=function(){function e(){s(this,e),this.meta={tasks:[],items:[],errors:[],results:[],stopped:!1,concurrency:10,shouldResultsCorrespond:!1,processedItems:[],taskTimeout:0},this.handler=function(){},this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}return u(e,[{key:"useConcurrency",value:function(e){if(!this.isValidConcurrency(e))throw h.ValidationError.createFrom('"concurrency" must be a number, 1 or up. Received "'.concat(e,'" (').concat(typeof e,")"));return this.meta.concurrency=e,this}},{key:"isValidConcurrency",value:function(e){return"number"===typeof e&&e>=1}},{key:"withTaskTimeout",value:function(e){return this.meta.taskTimeout=e,this}},{key:"concurrency",value:function(){return this.meta.concurrency}},{key:"useCorrespondingResults",value:function(e){return this.meta.shouldResultsCorrespond=e,this}},{key:"shouldUseCorrespondingResults",value:function(){return this.meta.shouldResultsCorrespond}},{key:"taskTimeout",value:function(){return this.meta.taskTimeout}},{key:"for",value:function(e){return this.meta.items=e,this}},{key:"items",value:function(){return this.meta.items}},{key:"itemsCount",value:function(){return this.items().length}},{key:"tasks",value:function(){return this.meta.tasks}},{key:"activeTaskCount",value:function(){return this.activeTasksCount()}},{key:"activeTasksCount",value:function(){return this.tasks().length}},{key:"processedItems",value:function(){return this.meta.processedItems}},{key:"processedCount",value:function(){return this.processedItems().length}},{key:"processedPercentage",value:function(){return this.processedCount()/this.itemsCount()*100}},{key:"results",value:function(){return this.meta.results}},{key:"errors",value:function(){return this.meta.errors}},{key:"withHandler",value:function(e){return this.handler=e,this}},{key:"hasErrorHandler",value:function(){return!!this.errorHandler}},{key:"handleError",value:function(e){return this.errorHandler=e,this}},{key:"onTaskStarted",value:function(e){return this.onTaskStartedHandlers=e,this}},{key:"onTaskFinished",value:function(e){return this.onTaskFinishedHandlers=e,this}},{key:"hasReachedConcurrencyLimit",value:function(){return this.activeTasksCount()>=this.concurrency()}},{key:"stop",value:function(){throw this.markAsStopped(),new l.StopThePromisePoolError}},{key:"markAsStopped",value:function(){return this.meta.stopped=!0,this}},{key:"isStopped",value:function(){return this.meta.stopped}},{key:"start",value:function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validateInputs().prepareResultsArray().process();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateInputs",value:function(){if("function"!==typeof this.handler)throw h.ValidationError.createFrom("The first parameter for the .process(fn) method must be a function");var e=this.taskTimeout();if(!(null==e||"number"===typeof e&&e>=0))throw h.ValidationError.createFrom('"timeout" must be undefined or a number. A number must be 0 or up. Received "'.concat(String(e),'" (').concat(typeof e,")"));if(!Array.isArray(this.items()))throw h.ValidationError.createFrom('"items" must be an array. Received "'.concat(typeof this.items(),'"'));if(this.errorHandler&&"function"!==typeof this.errorHandler)throw h.ValidationError.createFrom('The error handler must be a function. Received "'.concat(typeof this.errorHandler,'"'));return this.onTaskStartedHandlers.forEach((function(e){if(e&&"function"!==typeof e)throw h.ValidationError.createFrom('The onTaskStarted handler must be a function. Received "'.concat(typeof e,'"'))})),this.onTaskFinishedHandlers.forEach((function(e){if(e&&"function"!==typeof e)throw h.ValidationError.createFrom('The error handler must be a function. Received "'.concat(typeof e,'"'))})),this}},{key:"prepareResultsArray",value:function(){return this.shouldUseCorrespondingResults()&&(this.meta.results=Array(this.items().length).fill(c.PromisePool.notRun)),this}},{key:"process",value:function(){var e=o(a().mark((function e(){var t,r,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i(this.items().entries()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=12;break}if(o=n(r.value,2),s=o[0],u=o[1],!this.isStopped()){e.next=7;break}return e.abrupt("break",12);case 7:return e.next=9,this.waitForProcessingSlot();case 9:this.startProcessing(u,s);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:return e.next=22,this.drained();case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e,this,[[1,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"waitForProcessingSlot",value:function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasReachedConcurrencyLimit()){e.next=5;break}return e.next=3,this.waitForActiveTaskToFinish();case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"waitForActiveTaskToFinish",value:function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race(this.tasks());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"startProcessing",value:function(e,t){var r=this,n=this.createTaskFor(e,t).then((function(e){r.save(e,t).removeActive(n)})).catch(function(){var i=o(a().mark((function i(o){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.handleErrorFor(o,e,t);case 2:r.removeActive(n);case 3:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).finally((function(){r.processedItems().push(e),r.runOnTaskFinishedHandlers(e)}));this.tasks().push(n),this.runOnTaskStartedHandlers(e)}},{key:"createTaskFor",value:function(){var e=o(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.taskTimeout()){e.next=2;break}return e.abrupt("return",this.handler(t,r,this));case 2:return e.abrupt("return",Promise.race([this.handler(t,r,this),this.createTaskTimeout(t)]));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createTaskTimeout",value:function(){var e=o(a().mark((function e(t){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){n(new f.PromisePoolError("Promise in pool timed out after ".concat(r.taskTimeout(),"ms"),t))}),r.taskTimeout())})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(e,t){return this.shouldUseCorrespondingResults()?this.results()[t]=e:this.results().push(e),this}},{key:"removeActive",value:function(e){return this.tasks().splice(this.tasks().indexOf(e),1),this}},{key:"handleErrorFor",value:function(){var e=o(a().mark((function e(t,r,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.shouldUseCorrespondingResults()&&(this.results()[n]=c.PromisePool.failed),!this.isStoppingThePoolError(t)){e.next=3;break}return e.abrupt("return");case 3:if(!this.isValidationError(t)){e.next=6;break}throw this.markAsStopped(),t;case 6:if(!this.hasErrorHandler()){e.next=11;break}return e.next=9,this.runErrorHandlerFor(t,r);case 9:e.next=12;break;case 11:this.saveErrorFor(t,r);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"isStoppingThePoolError",value:function(e){return e instanceof l.StopThePromisePoolError}},{key:"isValidationError",value:function(e){return e instanceof h.ValidationError}},{key:"runErrorHandlerFor",value:function(){var e=o(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(n=this.errorHandler)||void 0===n?void 0:n.call(this,t,r,this);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.rethrowIfNotStoppingThePool(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"runOnTaskStartedHandlers",value:function(e){var t=this;this.onTaskStartedHandlers.forEach((function(r){r(e,t)}))}},{key:"runOnTaskFinishedHandlers",value:function(e){var t=this;this.onTaskFinishedHandlers.forEach((function(r){r(e,t)}))}},{key:"rethrowIfNotStoppingThePool",value:function(e){if(!this.isStoppingThePoolError(e))throw e}},{key:"saveErrorFor",value:function(e,t){this.errors().push(f.PromisePoolError.createFrom(e,t))}},{key:"drained",value:function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.drainActiveTasks();case 2:return e.abrupt("return",{errors:this.errors(),results:this.results()});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"drainActiveTasks",value:function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.tasks());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.PromisePoolExecutor=d},76921:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PromisePool=void 0;var s=r(94036),u=function(){function e(t){a(this,e),this.timeout=void 0,this.concurrency=10,this.shouldResultsCorrespond=!1,this.items=null!==t&&void 0!==t?t:[],this.errorHandler=void 0,this.onTaskStartedHandlers=[],this.onTaskFinishedHandlers=[]}return o(e,[{key:"withConcurrency",value:function(e){return this.concurrency=e,this}},{key:"withTaskTimeout",value:function(e){return this.timeout=e,this}},{key:"for",value:function(t){return"number"===typeof this.timeout?new e(t).withConcurrency(this.concurrency).withTaskTimeout(this.timeout):new e(t).withConcurrency(this.concurrency)}},{key:"handleError",value:function(e){return this.errorHandler=e,this}},{key:"onTaskStarted",value:function(e){return this.onTaskStartedHandlers.push(e),this}},{key:"onTaskFinished",value:function(e){return this.onTaskFinishedHandlers.push(e),this}},{key:"useCorrespondingResults",value:function(){return this.shouldResultsCorrespond=!0,this}},{key:"process",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(new s.PromisePoolExecutor).useConcurrency(this.concurrency).useCorrespondingResults(this.shouldResultsCorrespond).withTaskTimeout(this.timeout).withHandler(t).handleError(this.errorHandler).onTaskStarted(this.onTaskStartedHandlers).onTaskFinished(this.onTaskFinishedHandlers).for(this.items).start());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"withConcurrency",value:function(e){return(new this).withConcurrency(e)}},{key:"withTaskTimeout",value:function(e){return(new this).withTaskTimeout(e)}},{key:"for",value:function(e){return(new this).for(e)}}]),e}();t.PromisePool=u,u.notRun=Symbol("notRun"),u.failed=Symbol("failed")},36287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},54825:function(e,t,r){"use strict";var n=r(89728).default,i=r(56690).default,a=r(61655).default,o=r(26389).default,s=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.StopThePromisePoolError=void 0;var u=function(e){a(r,e);var t=o(r);function r(){return i(this,r),t.apply(this,arguments)}return n(r)}(s(Error));t.StopThePromisePoolError=u},30777:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(66115).default,o=r(61655).default,s=r(26389).default,u=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;var c=function(e){o(r,e);var t=s(r);function r(e){var i;return n(this,r),i=t.call(this,e),Error.captureStackTrace(a(i),i.constructor),i}return i(r,null,[{key:"createFrom",value:function(e){return new this(e)}}]),r}(u(Error));t.ValidationError=c},30468:function(e){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function o(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var s={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},u=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(e[(240&i)>>4]+e[15&i])}return r.join("")}}}(),c={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],v=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],g=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],b=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],_=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],x=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],A=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function E(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var S=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(t,!0)}),this._prepare()};S.prototype._prepare=function(){var e=c[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,a=E(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=a[t],this._Kd[e-r][t%4]=a[t];for(var o,s=0,u=i;u<n;){if(o=a[i-1],a[0]^=l[o>>16&255]<<24^l[o>>8&255]<<16^l[255&o]<<8^l[o>>24&255]^f[s]<<24,s+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];o=a[i/2-1],a[i/2]^=l[255&o]^l[o>>8&255]<<8^l[o>>16&255]<<16^l[o>>24&255]<<24;for(t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&u<n;)h=u>>2,d=u%4,this._Ke[h][d]=a[t],this._Kd[e-h][d]=a[t++],u++}for(var h=1;h<e;h++)for(var d=0;d<4;d++)o=this._Kd[h][d],this._Kd[h][d]=k[o>>24&255]^_[o>>16&255]^x[o>>8&255]^A[255&o]},S.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=E(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=d[n[i]>>24&255]^p[n[(i+1)%4]>>16&255]^v[n[(i+2)%4]>>8&255]^y[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var s,u=a(16);for(i=0;i<4;i++)s=this._Ke[t][i],u[4*i]=255&(l[n[i]>>24&255]^s>>24),u[4*i+1]=255&(l[n[(i+1)%4]>>16&255]^s>>16),u[4*i+2]=255&(l[n[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(l[255&n[(i+3)%4]]^s);return u},S.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=E(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=m[n[i]>>24&255]^g[n[(i+3)%4]>>16&255]^b[n[(i+2)%4]>>8&255]^w[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var s,u=a(16);for(i=0;i<4;i++)s=this._Kd[t][i],u[4*i]=255&(h[n[i]>>24&255]^s>>24),u[4*i+1]=255&(h[n[(i+3)%4]>>16&255]^s>>16),u[4*i+2]=255&(h[n[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(h[255&n[(i+1)%4]]^s);return u};var T=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new S(t)};T.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.encrypt(r),t,n);return t},T.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.decrypt(r),t,n);return t};var M=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=a(16);this._lastCipherblock=i(r,!0),this._aes=new S(t)};M.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16);for(var s=0;s<16;s++)r[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,t,n)}return t},M.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var s=0;s<16;s++)t[n+s]=r[s]^this._lastCipherblock[s];o(e,this._lastCipherblock,0,n,n+16)}return t};var P=function e(t,r,n){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 size)")}else r=a(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(r,!0),this._aes=new S(t)};P.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[n+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},P.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[n+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var I=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=a(16);this._lastPrecipher=i(r,!0),this._lastPrecipherIndex=16,this._aes=new S(t)};I.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},I.prototype.decrypt=I.prototype.encrypt;var N=function e(t){if(!(this instanceof e))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"===typeof t?(this._counter=a(16),this.setValue(t)):this.setBytes(t)};N.prototype.setValue=function(e){if("number"!==typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},N.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},N.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var C=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",r instanceof N||(r=new N(r)),this._counter=r,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new S(t)};C.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},C.prototype.decrypt=C.prototype.encrypt;var O={AES:S,Counter:N,ModeOfOperation:{ecb:T,cbc:M,cfb:P,ofb:I,ctr:C},utils:{hex:u,utf8:s},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=a(e.length+t);o(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var s=a(r);return o(e,s,0,0,r),s}}},_arrayTest:{coerceArray:i,createArray:a,copyArray:o}};e.exports=O}()},21334:function(e,t,r){e.exports=r(30850)},56374:function(e,t,r){"use strict";var n=r(68832),i=r(48844),a=r(89035),o=r(1849),s=r(38262),u=r(89338),c=r(46163),f=r(52868);e.exports=function(e){return new Promise((function(t,r){var l=e.data,h=e.headers,d=e.responseType;n.isFormData(l)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(v+":"+y)}var m=s(e.baseURL,e.url);function g(){if(p){var n="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,a={data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,r,a),p=null}}if(p.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(r(f("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(f("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(f(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=(e.withCredentials||c(m))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&n.forEach(h,(function(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),d&&"json"!==d&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),l||(l=null),p.send(l)}))}},30850:function(e,t,r){"use strict";var n=r(68832),i=r(65661),a=r(56654),o=r(94275);function s(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var u=s(r(46374));u.Axios=a,u.create=function(e){return s(o(u.defaults,e))},u.Cancel=r(32184),u.CancelToken=r(34825),u.isCancel=r(24147),u.all=function(e){return Promise.all(e)},u.spread=r(67277),u.isAxiosError=r(84291),e.exports=u,e.exports.default=u},32184:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},34825:function(e,t,r){"use strict";var n=r(32184);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},24147:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},56654:function(e,t,r){"use strict";var n=r(68832),i=r(1849),a=r(314),o=r(29651),s=r(94275),u=r(29380),c=u.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!n){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(a),i=Promise.resolve(e);f.length;)i=i.then(f.shift(),f.shift());return i}for(var l=e;r.length;){var h=r.shift(),d=r.shift();try{l=h(l)}catch(p){d(p);break}}try{i=o(l)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},f.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){f.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=f},314:function(e,t,r){"use strict";var n=r(68832);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},38262:function(e,t,r){"use strict";var n=r(44381),i=r(27001);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},52868:function(e,t,r){"use strict";var n=r(42638);e.exports=function(e,t,r,i,a){var o=new Error(e);return n(o,t,r,i,a)}},29651:function(e,t,r){"use strict";var n=r(68832),i=r(22089),a=r(24147),o=r(46374);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},42638:function(e){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},94275:function(e,t,r){"use strict";var n=r(68832);e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=u(void 0,e[i])):r[i]=u(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(r[e]=u(void 0,t[e]))})),n.forEach(a,c),n.forEach(o,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=u(void 0,e[i])):r[i]=u(void 0,t[i])})),n.forEach(s,(function(n){n in t?r[n]=u(e[n],t[n]):n in e&&(r[n]=u(void 0,e[n]))}));var f=i.concat(a).concat(o).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===f.indexOf(e)}));return n.forEach(l,c),r}},48844:function(e,t,r){"use strict";var n=r(52868);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},22089:function(e,t,r){"use strict";var n=r(68832),i=r(46374);e.exports=function(e,t,r){var a=this||i;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},46374:function(e,t,r){"use strict";var n=r(1426),i=r(68832),a=r(89061),o=r(42638),s={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof n&&"[object process]"===Object.prototype.toString.call(n))&&(e=r(56374)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(s)})),e.exports=c},65661:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},1849:function(e,t,r){"use strict";var n=r(68832);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},27001:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},89035:function(e,t,r){"use strict";var n=r(68832);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},44381:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},84291:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},46163:function(e,t,r){"use strict";var n=r(68832);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},89061:function(e,t,r){"use strict";var n=r(68832);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},89338:function(e,t,r){"use strict";var n=r(68832),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,o={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},67277:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},29380:function(e,t,r){"use strict";var n=r(21151),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var a={},o=n.version.split(".");function s(e,t){for(var r=t?t.split("."):o,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}i.transitional=function(e,t,r){var i=t&&s(t);function o(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(o(n," has been removed in "+t));return i&&!a[n]&&(a[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,r){if("object"!==typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var a=n[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+a)}},validators:i}},68832:function(e,t,r){"use strict";var n=r(65661),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):a(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)f(arguments[n],r);return t},extend:function(e,t,r){return f(t,(function(t,i){e[i]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},42996:function(e,t,r){var n=r(12307);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},91154:function(e,t,r){"use strict";var n=r(74704).default,i=r(17061).default,a=r(42122).default,o=r(17156).default,s=r(56690).default,u=r(89728).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=c(r(1827)),l=r(9618),h=c(r(12807)),d=r(86433),p=32,v=function(){function e(t){s(this,e),this.binary=t,this.length=this.getDataItemCount(),this.items=this.getItems()}return u(e,[{key:"getRaw",value:function(){return this.binary}},{key:"get",value:function(e){if("number"===typeof e){if(e>=this.length)throw new RangeError("Index out of range");return this.getByIndex(e)}return this.getById(e)}},{key:"getSizes",value:function(){for(var e=[],t=p;t<p+64*this.length;t+=64)e.push(l.byteArrayToLong(this.binary.subarray(t,t+32)));return e}},{key:"getIds",value:function(){for(var e=[],t=p;t<p+64*this.length;t+=64)e.push(f.default.encode(this.binary.subarray(t+32,t+64)));return e}},{key:"getIdBy",value:function(e){if(e>this.length-1)throw new RangeError("Index of bundle out of range");var t=64+64*e;return f.default.encode(this.binary.subarray(t,t+32))}},{key:"toTransaction",value:function(){var e=o(i().mark((function e(t,r,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.createTransaction(a({data:this.binary},t),n);case 2:return(o=e.sent).addTag("Bundle-Format","binary"),o.addTag("Bundle-Version","2.0.0"),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"verify",value:function(){var e=o(i().mark((function e(){var t,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n(this.items),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=13;break}return a=r.value,e.next=7,a.isValid();case 7:if(o=e.sent,s=f.default(d.createHash("sha256").update(a.rawSignature).digest()),o&&a.id===s){e.next=11;break}return e.abrupt("return",!1);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this,[[1,15,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"getOffset",value:function(e){for(var t=0,r=p;r<p+64*this.length;r+=64){var n=l.byteArrayToLong(this.binary.subarray(r,r+32));t+=n;var i=this.binary.subarray(r+32,r+64);if(l.arraybufferEqual(i,e))return{startOffset:t,size:n}}return{startOffset:-1,size:-1}}},{key:"getByIndex",value:function(e){for(var t=0,r=32+64*e,n=l.byteArrayToLong(this.binary.subarray(r,r+32)),i=0,a=p;a<p+64*this.length&&i!=e;a+=64){t+=l.byteArrayToLong(this.binary.subarray(a,a+32)),i++}var o=this.getBundleStart()+t,s=this.binary.subarray(o,o+n+200),u=new h.default(s);return u.rawId=this.binary.slice(32+64*e,64+64*e),u}},{key:"getById",value:function(e){var t=f.default.toBuffer(e),r=this.getOffset(t);if(-1===r.startOffset)throw new Error("Transaction not found");var n=this.getBundleStart()+r.startOffset;return new h.default(this.binary.subarray(n,n+r.size))}},{key:"getDataItemCount",value:function(){return l.byteArrayToLong(this.binary.subarray(0,32))}},{key:"getBundleStart",value:function(){return 32+64*this.length}},{key:"getItems",value:function(){for(var e=new Array(this.length),t=0,r=this.getBundleStart(),n=0,i=p;i<p+64*this.length;i+=64){var a=l.byteArrayToLong(this.binary.subarray(i,i+32)),o=this.binary.subarray(i+32,i+64),s=r+t,u=this.binary.subarray(s,s+a);t+=a;var c=new h.default(u);c.rawId=o,e[n]=c,n++}return e}}]),e}();t.default=v},12807:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return u(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_BINARY_SIZE=void 0;var l=r(9618),h=r(32886),d=f(r(1827)),p=r(19778),v=r(26531),y=r(60555),m=r(73426),g=f(r(21334)),b=r(20734),w=c(r(86433)),k=f(r(47567));t.MIN_BINARY_SIZE=80;var _=function(){function e(t){a(this,e),this.binary=t}return o(e,[{key:"signatureType",get:function(){var e=l.byteArrayToLong(this.binary.subarray(0,2));switch(e){case 1:return b.SignatureConfig.ARWEAVE;case 2:return b.SignatureConfig.ED25519;case 3:return b.SignatureConfig.ETHEREUM;case 4:return b.SignatureConfig.SOLANA;default:throw new Error("Unknown signature type: "+e)}}},{key:"isValid",value:function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.verify(this.binary));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"id",get:function(){return d.default.encode(this.rawId)},set:function(e){this._id=d.default.toBuffer(e)}},{key:"rawId",get:function(){return w.createHash("sha256").update(this.rawSignature).digest()},set:function(e){this._id=e}},{key:"rawSignature",get:function(){return this.binary.subarray(2,2+this.signatureLength)}},{key:"signature",get:function(){return d.default.encode(this.rawSignature)}},{key:"signatureLength",get:function(){return b.SIG_CONFIG[this.signatureType].sigLength}},{key:"rawOwner",get:function(){return this.binary.subarray(2+this.signatureLength,2+this.signatureLength+this.ownerLength)}},{key:"owner",get:function(){return d.default.encode(this.rawOwner)}},{key:"ownerLength",get:function(){return b.SIG_CONFIG[this.signatureType].pubLength}},{key:"rawTarget",get:function(){var e=this.getTargetStart();return 1==this.binary[e]?this.binary.subarray(e+1,e+33):p.Buffer.alloc(0)}},{key:"target",get:function(){return d.default.encode(this.rawTarget)}},{key:"rawAnchor",get:function(){var e=this.getAnchorStart();return 1==this.binary[e]?this.binary.subarray(e+1,e+33):p.Buffer.alloc(0)}},{key:"anchor",get:function(){return this.rawAnchor.toString()}},{key:"rawTags",get:function(){var e=this.getTagsStart(),t=l.byteArrayToLong(this.binary.subarray(e+8,e+16));return this.binary.subarray(e+16,e+16+t)}},{key:"tags",get:function(){var e=this.getTagsStart();if(0==l.byteArrayToLong(this.binary.subarray(e,e+8)))return[];var t=l.byteArrayToLong(this.binary.subarray(e+8,e+16));return h.tagsParser.fromBuffer(p.Buffer.from(this.binary.subarray(e+16,e+16+t)))}},{key:"tagsB64Url",get:function(){return this.tags.map((function(e){return{name:d.default.encode(e.name),value:d.default.encode(e.value)}}))}},{key:"getStartOfData",value:function(){var e=this.getTagsStart(),t=this.binary.subarray(e+8,e+16);return e+16+l.byteArrayToLong(t)}},{key:"rawData",get:function(){var e=this.getTagsStart(),t=this.binary.subarray(e+8,e+16),r=e+16+l.byteArrayToLong(t);return this.binary.subarray(r,this.binary.length)}},{key:"data",get:function(){return d.default.encode(this.rawData)}},{key:"getRaw",value:function(){return this.binary}},{key:"sign",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.sign(this,t);case 2:return this._id=e.sent,e.abrupt("return",this.rawId);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSignature",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.binary.set(t,2),e.t0=p.Buffer,e.next=4,k.default.crypto.hash(t);case 4:e.t1=e.sent,this._id=e.t0.from.call(e.t0,e.t1);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSigned",value:function(){var e,t;return(null!==(t=null===(e=this._id)||void 0===e?void 0:e.length)&&void 0!==t?t:0)>0}},{key:"toJSON",value:function(){return{signature:this.signature,owner:this.owner,target:this.target,tags:this.tags.map((function(e){return{name:d.default.encode(e.name),value:d.default.encode(e.value)}})),data:this.data}}},{key:"sendToBundler",value:function(){var e=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={"Content-Type":"application/octet-stream"},this.isSigned()){e.next=3;break}throw new Error("You must sign before sending to bundler");case 3:return e.next=5,g.default.post("".concat(t,"/tx"),this.getRaw(),{headers:r,timeout:1e5,maxBodyLength:1/0,validateStatus:function(e){return e>200&&e<300||402!==e}});case 5:if(402!==(i=e.sent).status){e.next=8;break}throw new Error("Not enough funds to send data");case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSignatureData",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.getSignatureData(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTagsStart",value:function(){var e=this.getTargetStart(),t=e+(1==this.binary[e]?33:1);return t+=1==this.binary[t]?33:1}},{key:"getTargetStart",value:function(){return 2+this.signatureLength+this.ownerLength}},{key:"getAnchorStart",value:function(){var e=this.getTargetStart()+1;return e+=1==this.binary[this.getTargetStart()]?32:0}}],[{key:"isDataItem",value:function(e){return void 0!==e.binary}},{key:"verify",value:function(){var r=i(n().mark((function r(i){var a,o,s,u,c,f,d,v;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i.byteLength<t.MIN_BINARY_SIZE)){r.next=2;break}return r.abrupt("return",!1);case 2:if(a=new e(i),o=a.signatureType,s=a.getTagsStart(),u=l.byteArrayToLong(i.subarray(s,s+8)),c=i.subarray(s+8,s+16),!((f=l.byteArrayToLong(c))>4096)){r.next=10;break}return r.abrupt("return",!1);case 10:if(!(u>0)){r.next=20;break}if(r.prev=11,h.tagsParser.fromBuffer(p.Buffer.from(i.subarray(s+16,s+16+f))).length===u){r.next=15;break}return r.abrupt("return",!1);case 15:r.next=20;break;case 17:return r.prev=17,r.t0=r.catch(11),r.abrupt("return",!1);case 20:return d=y.indexToType[o],r.next=23,m.getSignatureData(a);case 23:return v=r.sent,r.next=26,d.verify(a.rawOwner,v,a.rawSignature);case 26:return r.abrupt("return",r.sent);case 27:case"end":return r.stop()}}),r,null,[[11,17]])})));return function(e){return r.apply(this,arguments)}}()}]),e}();t.default=_},73426:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getSignatureData=void 0;var u=r(12803),c=r(9618),f=r(39445);function l(){return(l=i(n().mark((function e(t){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isBrowser){e.next=7;break}return e.next=3,Promise.resolve().then((function(){return s(r(36520))}));case 3:return i=e.sent,e.abrupt("return",i.default([u.stringToBuffer("dataitem"),u.stringToBuffer("1"),u.stringToBuffer(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData]));case 7:return e.abrupt("return",f.deepHash([u.stringToBuffer("dataitem"),u.stringToBuffer("1"),u.stringToBuffer(t.signatureType.toString()),t.rawOwner,t.rawTarget,t.rawAnchor,t.rawTags,t.rawData]));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSignatureData=function(e){return l.apply(this,arguments)}},26531:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sign=t.getSignatureAndId=t.bundleAndSignData=t.unbundleData=void 0;var s=r(73426),u=r(9618),c=o(r(47567)),f=o(r(91154));function l(){return l=a(i().mark((function e(t,r){var o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Uint8Array(64*t.length),e.next=3,Promise.all(t.map(function(){var e=a(i().mark((function e(t,n){var a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isSigned()){e.next=4;break}e.t0=t.rawId,e.next=7;break;case 4:return e.next=6,p(t,r);case 6:e.t0=e.sent;case 7:return a=e.t0,(s=new Uint8Array(64)).set(u.longTo32ByteArray(t.getRaw().byteLength),0),s.set(a,32),o.set(s,64*n),e.abrupt("return",t.getRaw());case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())).then((function(e){return n.concat(e)}));case 3:return s=e.sent,c=n.concat([u.longTo32ByteArray(t.length),o,s]),e.abrupt("return",new f.default(c));case 6:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function h(e,t){return d.apply(this,arguments)}function d(){return(d=a(i().mark((function e(t,r){var a,o,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getSignatureData(t);case 2:return a=e.sent,e.next=5,r.sign(a);case 5:return o=e.sent,e.next=8,c.default.crypto.hash(o);case 8:return u=e.sent,e.abrupt("return",{signature:n.from(o),id:n.from(u)});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return v.apply(this,arguments)}function v(){return(v=a(i().mark((function e(t,r){var n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,r);case 2:return n=e.sent,a=n.signature,o=n.id,t.getRaw().set(a,2),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.unbundleData=function(e){return new f.default(e)},t.bundleAndSignData=function(e,t){return l.apply(this,arguments)},t.getSignatureAndId=h,t.sign=p},64558:function(e,t,r){"use strict";var n=r(19778).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createData=void 0;var a=i(r(88093)),o=i(r(1827)),s=r(9618),u=i(r(12807)),c=r(32886);t.createData=function(e,t,r){var i,f,l,h,d,p,v,y=t.publicKey,m=(null===r||void 0===r?void 0:r.target)?o.default.toBuffer(r.target):null,g=1+(null!==(i=null===m||void 0===m?void 0:m.byteLength)&&void 0!==i?i:0),b=(null===r||void 0===r?void 0:r.anchor)?n.from(r.anchor):null,w=1+(null!==(f=null===b||void 0===b?void 0:b.byteLength)&&void 0!==f?f:0),k=(null!==(h=null===(l=null===r||void 0===r?void 0:r.tags)||void 0===l?void 0:l.length)&&void 0!==h?h:0)>0?c.serializeTags(r.tags):null,_=16+(k?k.byteLength:0),x=n.from(e),A=x.byteLength,E=2+t.signatureLength+t.ownerLength+g+w+_+A,S=n.alloc(E);S.set(s.shortTo2ByteArray(t.signatureType),0),S.set(new Uint8Array(t.signatureLength).fill(0),2),a.default(y.byteLength==t.ownerLength,new Error("Owner must be ".concat(t.ownerLength," bytes, but was incorrectly ").concat(y.byteLength))),S.set(y,2+t.signatureLength);var T=2+t.signatureLength+t.ownerLength;S[T]=m?1:0,m&&(a.default(32==m.byteLength,new Error("Target must be 32 bytes but was incorrectly ${_target.byteLength}")),S.set(m,T+1));var M=T+g,P=M+1;S[M]=b?1:0,b&&(P+=b.byteLength,a.default(32==b.byteLength,new Error("Anchor must be 32 bytes")),S.set(b,M+1)),S.set(s.longTo8ByteArray(null!==(p=null===(d=null===r||void 0===r?void 0:r.tags)||void 0===d?void 0:d.length)&&void 0!==p?p:0),P);var I=s.longTo8ByteArray(null!==(v=null===k||void 0===k?void 0:k.byteLength)&&void 0!==v?v:0);S.set(I,P+8),k&&S.set(k,P+16);var N=P+_;return S.set(x,N),new u.default(S)}},20734:function(e,t,r){"use strict";var n,i,a=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SIG_CONFIG=t.SignatureConfig=void 0,function(e){e[e.ARWEAVE=1]="ARWEAVE",e[e.ED25519=2]="ED25519",e[e.ETHEREUM=3]="ETHEREUM",e[e.SOLANA=4]="SOLANA"}(i=t.SignatureConfig||(t.SignatureConfig={})),t.SIG_CONFIG=(a(n={},i.ARWEAVE,{sigLength:512,pubLength:512,sigName:"arweave"}),a(n,i.ED25519,{sigLength:64,pubLength:32,sigName:"ed25519"}),a(n,i.ETHEREUM,{sigLength:65,pubLength:65,sigName:"ethereum"}),a(n,i.SOLANA,{sigLength:64,pubLength:32,sigName:"solana"}),n)},39445:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(18237).default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hashStream=t.deepHashChunks=t.deepHash=void 0;var s=o(r(47567)),u=r(86433);function c(e){return f.apply(this,arguments)}function f(){return(f=i(n().mark((function e(t){var r,i,o,c,f,h,d,p,v,y,m,g,b,w,k;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof t[Symbol.asyncIterator]){e.next=46;break}r=t,i=u.createHash("sha384"),o=0,c=!1,f=!1,e.prev=6,d=a(r);case 8:return e.next=10,d.next();case 10:if(!(c=!(p=e.sent).done)){e.next=17;break}v=p.value,o+=v.byteLength,i.update(v);case 14:c=!1,e.next=8;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),f=!0,h=e.t0;case 23:if(e.prev=23,e.prev=24,!c||null==d.return){e.next=28;break}return e.next=28,d.return();case 28:if(e.prev=28,!f){e.next=31;break}throw h;case 31:return e.finish(28);case 32:return e.finish(23);case 33:return y=s.default.utils.concatBuffers([s.default.utils.stringToBuffer("blob"),s.default.utils.stringToBuffer(o.toString())]),e.t1=s.default.utils,e.next=37,s.default.crypto.hash(y,"SHA-384");case 37:return e.t2=e.sent,e.t3=i.digest(),e.t4=[e.t2,e.t3],m=e.t1.concatBuffers.call(e.t1,e.t4),e.next=43,s.default.crypto.hash(m,"SHA-384");case 43:return e.abrupt("return",e.sent);case 46:if(!Array.isArray(t)){e.next=56;break}return g=s.default.utils.concatBuffers([s.default.utils.stringToBuffer("list"),s.default.utils.stringToBuffer(t.length.toString())]),e.t5=l,e.t6=t,e.next=52,s.default.crypto.hash(g,"SHA-384");case 52:return e.t7=e.sent,e.next=55,(0,e.t5)(e.t6,e.t7);case 55:return e.abrupt("return",e.sent);case 56:return b=t,w=s.default.utils.concatBuffers([s.default.utils.stringToBuffer("blob"),s.default.utils.stringToBuffer(b.byteLength.toString())]),e.t8=s.default.utils,e.next=61,s.default.crypto.hash(w,"SHA-384");case 61:return e.t9=e.sent,e.next=64,s.default.crypto.hash(b,"SHA-384");case 64:return e.t10=e.sent,e.t11=[e.t9,e.t10],k=e.t8.concatBuffers.call(e.t8,e.t11),e.next=69,s.default.crypto.hash(k,"SHA-384");case 69:return e.abrupt("return",e.sent);case 70:case"end":return e.stop()}}),e,null,[[6,19,23,33],[24,,28,32]])})))).apply(this,arguments)}function l(e,t){return h.apply(this,arguments)}function h(){return(h=i(n().mark((function e(t,r){var i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<1)){e.next=2;break}return e.abrupt("return",r);case 2:return e.t0=s.default.utils,e.t1=r,e.next=6,c(t[0]);case 6:return e.t2=e.sent,e.t3=[e.t1,e.t2],i=e.t0.concatBuffers.call(e.t0,e.t3),e.next=11,s.default.crypto.hash(i,"SHA-384");case 11:return a=e.sent,e.next=14,l(t.slice(1),a);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=i(n().mark((function e(t){var r,i,o,s,c,f,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.createHash("sha384"),i=!1,o=!1,e.prev=3,c=a(t);case 5:return e.next=7,c.next();case 7:if(!(i=!(f=e.sent).done)){e.next=13;break}l=f.value,r.update(l);case 10:i=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),o=!0,s=e.t0;case 19:if(e.prev=19,e.prev=20,!i||null==c.return){e.next=24;break}return e.next=24,c.return();case 24:if(e.prev=24,!o){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",r.digest());case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})))).apply(this,arguments)}t.deepHash=c,t.deepHashChunks=l,t.hashStream=function(e){return d.apply(this,arguments)}},35108:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.signers=t.deepHash=t.unbundleData=t.bundleAndSignData=t.createData=t.DataItem=t.Bundle=t.MIN_BINARY_SIZE=void 0;var s=r(26531);Object.defineProperty(t,"bundleAndSignData",{enumerable:!0,get:function(){return s.bundleAndSignData}}),Object.defineProperty(t,"unbundleData",{enumerable:!0,get:function(){return s.unbundleData}});var u=o(r(91154));t.Bundle=u.default;var c=a(r(12807));t.DataItem=c.default,Object.defineProperty(t,"MIN_BINARY_SIZE",{enumerable:!0,get:function(){return c.MIN_BINARY_SIZE}});var f=r(39445);Object.defineProperty(t,"deepHash",{enumerable:!0,get:function(){return f.deepHash}});var l=r(64558);Object.defineProperty(t,"createData",{enumerable:!0,get:function(){return l.createData}});var h=r(60555),d=o(r(88684)),p=o(r(83056)),v={ArweaveSigner:h.ArweaveSigner,SolanaSigner:d.default,EthereumSigner:p.default};t.signers=v},32886:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTags=t.tagsParser=t.tagParser=void 0;var o=a(r(94081));t.tagParser=o.Type.forSchema({type:"record",name:"Tag",fields:[{name:"name",type:"string"},{name:"value",type:"string"}]}),t.tagsParser=o.Type.forSchema({type:"array",items:t.tagParser}),t.serializeTags=function(e){if(0==e.length)return new Uint8Array(0);var r;try{r=t.tagsParser.toBuffer(e)}catch(n){throw new Error("Incorrect tag format used. Make sure your tags are { name: string!, value: string! }[]")}return Uint8Array.from(r)}},53557:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Signer=void 0;var a=function(){function e(){n(this,e)}return i(e,null,[{key:"verify",value:function(e){throw new Error("You must implement verify method on child")}}]),e}();t.Signer=a},8731:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(56690).default,a=r(89728).default,o=r(61655).default,s=r(26389).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){o(r,e);var t=s(r);function r(e,n){return i(this,r),t.call(this,e.subarray(0,32),n)}return a(r,[{key:"publicKey",get:function(){return n.from(this.pk)}},{key:"key",get:function(){return n.from(this._key)}}]),r}(u(r(93683)).default);t.default=c},99370:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(61655).default,u=r(26389).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=c(r(27730)),l=r(63555),h=c(r(1827)),d=c(r(47567)),p=function(e){s(r,e);var t=u(r);function r(e){var n;return a(this,r),(n=t.call(this,l.jwkTopem(e),e.n)).jwk=e,n}return o(r,[{key:"publicKey",get:function(){return h.default.toBuffer(this.pk)}},{key:"sign",value:function(e){return d.default.crypto.sign(this.jwk,e)}}],[{key:"verify",value:function(){var e=i(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.crypto.verify(t,r,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(f.default);t.default=p},98167:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(41588).default,c=r(73808).default,f=r(61655).default,l=r(26389).default,h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){f(r,e);var t=l(r);function r(e){var n;return o(this,r),(n=t.call(this,e)).signatureType=4,n}return s(r,[{key:"sign",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(c(r.prototype),"sign",this).call(this,n.from(n.from(t).toString("hex"))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"verify",value:function(){var e=a(i().mark((function e(t,a,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(c(r),"verify",this).call(this,t,n.from(n.from(a).toString("hex")),o));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(h(r(73351)).default);t.default=d},79136:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(41588).default,c=r(73808).default,f=r(61655).default,l=r(26389).default,h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){f(r,e);var t=l(r);function r(e){var n;return o(this,r),(n=t.call(this,e)).signatureType=4,n}return s(r,[{key:"sign",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(c(r.prototype),"sign",this).call(this,n.from(n.from(t).toString("hex"))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"verify",value:function(){var e=a(i().mark((function e(t,a,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(c(r),"verify",this).call(this,t,n.from(n.from(a).toString("hex")),o));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(h(r(88684)).default);t.default=d},42423:function(e,t,r){"use strict";var n=r(89728).default,i=r(56690).default,a=r(61655).default,o=r(26389).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){a(r,e);var t=o(r);function r(e){return i(this,r),t.call(this,e.replace("ed25519:",""))}return n(r)}(s(r(88684)).default);t.default=u},64614:function(e,t,r){"use strict";var n=r(89728).default,i=r(56690).default,a=r(61655).default,o=r(26389).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){a(r,e);var t=o(r);function r(){return i(this,r),t.apply(this,arguments)}return n(r)}(s(r(83056)).default);t.default=u},88684:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(61655).default,o=r(26389).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(93683)),c=s(r(42996)),f=function(e){a(r,e);var t=o(r);function r(e){n(this,r);var i=c.default.decode(e);return t.call(this,c.default.encode(i.subarray(0,32)),c.default.encode(i.subarray(32,64)))}return i(r,[{key:"publicKey",get:function(){return c.default.decode(this.pk)}},{key:"key",get:function(){return c.default.decode(this._key)}}]),r}(u.default);t.default=f},83056:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(61655).default,c=r(26389).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=f(r(4999)),h=f(r(71113)),d=r(40400),p=function(e){u(r,e);var t=c(r);function r(e){o(this,r);var i=n.from(e,"hex"),a=h.default.publicKeyCreate(i,!1);return t.call(this,e,n.from(a))}return s(r,[{key:"publicKey",get:function(){return n.from(this.pk,"hex")}},{key:"sign",value:function(e){return new d.ethers.Wallet(this._key).signMessage(e).then((function(e){return n.from(e.slice(2),"hex")}))}}],[{key:"verify",value:function(){var e=a(i().mark((function e(t,r,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.ethers.utils.computeAddress(t),e.abrupt("return",d.ethers.utils.verifyMessage(r,n)===a);case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(l.default);t.default=p},54909:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HexSolanaSigner=t.HexInjectedSolanaSigner=t.AlgorandSigner=t.NearSigner=t.InjectedEthereumSigner=t.PolygonSigner=t.ArweaveSigner=t.InjectedSolanaSigner=void 0;var o=a(r(99370));t.ArweaveSigner=o.default,i(r(83056),t);var s=a(r(64614));t.PolygonSigner=s.default,i(r(88684),t);var u=a(r(80741));t.InjectedEthereumSigner=u.default;var c=r(73351);Object.defineProperty(t,"InjectedSolanaSigner",{enumerable:!0,get:function(){return a(c).default}});var f=r(42423);Object.defineProperty(t,"NearSigner",{enumerable:!0,get:function(){return a(f).default}});var l=r(8731);Object.defineProperty(t,"AlgorandSigner",{enumerable:!0,get:function(){return a(l).default}});var h=r(98167);Object.defineProperty(t,"HexInjectedSolanaSigner",{enumerable:!0,get:function(){return a(h).default}});var d=r(79136);Object.defineProperty(t,"HexSolanaSigner",{enumerable:!0,get:function(){return a(d).default}})},80741:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(40400),c=r(20734),f=function(){function e(t){o(this,e),this.ownerLength=c.SIG_CONFIG[c.SignatureConfig.ETHEREUM].pubLength,this.signatureLength=c.SIG_CONFIG[c.SignatureConfig.ETHEREUM].sigLength,this.signatureType=c.SignatureConfig.ETHEREUM,this.signer=t.getSigner()}return s(e,[{key:"setPublicKey",value:function(){var e=a(i().mark((function e(){var t,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="sign this message to connect to Bundlr.Network",e.next=3,this.signer.signMessage(t);case 3:return r=e.sent,e.next=6,u.ethers.utils.hashMessage(t);case 6:a=e.sent,o=u.ethers.utils.recoverPublicKey(u.ethers.utils.arrayify(a),r),this.publicKey=n.from(u.ethers.utils.arrayify(o));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(){var e=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.publicKey){e.next=3;break}return e.next=3,this.setPublicKey();case 3:return e.next=5,this.signer.signMessage(t);case 5:return r=e.sent,e.abrupt("return",n.from(r.slice(2),"hex"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"verify",value:function(e,t,r){var n=u.ethers.utils.computeAddress(e);return u.ethers.utils.verifyMessage(t,r)===n}}]),e}();t.default=f},73351:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&u(t,e,r);return c(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=f(r(92153)),d=l(r(1827)),p=r(20734),v=function(){function e(t){o(this,e),this.ownerLength=p.SIG_CONFIG[2].pubLength,this.signatureLength=p.SIG_CONFIG[2].sigLength,this.signatureType=2,this.provider=t,this._publicKey=this.provider.publicKey.toBuffer()}return s(e,[{key:"publicKey",get:function(){return this._publicKey}},{key:"sign",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider.signMessage){e.next=2;break}throw new Error("Selected Wallet does not support message signing");case 2:return e.next=4,this.provider.signMessage(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"verify",value:function(){var e=a(i().mark((function e(t,r,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t,"string"===typeof t&&(o=d.default.toBuffer(t)),e.abrupt("return",h.verify(n.from(a),n.from(r),n.from(o)));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.default=v},35723:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.indexToType=void 0;var i=n(r(93683)),a=n(r(83056)),o=r(54909);t.indexToType={1:o.ArweaveSigner,2:i.default,3:a.default,4:o.HexInjectedSolanaSigner}},60555:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(53557),t),i(r(35723),t),i(r(78400),t),i(r(54909),t)},70438:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=n(r(80518)),a=r(19778),o=n(r(51321));function s(e){return e=function(e){if(!a.Buffer.isBuffer(e))if(Array.isArray(e))e=a.Buffer.from(e);else if("string"===typeof e)e=function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)?a.Buffer.from(u(function(e){if("string"!==typeof e)return e;return function(e){if("string"!==typeof e)throw new Error("value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}(e)?e.slice(2):e}(e)),"hex"):a.Buffer.from(e);else if("number"===typeof e)e=function(e){var t=function(e){var t=e.toString(16);return"0x".concat(t)}(e);return a.Buffer.from(u(t.slice(2)),"hex")}(e);else if(null===e||void 0===e)e=a.Buffer.allocUnsafe(0);else if(i.default.isBN(e))e=e.toArrayLike(a.Buffer);else{if(!e.toArray)throw new Error("invalid type");e=a.Buffer.from(e.toArray())}return e}(e),o.default("keccak256").update(e).digest()}function u(e){if("string"!==typeof e)throw new Error("while padding to even, value must be string, is currently ".concat(typeof e,", while padToEven."));return e.length%2&&(e="0".concat(e)),e}"undefined"!==typeof window&&(window.keccak256=s),e.exports=s},27730:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(86433),f=u(r(47567)),l=u(r(1827)),h=r(20734),d=function(){function e(t,r){o(this,e),this._key=t,this.pk=r,this.signatureType=1,this.ownerLength=h.SIG_CONFIG[1].pubLength,this.signatureLength=h.SIG_CONFIG[1].sigLength,r||(this.pk=c.createPublicKey({key:t,type:"pkcs1",format:"pem"}).export({format:"pem",type:"pkcs1"}).toString())}return s(e,[{key:"publicKey",get:function(){return this._publicKey}},{key:"sign",value:function(e){return c.createSign("sha256").update(e).sign({key:this._key,padding:c.constants.RSA_PKCS1_PSS_PADDING})}}],[{key:"verify",value:function(){var e=a(i().mark((function e(t,r,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.crypto.verify(n.isBuffer(t)?l.default.encode(t):t,r,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.default=d},93683:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&u(t,e,r);return c(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=l(r(1827)),d=f(r(92153)),p=r(20734),v=function(){function e(t,r){o(this,e),this._key=t,this.pk=r,this.ownerLength=p.SIG_CONFIG[2].pubLength,this.signatureLength=p.SIG_CONFIG[2].sigLength,this.signatureType=2}return s(e,[{key:"publicKey",get:function(){return this._publicKey}},{key:"key",get:function(){return new Uint8Array(0)}},{key:"sign",value:function(e){return d.sign(n.from(e),n.from(this.key))}}],[{key:"verify",value:function(){var e=a(i().mark((function e(t,r,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t,"string"===typeof t&&(o=h.default.toBuffer(t)),e.abrupt("return",d.verify(n.from(a),n.from(r),n.from(o)));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.default=v},78400:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(27730),t)},4999:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(1827)),f=u(r(71113)),l=r(20734),h=u(r(70438)),d=function(){function e(t,r){o(this,e),this._key=t,this.ownerLength=l.SIG_CONFIG[l.SignatureConfig.ETHEREUM].pubLength,this.signatureLength=l.SIG_CONFIG[l.SignatureConfig.ETHEREUM].sigLength,this.signatureType=l.SignatureConfig.ETHEREUM,this.pk=r.toString("hex")}return s(e,[{key:"publicKey",get:function(){return n.alloc(0)}},{key:"key",get:function(){return n.from(this._key,"hex")}},{key:"sign",value:function(e){return f.default.ecdsaSign(h.default(n.from(e)),n.from(this.key)).signature}}],[{key:"verify",value:function(){var e=a(i().mark((function e(t,r,a){var o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t,"string"===typeof t&&(o=c.default.toBuffer(t)),s=!1;try{s=f.default.ecdsaVerify(a,h.default(n.from(r)),o)}catch(i){}return e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.default=d},9618:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.arraybufferEqual=t.byteArrayToLong=t.longTo32ByteArray=t.longTo16ByteArray=t.shortTo2ByteArray=t.longTo8ByteArray=void 0,t.longTo8ByteArray=function(e){for(var t=[0,0,0,0,0,0,0,0],r=0;r<t.length;r++){var n=255&e;t[r]=n,e=(e-n)/256}return Uint8Array.from(t)},t.shortTo2ByteArray=function(e){if(e>29)throw new Error("Short too long");for(var t=[0,0],r=0;r<t.length;r++){var n=255&e;t[r]=n,e=(e-n)/256}return Uint8Array.from(t)},t.longTo16ByteArray=function(e){for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<t.length;r++){var n=255&e;t[r]=n,e=(e-n)/256}return t},t.longTo32ByteArray=function(e){for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<t.length;r++){var n=255&e;t[r]=n,e=(e-n)/256}return Uint8Array.from(t)},t.byteArrayToLong=function(e){for(var t=0,r=e.length-1;r>=0;r--)t=256*t+e[r];return t},t.arraybufferEqual=function(e,t){var r=e.buffer,n=t.buffer;if(r===n)return!0;if(r.byteLength!==n.byteLength)return!1;for(var i=new DataView(r),a=new DataView(n),o=r.byteLength;o--;)if(i.getUint8(o)!==a.getUint8(o))return!1;return!0},t.isBrowser="undefined"!==typeof window&&"undefined"!==typeof window.document},26807:function(e,t,r){"use strict";r.r(t),t.default={}},63555:function(e,t,r){"use strict";var n=r(19778).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.jwkTopem=t.pemTojwk=void 0;var s=o(r(16522));function u(e){return n.from(e,"hex").toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var c=s.define("RSAPublicKey",(function(){this.seq().obj(this.key("n").int(),this.key("e").int())})),f=s.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})),l=s.define("PublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(f),this.key("publicKey").bitstr())})),h=s.define("Version",(function(){this.int({0:"two-prime",1:"multi"})})),d=s.define("OtherPrimeInfos",(function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())})),p=s.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").use(h),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(d))})),v=s.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").use(h),this.key("algorithm").use(f),this.key("privateKey").bitstr())}));function y(e,t){return t=t||{},Object.keys(t).forEach((function(r){e[r]=t[r]})),e}function m(e){return e.length%2===1?"0"+e:e}function g(e,t){var r=c.decode(e,"der"),n=m(r.e.toString(16));return y({kty:"RSA",n:_(r.n),e:u(n)},t)}function b(e,t){var r=p.decode(e,"der"),n=m(r.e.toString(16));return y({kty:"RSA",n:_(r.n),e:u(n),d:_(r.d),p:_(r.p),q:_(r.q),dp:_(r.dp),dq:_(r.dq),qi:_(r.qi)},t)}function w(e,t){return g(l.decode(e,"der").publicKey.data,t)}function k(e,t){return b(v.decode(e,"der").privateKey.data,t)}function _(e){return u(m(e.toString(16)))}function x(e){return/^[0-9]+$/.test(e)?new s.bignum(e,10):function(e){return new s.bignum(n.from(e,"base64"))}(e)}t.pemTojwk=function(e,t){var r=e.toString().split(/(\r\n|\r|\n)+/g),i=function(e){var t=/^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(e);if(!t)return null;var r=!!t[1];return"PRIVATE"===t[2]?r?b:k:r?g:w}((r=r.filter((function(e){return 0!==e.trim().length})))[0]);return r=r.slice(1,-1).join(""),i(n.from(r.replace(/[^\w\d\+\/=]+/g,""),"base64"),t)},t.jwkTopem=function(e){var t=function(e){return{n:x(e.n),e:x(e.e),d:e.d&&x(e.d),p:e.p&&x(e.p),q:e.q&&x(e.q),dp:e.dp&&x(e.dp),dq:e.dq&&x(e.dq),qi:e.qi&&x(e.qi)}}(e),r=!!t.d,i=r?"PRIVATE":"PUBLIC",a="-----BEGIN RSA "+i+" KEY-----\n",o="\n-----END RSA "+i+" KEY-----\n",s=n.alloc(0);return r?(t.version="two-prime",s=p.encode(t,"der")):s=c.encode(t,"der"),a+s.toString("base64").match(/.{1,64}/g).join("\n")+o}},12803:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var o=a(r(2009));function s(e){return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function u(e){return(new TextEncoder).encode(e)}function c(e){return new Uint8Array(o.toByteArray(d(e)))}function f(e){return o.fromByteArray(new Uint8Array(e))}function l(e){return h(f(e))}function h(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function d(e){var t;return t=(e=e.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-e.length%4,e.concat("=".repeat(t))}t.concatBuffers=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].byteLength;var n=new Uint8Array(t),i=0;n.set(new Uint8Array(e[0]),i),i+=e[0].byteLength;for(var a=1;a<e.length;a++)n.set(new Uint8Array(e[a]),i),i+=e[a].byteLength;return n},t.b64UrlToString=function(e){return s(c(e))},t.bufferToString=s,t.stringToBuffer=u,t.stringToB64Url=function(e){return l(u(e))},t.b64UrlToBuffer=c,t.bufferTob64=f,t.bufferTob64Url=l,t.b64UrlEncode=h,t.b64UrlDecode=d},87794:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r(17144),s=function(){function e(){n(this,e),a(this,"BigNum",void 0),this.BigNum=function(e,t){return new(o.BigNumber.clone({DECIMAL_PLACES:t}))(e)}}return i(e,[{key:"winstonToAr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.formatted,n=void 0!==r&&r,i=t.decimals,a=void 0===i?12:i,o=(t.trim,this.stringToBigNum(e,a).shiftedBy(-12));return n?o.toFormat(a):o.toFixed(a)}},{key:"arToWinston",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).formatted,r=void 0!==t&&t,n=this.stringToBigNum(e).shiftedBy(12);return r?n.toFormat():n.toFixed(0)}},{key:"compare",value:function(e,t){var r=this.stringToBigNum(e),n=this.stringToBigNum(t);return r.comparedTo(n)}},{key:"isEqual",value:function(e,t){return 0===this.compare(e,t)}},{key:"isLessThan",value:function(e,t){var r=this.stringToBigNum(e),n=this.stringToBigNum(t);return r.isLessThan(n)}},{key:"isGreaterThan",value:function(e,t){var r=this.stringToBigNum(e),n=this.stringToBigNum(t);return r.isGreaterThan(n)}},{key:"add",value:function(e,t){var r=this.stringToBigNum(e);this.stringToBigNum(t);return r.plus(t).toFixed(0)}},{key:"sub",value:function(e,t){var r=this.stringToBigNum(e);this.stringToBigNum(t);return r.minus(t).toFixed(0)}},{key:"stringToBigNum",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return this.BigNum(e,t)}}]),e}();t.default=s},81233:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(98470);r(26807);var c=function(){function e(t,r){a(this,e),s(this,"api",void 0),s(this,"network",void 0),this.api=t,this.network=r}return o(e,[{key:"get",value:function(){var t=i(n().mark((function t(r){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.get("".concat(e.ENDPOINT).concat(r));case 2:if(200!==(i=t.sent).status){t.next=7;break}return t.abrupt("return",i.data);case 7:if(404!==i.status){t.next=11;break}throw new u.default("BLOCK_NOT_FOUND");case 11:throw new Error("Error while loading block data: ".concat(i));case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCurrent",value:function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.network.getInfo();case 2:return t=e.sent,r=t.current,e.next=6,this.get(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();s(c,"ENDPOINT","block/hash/"),t.default=c},11979:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(98470),c=r(43568),f=function(){function e(t){a(this,e),s(this,"api",void 0),this.api=t}return o(e,[{key:"getTransactionOffset",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("tx/".concat(t,"/offset"));case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.data);case 5:throw new Error("Unable to get transaction offset: ".concat((0,u.getError)(r)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChunk",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("chunk/".concat(t));case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",r.data);case 5:throw new Error("Unable to get chunk: ".concat((0,u.getError)(r)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChunkData",value:function(){var e=i(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChunk(t);case 2:return r=e.sent,i=c.b64UrlToBuffer(r.chunk),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"firstChunkOffset",value:function(e){return parseInt(e.offset)-parseInt(e.size)+1}},{key:"downloadChunkedData",value:function(){var e=i(n().mark((function e(t){var r,i,a,o,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTransactionOffset(t);case 2:r=e.sent,i=parseInt(r.size),a=parseInt(r.offset),o=a-i+1,s=new Uint8Array(i),u=0;case 8:if(!(u<i)){e.next=29;break}return this.api.config.logging&&console.log("[chunk] ".concat(u,"/").concat(i)),c=void 0,e.prev=11,e.next=14,this.getChunkData(o+u);case 14:c=e.sent,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(11),console.error("[chunk] Failed to fetch chunk at offset ".concat(o+u)),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node");case 21:if(!c){e.next=26;break}s.set(c,u),u+=c.length,e.next=27;break;case 26:throw new Error("Couldn't complete data download at ".concat(u,"/").concat(i));case 27:e.next=8;break;case 29:return e.abrupt("return",s);case 30:case"end":return e.stop()}}),e,this,[[11,17]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=f},89839:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(87794),c=r(11955),f=r(79151),l=r(15739),h=r(58164),d=r(87073),p=r(23872),v=r(43568),y=r(68165),m=r(11979),g=r(81233),b=function(){function e(t){a(this,e),s(this,"api",void 0),s(this,"wallets",void 0),s(this,"transactions",void 0),s(this,"network",void 0),s(this,"blocks",void 0),s(this,"ar",void 0),s(this,"silo",void 0),s(this,"chunks",void 0),this.api=new c.default(t),this.wallets=new d.default(this.api,e.crypto),this.chunks=new m.default(this.api),this.transactions=new h.default(this.api,e.crypto,this.chunks),this.silo=new y.default(this.api,this.crypto,this.transactions),this.network=new l.default(this.api),this.blocks=new g.default(this.api,this.network),this.ar=new u.default}return o(e,[{key:"crypto",get:function(){return e.crypto}},{key:"utils",get:function(){return e.utils}},{key:"getConfig",value:function(){return{api:this.api.getConfig(),crypto:null}}},{key:"createTransaction",value:function(){var e=i(n().mark((function e(t,r){var i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={},Object.assign(i,t),t.data||t.target&&t.quantity){e.next=4;break}throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");case 4:if(void 0==t.owner&&r&&"use_wallet"!==r&&(i.owner=r.n),void 0!=t.last_tx){e.next=9;break}return e.next=8,this.transactions.getTransactionAnchor();case 8:i.last_tx=e.sent;case 9:if("string"===typeof t.data&&(t.data=v.stringToBuffer(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),!t.data||t.data instanceof Uint8Array){e.next=13;break}throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");case 13:if(void 0!=t.reward){e.next=18;break}return a=t.data?t.data.byteLength:0,e.next=17,this.transactions.getPrice(a,i.target);case 17:i.reward=e.sent;case 18:return i.data_root="",i.data_size=t.data?t.data.byteLength.toString():"0",i.data=t.data||new Uint8Array(0),o=new p.default(i),e.next=24,o.getSignatureData();case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createSiloTransaction",value:function(){var e=i(n().mark((function e(t,r,i){var a,o,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},Object.assign(a,t),t.data){e.next=4;break}throw new Error("Silo transactions must have a 'data' value");case 4:if(i){e.next=6;break}throw new Error("No Silo URI specified.");case 6:if(!t.target&&!t.quantity){e.next=8;break}throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");case 8:if(void 0!=t.owner){e.next=12;break}if(r&&r.n){e.next=11;break}throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");case 11:a.owner=r.n;case 12:if(void 0!=t.last_tx){e.next=16;break}return e.next=15,this.transactions.getTransactionAnchor();case 15:a.last_tx=e.sent;case 16:return e.next=18,this.silo.parseUri(i);case 18:if(o=e.sent,"string"!=typeof t.data){e.next=27;break}return e.next=22,this.crypto.encrypt(v.stringToBuffer(t.data),o.getEncryptionKey());case 22:return s=e.sent,e.next=25,this.transactions.getPrice(s.byteLength);case 25:a.reward=e.sent,a.data=v.bufferTob64Url(s);case 27:if(!(t.data instanceof Uint8Array)){e.next=35;break}return e.next=30,this.crypto.encrypt(t.data,o.getEncryptionKey());case 30:return u=e.sent,e.next=33,this.transactions.getPrice(u.byteLength);case 33:a.reward=e.sent,a.data=v.bufferTob64Url(u);case 35:return(c=new p.default(a)).addTag("Silo-Name",o.getAccessKey()),c.addTag("Silo-Version","0.1.0"),e.abrupt("return",c);case 39:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"arql",value:function(e){return this.api.post("/arql",e).then((function(e){return e.data||[]}))}}]),e}();s(b,"init",void 0),s(b,"crypto",new f.default),s(b,"utils",v),t.default=b},47567:function(e,t,r){"use strict";var n=r(42122).default,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(89839),s=r(68963);o.default.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof location||!location.protocol||!location.hostname)return new o.default(n(n({},e),{host:"arweave.net",port:443,protocol:"https"}));var t=location.protocol.replace(":",""),r=location.hostname,i=location.port?parseInt(location.port):"https"==t?443:80,a=(0,s.getDefaultConfig)(t,r),u=e.protocol||a.protocol,c=e.host||a.host,f=e.port||a.port||i;return new o.default(n(n({},e),{},{host:c,protocol:u,port:f}))},"object"===typeof globalThis?globalThis.Arweave=o.default:"object"===typeof self&&(self.Arweave=o.default),a(r(89839),t),t.default=o.default},11955:function(e,t,r){"use strict";var n=r(17061).default,i=r(42122).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(38416).default,c=r(16737).default,f=r(18186).default;Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(t){o(this,e),u(this,"METHOD_GET","GET"),u(this,"METHOD_POST","POST"),u(this,"config",void 0),this.applyConfig(t)}return s(e,[{key:"applyConfig",value:function(e){this.config=this.mergeDefaults(e)}},{key:"getConfig",value:function(){return this.config}},{key:"mergeDefaults",value:function(e){var t=e.protocol||"http",r=e.port||("https"===t?443:80);return{host:e.host||"127.0.0.1",protocol:t,port:r,timeout:e.timeout||2e4,logging:e.logging||!1,logger:e.logger||console.log,network:e.network}}},{key:"get",value:function(){var e=a(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(t,i(i({},r),{},{method:this.METHOD_GET}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=a(n().mark((function e(t,r,a){var o,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Headers((null===a||void 0===a?void 0:a.headers)||{}),null!==(o=s.get("content-type"))&&void 0!==o&&o.includes("application/json")||s.append("content-type","application/json"),s.append("accept","application/json, text/plain, */*"),e.next=5,this.request(t,i(i({},a),{},{method:this.METHOD_POST,body:"string"!==typeof r?JSON.stringify(r):r,headers:s}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=a(n().mark((function e(t,r){var o,s,u,c,f,l,d,p,v;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Headers((null===r||void 0===r?void 0:r.headers)||{}),u="".concat(this.config.protocol,"://").concat(this.config.host,":").concat(this.config.port),c=null===r||void 0===r?void 0:r.responseType,null===r||void 0===r||delete r.responseType,t.startsWith("/")&&(t=t.slice(1)),this.config.network&&s.append("x-network",this.config.network),this.config.logging&&this.config.logger("Requesting: ".concat(u,"/").concat(t)),e.next=9,fetch("".concat(u,"/").concat(t),i(i({},r||{}),{},{headers:s}));case 9:if(f=e.sent,this.config.logging&&this.config.logger("Response:   ".concat(f.url," - ").concat(f.status)),l=f.headers.get("content-type"),d=null===l||void 0===l||null===(o=l.match(/charset=([^()<>@,;:\"/[\]?.=\s]*)/i))||void 0===o?void 0:o[1],p=f,v=function(){var e=a(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=16;break}return e.prev=1,e.t0=new TextDecoder(d),e.next=5,f.arrayBuffer();case 5:e.t1=e.sent,p.data=e.t0.decode.call(e.t0,e.t1),e.next=14;break;case 9:return e.prev=9,e.t2=e.catch(1),e.next=13,f.text();case 13:p.data=e.sent;case 14:e.next=19;break;case 16:return e.next=18,f.text();case 18:p.data=e.sent;case 19:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),"arraybuffer"!==c){e.next=21;break}return e.next=18,f.arrayBuffer();case 18:p.data=e.sent,e.next=49;break;case 21:if("text"!==c){e.next=26;break}return e.next=24,v();case 24:e.next=49;break;case 26:if("webstream"!==c){e.next=30;break}p.data=h(f.body),e.next=49;break;case 30:return e.prev=30,e.next=33,f.clone().json();case 33:if("object"===typeof e.sent){e.next=39;break}return e.next=37,v();case 37:e.next=42;break;case 39:return e.next=41,f.json();case 41:p.data=e.sent;case 42:null,e.next=49;break;case 45:return e.prev=45,e.t0=e.catch(30),e.next=49,v();case 49:return e.abrupt("return",p);case 50:case"end":return e.stop()}}),e,this,[[30,45]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.default=l;var h=function(e){var t=e;return"undefined"===typeof t[Symbol.asyncIterator]?(t[Symbol.asyncIterator]=d(e),t):e},d=function(e){return function(){var t=f(n().mark((function t(){var r,i,a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.getReader(),t.prev=1;case 2:return t.next=5,c(r.read());case 5:if(i=t.sent,a=i.done,o=i.value,!a){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,o;case 12:t.next=2;break;case 14:return t.prev=14,r.releaseLock(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,,14,17]])})));return function(){return t.apply(this,arguments)}}()}},79151:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(43568),c=function(){function e(){if(a(this,e),s(this,"keyLength",4096),s(this,"publicExponent",65537),s(this,"hashAlgorithm","sha256"),s(this,"driver",void 0),!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}return o(e,[{key:"generateJWK",value:function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]);case 2:return t=e.sent,e.next=5,this.driver.exportKey("jwk",t.privateKey);case 5:return r=e.sent,e.abrupt("return",{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sign",value:function(){var e=i(n().mark((function e(t,r){var i,a=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a.length>2&&void 0!==a[2]?a[2]:{}).saltLength,e.t0=this.driver,e.t1={name:"RSA-PSS",saltLength:32},e.next=5,this.jwkToCryptoKey(t);case 5:return e.t2=e.sent,e.t3=r,e.next=9,e.t0.sign.call(e.t0,e.t1,e.t2,e.t3);case 9:return i=e.sent,e.abrupt("return",new Uint8Array(i));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"hash",value:function(){var e=i(n().mark((function e(t){var r,i,a=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"SHA-256",e.next=3,this.driver.digest(r,t);case 3:return i=e.sent,e.abrupt("return",new Uint8Array(i));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"verify",value:function(){var e=i(n().mark((function e(t,r,i){var a,o,s,u,c,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={kty:"RSA",e:"AQAB",n:t},e.next=3,this.jwkToPublicCryptoKey(a);case 3:return o=e.sent,e.next=6,this.driver.digest("SHA-256",r);case 6:return s=e.sent,e.next=9,this.driver.verify({name:"RSA-PSS",saltLength:0},o,i,r);case 9:return u=e.sent,e.next=12,this.driver.verify({name:"RSA-PSS",saltLength:32},o,i,r);case 12:return c=e.sent,e.next=15,this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((o.algorithm.modulusLength-1)/8)-s.byteLength-2},o,i,r);case 15:return f=e.sent,e.abrupt("return",u||c||f);case 17:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"jwkToCryptoKey",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"jwkToPublicCryptoKey",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"detectWebCrypto",value:function(){var e;if("undefined"===typeof crypto)return!1;var t=null===(e=crypto)||void 0===e?void 0:e.subtle;if(void 0===t)return!1;return["generateKey","importKey","exportKey","digest","sign"].every((function(e){return"function"===typeof t[e]}))}},{key:"encrypt",value:function(){var e=i(n().mark((function e(t,r,i){var a,o,s,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.importKey("raw","string"==typeof r?u.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]);case 2:return a=e.sent,e.next=5,this.driver.deriveKey({name:"PBKDF2",salt:i?u.stringToBuffer(i):u.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},a,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]);case 5:return o=e.sent,s=new Uint8Array(16),crypto.getRandomValues(s),e.next=10,this.driver.encrypt({name:"AES-CBC",iv:s},o,t);case 10:return c=e.sent,e.abrupt("return",u.concatBuffers([s,c]));case 12:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"decrypt",value:function(){var e=i(n().mark((function e(t,r,i){var a,o,s,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.importKey("raw","string"==typeof r?u.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]);case 2:return a=e.sent,e.next=5,this.driver.deriveKey({name:"PBKDF2",salt:i?u.stringToBuffer(i):u.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},a,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]);case 5:return o=e.sent,s=t.slice(0,16),e.next=9,this.driver.decrypt({name:"AES-CBC",iv:s},o,t.slice(16));case 9:return c=e.sent,e.abrupt("return",u.concatBuffers([c]));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.default=c},36520:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0});var a=r(89839);function o(e){return s.apply(this,arguments)}function s(){return(s=i(n().mark((function e(t){var r,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=10;break}return r=a.default.utils.concatBuffers([a.default.utils.stringToBuffer("list"),a.default.utils.stringToBuffer(t.length.toString())]),e.t0=u,e.t1=t,e.next=6,a.default.crypto.hash(r,"SHA-384");case 6:return e.t2=e.sent,e.next=9,(0,e.t0)(e.t1,e.t2);case 9:case 22:return e.abrupt("return",e.sent);case 10:return i=a.default.utils.concatBuffers([a.default.utils.stringToBuffer("blob"),a.default.utils.stringToBuffer(t.byteLength.toString())]),e.t3=a.default.utils,e.next=14,a.default.crypto.hash(i,"SHA-384");case 14:return e.t4=e.sent,e.next=17,a.default.crypto.hash(t,"SHA-384");case 17:return e.t5=e.sent,e.t6=[e.t4,e.t5],o=e.t3.concatBuffers.call(e.t3,e.t6),e.next=22,a.default.crypto.hash(o,"SHA-384");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t){return c.apply(this,arguments)}function c(){return(c=i(n().mark((function e(t,r){var i,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<1)){e.next=2;break}return e.abrupt("return",r);case 2:return e.t0=a.default.utils,e.t1=r,e.next=6,o(t[0]);case 6:return e.t2=e.sent,e.t3=[e.t1,e.t2],i=e.t0.concatBuffers.call(e.t0,e.t3),e.next=11,a.default.crypto.hash(i,"SHA-384");case 11:return s=e.sent,e.next=14,u(t.slice(1),s);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=o},98470:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(94993).default,o=r(66115).default,s=r(61655).default,u=r(26389).default,c=r(33496).default,f=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getError=void 0;var l=function(e){s(r,e);var t=u(r);function r(e){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,r),s.message?(i=t.call(this,s.message),f(o(i),"type",void 0),f(o(i),"response",void 0)):(i=t.call(this),f(o(i),"type",void 0),f(o(i),"response",void 0)),i.type=e,i.response=s.response,a(i)}return i(r,[{key:"getType",value:function(){return this.type}}]),r}(c(Error));t.default=l,t.getError=function(e){var t=e.data;if("string"===typeof e.data)try{t=JSON.parse(e.data)}catch(r){}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch(r){}return t?t.error||t:e.statusText||"unknown"}},75778:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(861).default,o=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.validatePath=t.arrayCompare=t.bufferToInt=t.intToBuffer=t.arrayFlatten=t.generateProofs=t.buildLayers=t.generateTransactionChunks=t.generateTree=t.computeRootHash=t.generateLeaves=t.chunkData=t.MIN_CHUNK_SIZE=t.MAX_CHUNK_SIZE=void 0;var s=r(89839),u=r(43568);t.MAX_CHUNK_SIZE=262144,t.MIN_CHUNK_SIZE=32768;var c=32,f=32;function l(e){return h.apply(this,arguments)}function h(){return(h=o(i().mark((function e(r){var n,a,o,u,c,f,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=r,o=0;case 3:if(!(a.byteLength>=t.MAX_CHUNK_SIZE)){e.next=16;break}return u=t.MAX_CHUNK_SIZE,(c=a.byteLength-t.MAX_CHUNK_SIZE)>0&&c<t.MIN_CHUNK_SIZE&&(u=Math.ceil(a.byteLength/2)),f=a.slice(0,u),e.next=10,s.default.crypto.hash(f);case 10:l=e.sent,o+=f.byteLength,n.push({dataHash:l,minByteRange:o-f.byteLength,maxByteRange:o}),a=a.slice(u),e.next=3;break;case 16:return e.t0=n,e.next=19,s.default.crypto.hash(a);case 19:return e.t1=e.sent,e.t2=o,e.t3=o+a.byteLength,e.t4={dataHash:e.t1,minByteRange:e.t2,maxByteRange:e.t3},e.t0.push.call(e.t0,e.t4),e.abrupt("return",n);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return p=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=o(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dataHash,n=t.minByteRange,a=t.maxByteRange,e.t0=S,e.next=4,Promise.all([S(r),S(M(a))]);case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:return e.t2=e.sent,e.t3=r,e.t4=n,e.t5=a,e.abrupt("return",{type:"leaf",id:e.t2,dataHash:e.t3,minByteRange:e.t4,maxByteRange:e.t5});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function v(){return(v=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return r=e.sent,e.abrupt("return",r.id);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return m.apply(this,arguments)}function m(){return(m=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.t1=d,e.next=4,l(t);case 4:return e.t2=e.sent,e.next=7,(0,e.t1)(e.t2);case 7:return e.t3=e.sent,e.next=10,(0,e.t0)(e.t3);case 10:return r=e.sent,e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=o(i().mark((function e(t){var r,n,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return r=e.sent,e.next=5,d(r);case 5:return n=e.sent,e.next=8,b(n);case 8:return a=e.sent,e.next=11,k(a);case 11:return o=e.sent,(s=r.slice(-1)[0]).maxByteRange-s.minByteRange===0&&(r.splice(r.length-1,1),o.splice(o.length-1,1)),e.abrupt("return",{data_root:a.id,chunks:r,proofs:o});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return w=o(i().mark((function e(t){var r,n,a,o,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:0,!(t.length<2)){e.next=4;break}return n=t[0],e.abrupt("return",n);case 4:a=[],o=0;case 6:if(!(o<t.length)){e.next=15;break}return e.t0=a,e.next=10,A(t[o],t[o+1]);case 10:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 12:o+=2,e.next=6;break;case 15:return e.abrupt("return",b(a,r+1));case 16:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function k(e){var t=_(e);return Array.isArray(t)?x(t):[t]}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("leaf"==e.type)return{offset:e.maxByteRange-1,proof:(0,u.concatBuffers)([t,e.dataHash,M(e.maxByteRange)])};if("branch"==e.type){var n=(0,u.concatBuffers)([t,e.leftChild.id,e.rightChild.id,M(e.byteRange)]);return[_(e.leftChild,n,r+1),_(e.rightChild,n,r+1)]}throw new Error("Unexpected node type")}function x(e){var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,a(x(e))):t.push(e)})),t}function A(e,t){return E.apply(this,arguments)}function E(){return(E=o(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",t);case 2:return e.t0=S,e.next=5,S(t.id);case 5:return e.t1=e.sent,e.next=8,S(r.id);case 8:return e.t2=e.sent,e.next=11,S(M(t.maxByteRange));case 11:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.next=15,(0,e.t0)(e.t4);case 15:return e.t5=e.sent,e.t6=t.maxByteRange,e.t7=r.maxByteRange,e.t8=t,e.t9=r,n={type:"branch",id:e.t5,byteRange:e.t6,maxByteRange:e.t7,leftChild:e.t8,rightChild:e.t9},e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return T.apply(this,arguments)}function T(){return(T=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(t)&&(t=s.default.utils.concatBuffers(t)),e.t0=Uint8Array,e.next=4,s.default.crypto.hash(t);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){for(var t=new Uint8Array(c),r=t.length-1;r>=0;r--){var n=e%256;t[r]=n,e=(e-n)/256}return t}function P(e){for(var t=0,r=0;r<e.length;r++)t*=256,t+=e[r];return t}t.chunkData=l,t.generateLeaves=d,t.computeRootHash=function(e){return v.apply(this,arguments)},t.generateTree=y,t.generateTransactionChunks=function(e){return g.apply(this,arguments)},t.buildLayers=b,t.generateProofs=k,t.arrayFlatten=x,t.intToBuffer=M,t.bufferToInt=P;function I(e,t,r,n,i){return N.apply(this,arguments)}function N(){return(N=o(i().mark((function e(r,n,a,o,s){var u,l,h,d,p,v,y,m,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o<=0)){e.next=2;break}return e.abrupt("return",!1);case 2:if(!(n>=o)){e.next=4;break}return e.abrupt("return",I(r,0,o-1,o,s));case 4:if(!(n<0)){e.next=6;break}return e.abrupt("return",I(r,0,0,o,s));case 6:if(s.length!=f+c){e.next=24;break}return u=s.slice(0,f),l=s.slice(u.length,u.length+c),e.t0=S,e.next=12,S(u);case 12:return e.t1=e.sent,e.next=15,S(l);case 15:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=19,(0,e.t0)(e.t3);case 19:if(h=e.sent,!(0,t.arrayCompare)(r,h)){e.next=23;break}return e.abrupt("return",{offset:o-1,leftBound:a,rightBound:o,chunkSize:o-a});case 23:case 51:return e.abrupt("return",!1);case 24:return d=s.slice(0,f),p=s.slice(d.length,d.length+f),v=s.slice(d.length+p.length,d.length+p.length+c),y=P(v),m=s.slice(d.length+p.length+v.length),e.t4=S,e.next=32,S(d);case 32:return e.t5=e.sent,e.next=35,S(p);case 35:return e.t6=e.sent,e.next=38,S(v);case 38:return e.t7=e.sent,e.t8=[e.t5,e.t6,e.t7],e.next=42,(0,e.t4)(e.t8);case 42:if(g=e.sent,!(0,t.arrayCompare)(r,g)){e.next=51;break}if(!(n<y)){e.next=48;break}return e.next=47,I(d,n,a,Math.min(o,y),m);case 47:case 50:return e.abrupt("return",e.sent);case 48:return e.next=50,I(p,n,Math.max(a,y),o,m);case 52:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return O.apply(this,arguments)}function O(){return O=o(i().mark((function e(t){var r,a,o,s,u,l,h,d,p=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:"",!(t.byteLength<1)){e.next=3;break}return e.abrupt("return",r);case 3:return a=t.slice(0,f),o=t.slice(a.length,a.length+f),s=t.slice(a.length+o.length,a.length+o.length+c),u=P(s),l=t.slice(a.length+o.length+s.length),e.t0=S,e.next=11,S(a);case 11:return e.t1=e.sent,e.next=14,S(o);case 14:return e.t2=e.sent,e.next=17,S(s);case 17:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.next=21,(0,e.t0)(e.t4);case 21:return h=e.sent,d="".concat(r,"\n").concat(JSON.stringify(n.from(a)),",").concat(JSON.stringify(n.from(o)),",").concat(u," => ").concat(JSON.stringify(h)),e.abrupt("return",C(l,d));case 24:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}t.arrayCompare=function(e,t){return e.every((function(e,r){return t[r]===e}))},t.validatePath=I,t.debug=C},56380:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionUploader=void 0;var u=r(23872),c=r(43568),f=r(98470),l=r(75778),h=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],d=function(){function e(t,r){if(a(this,e),s(this,"api",void 0),s(this,"chunkIndex",0),s(this,"txPosted",!1),s(this,"transaction",void 0),s(this,"lastRequestTimeEnd",0),s(this,"totalErrors",0),s(this,"data",void 0),s(this,"lastResponseStatus",0),s(this,"lastResponseError",""),this.api=t,!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.data=r.data,this.transaction=new u.default(Object.assign({},r,{data:new Uint8Array(0)}))}return o(e,[{key:"isComplete",get:function(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}},{key:"totalChunks",get:function(){return this.transaction.chunks.chunks.length}},{key:"uploadedChunks",get:function(){return this.chunkIndex}},{key:"pctComplete",get:function(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}},{key:"uploadChunk",value:function(){var e=i(n().mark((function e(t){var r,i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isComplete){e.next=2;break}throw new Error("Upload is already complete");case 2:if(""!==this.lastResponseError?this.totalErrors++:this.totalErrors=0,100!==this.totalErrors){e.next=5;break}throw new Error("Unable to complete upload: ".concat(this.lastResponseStatus,": ").concat(this.lastResponseError));case 5:if(!((r=""===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+4e4-Date.now(),4e4))>0)){e.next=10;break}return r-=r*Math.random()*.3,e.next=10,new Promise((function(e){return setTimeout(e,r)}));case 10:if(this.lastResponseError="",this.txPosted){e.next=15;break}return e.next=14,this.postTransaction();case 14:return e.abrupt("return");case 15:return t&&(this.chunkIndex=t),i=this.transaction.getChunk(t||this.chunkIndex,this.data),e.next=19,(0,l.validatePath)(this.transaction.chunks.data_root,parseInt(i.offset),0,parseInt(i.data_size),c.b64UrlToBuffer(i.data_path));case 19:if(e.sent){e.next=22;break}throw new Error("Unable to validate chunk ".concat(this.chunkIndex));case 22:return e.next=24,this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch((function(e){return console.error(e.message),{status:-1,data:{error:e.message}}}));case 24:if(a=e.sent,this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=a.status,200!=this.lastResponseStatus){e.next=31;break}this.chunkIndex++,e.next=34;break;case 31:if(this.lastResponseError=(0,f.getError)(a),!h.includes(this.lastResponseError)){e.next=34;break}throw new Error("Fatal error uploading chunk ".concat(this.chunkIndex,": ").concat(this.lastResponseError));case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}},{key:"postTransaction",value:function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.totalChunks<=1)){e.next=15;break}return this.transaction.data=this.data,e.next=5,this.api.post("tx",this.transaction).catch((function(e){return console.error(e),{status:-1,data:{error:e.message}}}));case 5:if(t=e.sent,this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,this.transaction.data=new Uint8Array(0),!(t.status>=200&&t.status<300)){e.next=13;break}return this.txPosted=!0,this.chunkIndex=1,e.abrupt("return");case 13:throw this.lastResponseError=(0,f.getError)(t),new Error("Unable to upload transaction: ".concat(t.status,", ").concat(this.lastResponseError));case 15:return e.next=17,this.api.post("tx",this.transaction);case 17:if(r=e.sent,this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,r.status>=200&&r.status<300){e.next=23;break}throw this.lastResponseError=(0,f.getError)(r),new Error("Unable to upload transaction: ".concat(r.status,", ").concat(this.lastResponseError));case 23:this.txPosted=!0;case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromSerialized",value:function(){var t=i(n().mark((function t(r,i,a){var o,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&"number"===typeof i.chunkIndex&&"object"===typeof i.transaction){t.next=2;break}throw new Error("Serialized object does not match expected format.");case 2:if((o=new u.default(i.transaction)).chunks){t.next=6;break}return t.next=6,o.prepareChunks(a);case 6:if((s=new e(r,o)).chunkIndex=i.chunkIndex,s.lastRequestTimeEnd=i.lastRequestTimeEnd,s.lastResponseError=i.lastResponseError,s.lastResponseStatus=i.lastResponseStatus,s.txPosted=i.txPosted,s.data=a,s.transaction.data_root===i.transaction.data_root){t.next=15;break}throw new Error("Data mismatch: Uploader doesn't match provided data.");case 15:return t.abrupt("return",s);case 16:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"fromTransactionId",value:function(){var e=i(n().mark((function e(t,r){var i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("tx/".concat(r));case 2:if(200===(i=e.sent).status){e.next=5;break}throw new Error("Tx ".concat(r," not found: ").concat(i.status));case 5:return(a=i.data).data=new Uint8Array(0),o={txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:a},e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.TransactionUploader=d},23872:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(66115).default,o=r(61655).default,s=r(26389).default,u=r(38416).default,c=r(56690).default,f=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=void 0;var l=r(43568),h=r(36520),d=r(75778),p=function(){function e(){c(this,e)}return f(e,[{key:"get",value:function(e,t){if(!Object.getOwnPropertyNames(this).includes(e))throw new Error('Field "'.concat(e,'" is not a property of the Arweave Transaction class.'));if(this[e]instanceof Uint8Array)return t&&t.decode&&t.string?l.bufferToString(this[e]):t&&t.decode&&!t.string?this[e]:l.bufferTob64Url(this[e]);if(this[e]instanceof Array){if(void 0!==(null===t||void 0===t?void 0:t.decode)||void 0!==(null===t||void 0===t?void 0:t.string))throw"tags"===e&&console.warn("Did you mean to use 'transaction[\"tags\"]' ?"),new Error("Cannot decode or stringify an array.");return this[e]}return t&&1==t.decode?t&&t.string?l.b64UrlToString(this[e]):l.b64UrlToBuffer(this[e]):this[e]}}]),e}(),v=function(e){o(r,e);var t=s(r);function r(e,n){var i;return c(this,r),i=t.call(this),u(a(i),"name",void 0),u(a(i),"value",void 0),i.name=e,i.value=n,i}return f(r)}(p);t.Tag=v;var y=function(e){o(r,e);var t=s(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(this,r),e=t.call(this),u(a(e),"format",2),u(a(e),"id",""),u(a(e),"last_tx",""),u(a(e),"owner",""),u(a(e),"tags",[]),u(a(e),"target",""),u(a(e),"quantity","0"),u(a(e),"data_size","0"),u(a(e),"data",new Uint8Array),u(a(e),"data_root",""),u(a(e),"reward","0"),u(a(e),"signature",""),u(a(e),"chunks",void 0),Object.assign(a(e),n),"string"===typeof e.data&&(e.data=l.b64UrlToBuffer(e.data)),n.tags&&(e.tags=n.tags.map((function(e){return new v(e.name,e.value)}))),e}return f(r,[{key:"addTag",value:function(e,t){this.tags.push(new v(l.stringToB64Url(e),l.stringToB64Url(t)))}},{key:"toJSON",value:function(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:l.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}},{key:"setOwner",value:function(e){this.owner=e}},{key:"setSignature",value:function(e){var t=e.id,r=e.owner,n=e.reward,i=e.tags,a=e.signature;this.id=t,this.owner=r,n&&(this.reward=n),i&&(this.tags=i),this.signature=a}},{key:"prepareChunks",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.chunks||!(t.byteLength>0)){e.next=5;break}return e.next=3,(0,d.generateTransactionChunks)(t);case 3:this.chunks=e.sent,this.data_root=l.bufferTob64Url(this.chunks.data_root);case 5:this.chunks||0!==t.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChunk",value:function(e,t){if(!this.chunks)throw new Error("Chunks have not been prepared");var r=this.chunks.proofs[e],n=this.chunks.chunks[e];return{data_root:this.data_root,data_size:this.data_size,data_path:l.bufferTob64Url(r.proof),offset:r.offset.toString(),chunk:l.bufferTob64Url(t.slice(n.minByteRange,n.maxByteRange))}}},{key:"getSignatureData",value:function(){var e=i(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.format,e.next=1===e.t0?3:2===e.t0?5:12;break;case 3:return t=this.tags.reduce((function(e,t){return l.concatBuffers([e,t.get("name",{decode:!0,string:!1}),t.get("value",{decode:!0,string:!1})])}),new Uint8Array),e.abrupt("return",l.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),l.stringToBuffer(this.quantity),l.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]));case 5:if(this.data_root){e.next=8;break}return e.next=8,this.prepareChunks(this.data);case 8:return r=this.tags.map((function(e){return[e.get("name",{decode:!0,string:!1}),e.get("value",{decode:!0,string:!1})]})),e.next=11,(0,h.default)([l.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),l.stringToBuffer(this.quantity),l.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),r,l.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);case 11:return e.abrupt("return",e.sent);case 12:throw new Error("Unexpected transaction format: ".concat(this.format));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(p);t.default=y},43568:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.b64UrlDecode=t.b64UrlEncode=t.bufferTob64Url=t.bufferTob64=t.b64UrlToBuffer=t.stringToB64Url=t.stringToBuffer=t.bufferToString=t.b64UrlToString=t.concatBuffers=void 0;var n=r(2009);function i(e){return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function a(e){return(new TextEncoder).encode(e)}function o(e){return new Uint8Array(n.toByteArray(f(e)))}function s(e){return n.fromByteArray(new Uint8Array(e))}function u(e){return c(s(e))}function c(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function f(e){var t;return t=(e=e.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-e.length%4,e.concat("=".repeat(t))}t.concatBuffers=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].byteLength;var n=new Uint8Array(t),i=0;n.set(new Uint8Array(e[0]),i),i+=e[0].byteLength;for(var a=1;a<e.length;a++)n.set(new Uint8Array(e[a]),i),i+=e[a].byteLength;return n},t.b64UrlToString=function(e){return i(o(e))},t.bufferToString=i,t.stringToBuffer=a,t.stringToB64Url=function(e){return u(a(e))},t.b64UrlToBuffer=o,t.bufferTob64=s,t.bufferTob64Url=u,t.b64UrlEncode=c,t.b64UrlDecode=f},68963:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultConfig=void 0;t.getDefaultConfig=function(e,t){if(function(e,t){var r=/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,n=t.split("."),i=n[n.length-1],a=["localhost","[::1]"];return a.includes(t)||"file"==e||a.includes(i)||!!t.match(r)||!!i.match(r)}(e,t))return{protocol:"https",host:"arweave.net",port:443};if(!function(e){var t="["===e.charAt(0);return!!e.match(/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/)||t}(t)){var r=t.split(".");if(r.length>=3)return r.shift(),{protocol:e,host:r.join(".")}}return{protocol:e,host:t}}},15739:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){n(this,e),a(this,"api",void 0),this.api=t}return i(e,[{key:"getInfo",value:function(){return this.api.get("info").then((function(e){return e.data}))}},{key:"getPeers",value:function(){return this.api.get("peers").then((function(e){return e.data}))}}]),e}();t.default=o},68165:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SiloResource=void 0;var u=r(43568),c=function(){function e(t,r,n){a(this,e),s(this,"api",void 0),s(this,"crypto",void 0),s(this,"transactions",void 0),this.api=t,this.crypto=r,this.transactions=n}return o(e,[{key:"get",value:function(){var e=i(n().mark((function e(t){var r,i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("No Silo URI specified");case 2:return e.next=4,this.parseUri(t);case 4:return r=e.sent,e.next=7,this.transactions.search("Silo-Name",r.getAccessKey());case 7:if(0!=(i=e.sent).length){e.next=10;break}throw new Error("No data could be found for the Silo URI: ".concat(t));case 10:return e.next=12,this.transactions.get(i[0]);case 12:if(a=e.sent){e.next=15;break}throw new Error("No data could be found for the Silo URI: ".concat(t));case 15:return o=a.get("data",{decode:!0,string:!1}),e.abrupt("return",this.crypto.decrypt(o,r.getEncryptionKey()));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readTransactionData",value:function(){var e=i(n().mark((function e(t,r){var i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("No Silo URI specified");case 2:return e.next=4,this.parseUri(r);case 4:return i=e.sent,a=t.get("data",{decode:!0,string:!1}),e.abrupt("return",this.crypto.decrypt(a,i.getEncryptionKey()));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"parseUri",value:function(){var e=i(n().mark((function e(t){var r,i,a,o,s,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i)){e.next=3;break}throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");case 3:return i=r[1],a=Math.pow(2,parseInt(r[2])),e.next=7,this.hash(u.stringToBuffer(i),a);case 7:return o=e.sent,s=u.bufferTob64(o.slice(0,15)),e.next=11,this.hash(o.slice(16,31),1);case 11:return c=e.sent,e.abrupt("return",new f(t,s,c));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hash",value:function(){var e=i(n().mark((function e(t,r){var i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.crypto.hash(t);case 2:i=e.sent,a=0;case 4:if(!(a<r-1)){e.next=11;break}return e.next=7,this.crypto.hash(i);case 7:i=e.sent;case 8:a++,e.next=4;break;case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.default=c;var f=function(){function e(t,r,n){a(this,e),s(this,"uri",void 0),s(this,"accessKey",void 0),s(this,"encryptionKey",void 0),this.uri=t,this.accessKey=r,this.encryptionKey=n}return o(e,[{key:"getUri",value:function(){return this.uri}},{key:"getAccessKey",value:function(){return this.accessKey}},{key:"getEncryptionKey",value:function(){return this.encryptionKey}}]),e}();t.SiloResource=f},58164:function(e,t,r){"use strict";var n=r(42122).default,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(38416).default,c=r(16737).default,f=r(18186).default;Object.defineProperty(t,"__esModule",{value:!0});var l=r(98470),h=r(23872),d=r(43568),p=r(56380);r(26807);var v=function(){function e(t,r,n){o(this,e),u(this,"api",void 0),u(this,"crypto",void 0),u(this,"chunks",void 0),this.api=t,this.crypto=r,this.chunks=n}return s(e,[{key:"getTransactionAnchor",value:function(){var e=a(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("tx_anchor");case 2:if((t=e.sent).data.match(/^[a-z0-9_-]{43,}/i)&&t.ok){e.next=5;break}throw new Error("Could not getTransactionAnchor. Received: ".concat(t.data,". Status: ").concat(t.status,", ").concat(t.statusText));case 5:return e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(){var e=a(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r?"price/".concat(t,"/").concat(r):"price/".concat(t),e.next=3,this.api.get(n);case 3:if(a=e.sent,/^\d+$/.test(a.data)&&a.ok){e.next=6;break}throw new Error("Could not getPrice. Received: ".concat(a.data,". Status: ").concat(a.status,", ").concat(a.statusText));case 6:return e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=a(i().mark((function e(t){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("tx/".concat(t));case 2:if(200!=(r=e.sent).status){e.next=11;break}if(a=parseInt(r.data.data_size),!(r.data.format>=2&&a>0&&a<=12582912)){e.next=10;break}return e.next=8,this.getData(t);case 8:return o=e.sent,e.abrupt("return",new h.default(n(n({},r.data),{},{data:o})));case 10:return e.abrupt("return",new h.default(n(n({},r.data),{},{format:r.data.format||1})));case 11:if(404!=r.status){e.next=13;break}throw new l.default("TX_NOT_FOUND");case 13:if(410!=r.status){e.next=15;break}throw new l.default("TX_FAILED");case 15:throw new l.default("TX_INVALID");case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromRaw",value:function(e){return new h.default(e)}},{key:"search",value:function(){var e=a(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.api.post("arql",{op:"equals",expr1:t,expr2:r}).then((function(e){return e.data?e.data:[]})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getStatus",value:function(e){return this.api.get("tx/".concat(e,"/status")).then((function(e){return 200==e.status?{status:200,confirmed:e.data}:{status:e.status,confirmed:null}}))}},{key:"getData",value:function(){var e=a(i().mark((function e(t,r){var n,a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0,e.prev=1,e.next=4,this.chunks.downloadChunkedData(t);case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error while trying to download chunked data for ".concat(t)),console.error(e.t0);case 11:if(n){e.next=30;break}return console.warn("Falling back to gateway cache for ".concat(t)),e.prev=13,e.next=16,this.api.get("/".concat(t),{responseType:"arraybuffer"});case 16:if(a=e.sent,o=a.data,s=a.ok,u=a.status,c=a.statusText,s){e.next=23;break}throw new Error("Bad http status code",{cause:{status:u,statusText:c}});case 23:n=o,e.next=30;break;case 26:e.prev=26,e.t1=e.catch(13),console.error("Error while trying to download contiguous data from gateway cache for ".concat(t)),console.error(e.t1);case 30:if(n){e.next=32;break}throw new Error("".concat(t," data was not found!"));case 32:if(!r||!r.decode||r.string){e.next=34;break}return e.abrupt("return",n);case 34:if(!(r&&r.decode&&r.string)){e.next=36;break}return e.abrupt("return",d.bufferToString(n));case 36:return e.abrupt("return",d.bufferTob64Url(n));case 37:case"end":return e.stop()}}),e,this,[[1,7],[13,26]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sign",value:function(){var e=a(i().mark((function e(t,r,n){var a,o,s,u,c,f,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e){var t=!0;return["n","e","d","p","q","dp","dq","qi"].map((function(r){return!(r in e)&&(t=!1)})),t},o="object"===typeof r&&a(r),s="object"===typeof arweaveWallet,o||s){e.next=7;break}throw new Error("No valid JWK or external wallet found to sign transaction.");case 7:if(!s){e.next=25;break}return e.prev=8,e.next=11,arweaveWallet.getPermissions();case 11:if(e.sent.includes("SIGN_TRANSACTION")){e.next=15;break}return e.next=15,arweaveWallet.connect(["SIGN_TRANSACTION"]);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(8);case 19:return e.next=21,arweaveWallet.sign(t,n);case 21:u=e.sent,t.setSignature({id:u.id,owner:u.owner,reward:u.reward,tags:u.tags,signature:u.signature}),e.next=40;break;case 25:if(!o){e.next=39;break}return t.setOwner(r.n),e.next=29,t.getSignatureData();case 29:return c=e.sent,e.next=32,this.crypto.sign(r,c,n);case 32:return f=e.sent,e.next=35,this.crypto.hash(f);case 35:l=e.sent,t.setSignature({id:d.bufferTob64Url(l),owner:r.n,signature:d.bufferTob64Url(f)}),e.next=40;break;case 39:throw new Error("An error occurred while signing. Check wallet is valid");case 40:case"end":return e.stop()}}),e,this,[[8,17]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"verify",value:function(){var e=a(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSignatureData();case 2:return r=e.sent,n=t.get("signature",{decode:!0,string:!1}),e.t0=d,e.next=7,this.crypto.hash(n);case 7:if(e.t1=e.sent,a=e.t0.bufferTob64Url.call(e.t0,e.t1),t.id===a){e.next=11;break}throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");case 11:return e.abrupt("return",this.crypto.verify(t.owner,r,n));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t?t=new h.default(JSON.parse(t)):"function"===typeof t.readInt32BE?t=new h.default(JSON.parse(t.toString())):"object"!==typeof t||t instanceof h.default||(t=new h.default(t)),t instanceof h.default){e.next=3;break}throw new Error("Must be Transaction object");case 3:if(t.chunks){e.next=6;break}return e.next=6,t.prepareChunks(t.data);case 6:return e.next=8,this.getUploader(t,t.data);case 8:r=e.sent,e.prev=9;case 10:if(r.isComplete){e.next=15;break}return e.next=13,r.uploadChunk();case 13:e.next=10;break;case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(9),!(r.lastResponseStatus>0)){e.next=21;break}return e.abrupt("return",{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}});case 21:throw e.t0;case 22:return e.abrupt("return",{status:200,statusText:"OK",data:{}});case 23:case"end":return e.stop()}}),e,this,[[9,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUploader",value:function(){var e=a(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(t instanceof h.default)){e.next=12;break}if(r||(r=t.data),r instanceof Uint8Array){e.next=5;break}throw new Error("Data format is invalid");case 5:if(t.chunks){e.next=8;break}return e.next=8,t.prepareChunks(r);case 8:(n=new p.TransactionUploader(this.api,t)).data&&0!==n.data.length||(n.data=r),e.next=21;break;case 12:if("string"!==typeof t){e.next=16;break}return e.next=15,p.TransactionUploader.fromTransactionId(this.api,t);case 15:t=e.sent;case 16:if(r&&r instanceof Uint8Array){e.next=18;break}throw new Error("Must provide data when resuming upload");case 18:return e.next=20,p.TransactionUploader.fromSerialized(this.api,t,r);case 20:n=e.sent;case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"upload",value:function(e,t){var r=this;return f(i().mark((function n(){var a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c(r.getUploader(e,t));case 2:a=n.sent;case 3:if(a.isComplete){n.next=10;break}return n.next=6,c(a.uploadChunk());case 6:return n.next=8,a;case 8:n.next=3;break;case 10:return n.abrupt("return",a);case 11:case"end":return n.stop()}}),n)})))()}}]),e}();t.default=v},87073:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(43568);r(26807);var c=function(){function e(t,r){a(this,e),s(this,"api",void 0),s(this,"crypto",void 0),this.api=t,this.crypto=r}return o(e,[{key:"getBalance",value:function(e){return this.api.get("wallet/".concat(e,"/balance")).then((function(e){return e.data}))}},{key:"getLastTransactionID",value:function(e){return this.api.get("wallet/".concat(e,"/last_tx")).then((function(e){return e.data}))}},{key:"generate",value:function(){return this.crypto.generateJWK()}},{key:"jwkToAddress",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"use_wallet"!==t){e.next=4;break}return e.abrupt("return",this.getAddress());case 4:return e.abrupt("return",this.getAddress(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAddress",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"use_wallet"!==t){e.next=11;break}return e.prev=1,e.next=4,arweaveWallet.connect(["ACCESS_ADDRESS"]);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",arweaveWallet.getActiveAddress());case 11:return e.abrupt("return",this.ownerToAddress(t.n));case 12:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"ownerToAddress",value:function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,this.crypto.hash(u.b64UrlToBuffer(t));case 3:return e.t1=e.sent,e.abrupt("return",e.t0.bufferTob64Url.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=c},52176:function(e,t,r){var n=r(99158);e.exports=function(e,t){return new Promise((function(r,i){var a,o=t||{};function s(e){i(e||new Error("Aborted"))}function u(e,t){e.bail?s(e):a.retry(e)?o.onRetry&&o.onRetry(e,t):i(a.mainError())}"randomize"in o||(o.randomize=!0),(a=n.operation(o)).attempt((function(t){var n;try{n=e(s,t)}catch(i){return void u(i,t)}Promise.resolve(n).then(r).catch((function(e){u(e,t)}))}))}))}},35180:function(e,t,r){"use strict";var n=r(60208),i=r(36975),a=r(51394),o=r(76338);e.exports={Service:i.Service,assembleProtocol:a.assembleProtocol,discoverProtocol:i.discoverProtocol,parse:function(e,t){var r=a.read(e);return r.protocol?i.Service.forProtocol(r,t):n.Type.forSchema(r,t)},readProtocol:a.readProtocol,readSchema:a.readSchema},o.copyOwnProperties(n,e.exports)},60208:function(e,t,r){"use strict";var n=r(93127);e.exports={Type:n.Type,parse:function(e,t){var r;if("string"==typeof e)try{r=JSON.parse(e)}catch(i){r=e}else r=e;return n.Type.forSchema(r,t)},types:n.builtins,combine:n.Type.forTypes,infer:n.Type.forValue}},94081:function(e,t,r){"use strict";var n=r(35180),i=r(97150),a=r(76338),o=r(41064),s=r(49639);function u(e,t){o.Readable.call(this),t=t||{},this._batchSize=t.batchSize||65536,this._blob=e,this._pos=0}function c(){o.Transform.call(this,{readableObjectMode:!0}),this._bufs=[]}s.inherits(u,o.Readable),u.prototype._read=function(){var e=this._pos;if(e>=this._blob.size)this.push(null);else{this._pos+=this._batchSize;var t=this._blob.slice(e,this._pos,this._blob.type),r=new FileReader,n=this;r.addEventListener("loadend",(function e(t){r.removeEventListener("loadend",e,!1),t.error?n.emit("error",t.error):n.push(a.bufferFrom(r.result))}),!1),r.readAsArrayBuffer(t)}},s.inherits(c,o.Transform),c.prototype._transform=function(e,t,r){this._bufs.push(e),r()},c.prototype._flush=function(e){this.push(new Blob(this._bufs,{type:"application/octet-binary"})),e()},e.exports={createBlobDecoder:function(e,t){return new u(e).pipe(new i.streams.BlockDecoder(t))},createBlobEncoder:function(e,t){var r=new i.streams.BlockEncoder(e,t),n=new c;return r.pipe(n),new o.Duplex({objectMode:!0,read:function(){var e=n.read();e?r(e):n.once("readable",r);var t=this;function r(e){t.push(e||n.read()),t.push(null)}},write:function(e,t,n){return r.write(e,t,n)}}).on("finish",(function(){r.end()}))},streams:i.streams},a.copyOwnProperties(n,e.exports)},18138:function(e,t,r){"use strict";var n=r(19778).Buffer;function i(){this.data=void 0}function a(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=s(r,n,i,a,t[0],7,-680876936),a=s(a,r,n,i,t[1],12,-389564586),i=s(i,a,r,n,t[2],17,606105819),n=s(n,i,a,r,t[3],22,-1044525330),r=s(r,n,i,a,t[4],7,-176418897),a=s(a,r,n,i,t[5],12,1200080426),i=s(i,a,r,n,t[6],17,-1473231341),n=s(n,i,a,r,t[7],22,-45705983),r=s(r,n,i,a,t[8],7,1770035416),a=s(a,r,n,i,t[9],12,-1958414417),i=s(i,a,r,n,t[10],17,-42063),n=s(n,i,a,r,t[11],22,-1990404162),r=s(r,n,i,a,t[12],7,1804603682),a=s(a,r,n,i,t[13],12,-40341101),i=s(i,a,r,n,t[14],17,-1502002290),r=u(r,n=s(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=u(a,r,n,i,t[6],9,-1069501632),i=u(i,a,r,n,t[11],14,643717713),n=u(n,i,a,r,t[0],20,-373897302),r=u(r,n,i,a,t[5],5,-701558691),a=u(a,r,n,i,t[10],9,38016083),i=u(i,a,r,n,t[15],14,-660478335),n=u(n,i,a,r,t[4],20,-405537848),r=u(r,n,i,a,t[9],5,568446438),a=u(a,r,n,i,t[14],9,-1019803690),i=u(i,a,r,n,t[3],14,-187363961),n=u(n,i,a,r,t[8],20,1163531501),r=u(r,n,i,a,t[13],5,-1444681467),a=u(a,r,n,i,t[2],9,-51403784),i=u(i,a,r,n,t[7],14,1735328473),r=c(r,n=u(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=c(a,r,n,i,t[8],11,-2022574463),i=c(i,a,r,n,t[11],16,1839030562),n=c(n,i,a,r,t[14],23,-35309556),r=c(r,n,i,a,t[1],4,-1530992060),a=c(a,r,n,i,t[4],11,1272893353),i=c(i,a,r,n,t[7],16,-155497632),n=c(n,i,a,r,t[10],23,-1094730640),r=c(r,n,i,a,t[13],4,681279174),a=c(a,r,n,i,t[0],11,-358537222),i=c(i,a,r,n,t[3],16,-722521979),n=c(n,i,a,r,t[6],23,76029189),r=c(r,n,i,a,t[9],4,-640364487),a=c(a,r,n,i,t[12],11,-421815835),i=c(i,a,r,n,t[15],16,530742520),r=f(r,n=c(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=f(a,r,n,i,t[7],10,1126891415),i=f(i,a,r,n,t[14],15,-1416354905),n=f(n,i,a,r,t[5],21,-57434055),r=f(r,n,i,a,t[12],6,1700485571),a=f(a,r,n,i,t[3],10,-1894986606),i=f(i,a,r,n,t[10],15,-1051523),n=f(n,i,a,r,t[1],21,-2054922799),r=f(r,n,i,a,t[8],6,1873313359),a=f(a,r,n,i,t[15],10,-30611744),i=f(i,a,r,n,t[6],15,-1560198380),n=f(n,i,a,r,t[13],21,1309151649),r=f(r,n,i,a,t[4],6,-145523070),a=f(a,r,n,i,t[11],10,-1120210379),i=f(i,a,r,n,t[2],15,718787259),n=f(n,i,a,r,t[9],21,-343485551),e[0]=h(r,e[0]),e[1]=h(n,e[1]),e[2]=h(i,e[2]),e[3]=h(a,e[3])}function o(e,t,r,n,i,a){return t=h(h(t,e),h(n,a)),h(t<<i|t>>>32-i,r)}function s(e,t,r,n,i,a,s){return o(t&r|~t&n,e,t,i,a,s)}function u(e,t,r,n,i,a,s){return o(t&n|r&~n,e,t,i,a,s)}function c(e,t,r,n,i,a,s){return o(t^r^n,e,t,i,a,s)}function f(e,t,r,n,i,a,s){return o(r^(t|~n),e,t,i,a,s)}function l(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function h(e,t){return e+t&4294967295}i.prototype.end=function(e){this.data=e},i.prototype.read=function(){return function(e){var t,r=function(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)a(n,l(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(a(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,a(n,i),n}(e),i=n.alloc?n.alloc(16):new n(16);for(t=0;t<4;t++)i.writeIntLE(r[t],4*t,4);return i}(this.data)},e.exports={createHash:function(e){if("md5"!==e)throw new Error("only md5 is supported in the browser");return new i}}},33051:function(e){"use strict";function t(){return new Error("unsupported in the browser")}e.exports={createImportHook:function(){return function(e,r,n){n(t())}},createSyncImportHook:function(){return function(){throw t()}},existsSync:function(){return!1},readFileSync:function(){throw t()}}},97150:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(1426),a=r(93127),o=r(76338),s=r(41064),u=r(49639),c=r(56841),f={namespace:"org.apache.avro.file"},l=a.Type.forSchema("long",f),h=a.Type.forSchema({type:"map",values:"bytes"},f),d=a.Type.forSchema({name:"Header",type:"record",fields:[{name:"magic",type:{type:"fixed",name:"Magic",size:4}},{name:"meta",type:h},{name:"sync",type:{type:"fixed",name:"Sync",size:16}}]},f),p=a.Type.forSchema({name:"Block",type:"record",fields:[{name:"count",type:"long"},{name:"data",type:"bytes"},{name:"sync",type:"Sync"}]},f),v=o.bufferFrom("Obj\x01"),y=u.format,m=o.Tap;function g(e,t){var r=!!(t=t||{}).noDecode;s.Duplex.call(this,{readableObjectMode:!r,allowHalfOpen:!1}),this._type=a.Type.forSchema(e),this._tap=new m(o.newBuffer(0)),this._writeCb=null,this._needPush=!1,this._readValue=A(r,this._type),this._finished=!1,this.on("finish",(function(){this._finished=!0,this._read()}))}function b(e){var t=!!(e=e||{}).noDecode;s.Duplex.call(this,{allowHalfOpen:!0,readableObjectMode:!t}),this._rType=void 0!==e.readerSchema?a.Type.forSchema(e.readerSchema):void 0,this._wType=null,this._codecs=e.codecs,this._codec=void 0,this._parseHook=e.parseHook,this._tap=new m(o.newBuffer(0)),this._blockTap=new m(o.newBuffer(0)),this._syncMarker=null,this._readValue=null,this._noDecode=t,this._queue=new o.OrderedQueue,this._decompress=null,this._index=0,this._remaining=void 0,this._needPush=!1,this._finished=!1,this.on("finish",(function(){this._finished=!0,this._needPush&&this._read()}))}function w(e,t){t=t||{},s.Transform.call(this,{writableObjectMode:!0,allowHalfOpen:!1}),this._type=a.Type.forSchema(e),this._writeValue=function(e,t){try{this._type._write(e,t)}catch(r){this.emit("error",r)}},this._tap=new m(o.newBuffer(t.batchSize||65536))}function k(e,t){var r;if(t=t||{},s.Duplex.call(this,{allowHalfOpen:!0,writableObjectMode:!0}),a.Type.isType(e)?(r=e,e=void 0):r=a.Type.forSchema(e),this._schema=e,this._type=r,this._writeValue=function(e,t){try{this._type._write(e,t)}catch(r){this.emit("error",r)}},this._blockSize=t.blockSize||65536,this._tap=new m(o.newBuffer(this._blockSize)),this._codecs=t.codecs,this._codec=t.codec||"null",this._blockCount=0,this._syncMarker=t.syncMarker||(new o.Lcg).nextBuffer(16),this._queue=new o.OrderedQueue,this._pending=0,this._finished=!1,this._needHeader=!1,this._needPush=!1,this._metadata=t.metadata||{},!h.isValid(this._metadata))throw new Error("invalid metadata");var n=this._codec;if(this._compress=(this._codecs||k.getDefaultCodecs())[n],!this._compress)throw new Error(y("unsupported codec: %s",n));switch(void 0!==t.omitHeader&&(t.writeHeader=t.omitHeader?"never":"auto"),t.writeHeader){case!1:case"never":break;case void 0:case"auto":this._needHeader=!0;break;default:this._writeHeader()}this.on("finish",(function(){this._finished=!0,this._blockCount?this._flushChunk():this._finished&&this._needPush&&this.push(null)}))}function _(e,t,r,n){this.index=e,this.buf=t,this.cb=r,this.count=0|n}function x(e){var t=e.pos,r=p._read(e);return e.isValid()?r:(e.pos=t,null)}function A(e,t,r){if(e)return i=t._skip,function(e){var t=e.pos;return i(e),e.buf.slice(t,e.pos)};if(r){var n=r.createResolver(t);return function(e){return n._read(e)}}return function(e){return t._read(e)};var i}u.inherits(g,s.Duplex),g.prototype._write=function(e,t,r){this._writeCb=r;var i=this._tap;i.buf=n.concat([i.buf.slice(i.pos),e]),i.pos=0,this._needPush&&(this._needPush=!1,this._read())},g.prototype._read=function(){this._needPush=!1;var e=this._tap,t=e.pos,r=this._readValue(e);e.isValid()?this.push(r):this._finished?this.push(null):(e.pos=t,this._needPush=!0,this._writeCb&&this._writeCb())},u.inherits(b,s.Duplex),b.defaultCodecs=function(){return{null:function(e,t){t(null,e)},deflate:c.inflateRaw}},b.getDefaultCodecs=b.defaultCodecs,b.prototype._decodeHeader=function(){var e=this._tap;if(e.buf.length<v.length)return!1;if(!v.equals(e.buf.slice(0,v.length)))return this.emit("error",new Error("invalid magic bytes")),!1;var t=d._read(e);if(!e.isValid())return!1;this._codec=(t.meta["avro.codec"]||"null").toString();var r=this._codecs||b.getDefaultCodecs();if(this._decompress=r[this._codec],this._decompress){try{var n=JSON.parse(t.meta["avro.schema"].toString());this._parseHook&&(n=this._parseHook(n)),this._wType=a.Type.forSchema(n)}catch(i){return void this.emit("error",i)}return this._readValue=A(this._noDecode,this._wType,this._rType),this._syncMarker=t.sync,this.emit("metadata",this._wType,this._codec,t),!0}this.emit("error",new Error(y("unknown codec: %s",this._codec)))},b.prototype._write=function(e,t,r){var a=this._tap;a.buf=n.concat([a.buf,e]),a.pos=0,this._decodeHeader()?(this._write=this._writeChunk,this._write(o.newBuffer(0),t,r)):i.nextTick(r)},b.prototype._writeChunk=function(e,t,r){var i=this._tap;i.buf=n.concat([i.buf.slice(i.pos),e]),i.pos=0;for(var a,o=1;a=x(i);){if(!this._syncMarker.equals(a.sync))return void this.emit("error",new Error("invalid sync marker"));o++,this._decompress(a.data,this._createBlockCallback(a.count,s))}function s(){--o||r()}s()},b.prototype._createBlockCallback=function(e,t){var r=this,n=this._index++;return function(i,a){if(i){var o=new Error(y("%s codec decompression error",r._codec));o.cause=i,r.emit("error",o),t()}else r._queue.push(new _(n,a,t,e)),r._needPush&&r._read()}},b.prototype._read=function(){this._needPush=!1;var e=this._blockTap;if(!this._remaining){var t=this._queue.pop();if(!t||!t.count)return this._finished?this.push(null):this._needPush=!0,void(t&&t.cb());t.cb(),this._remaining=t.count,e.buf=t.buf,e.pos=0}this._remaining--,this.push(this._readValue(e))},u.inherits(w,s.Transform),w.prototype._transform=function(e,t,r){var n=this._tap,i=n.buf,a=n.pos;if(this._writeValue(n,e),!n.isValid()){a&&this.push(function(e,t,r){var n=o.newBuffer(r);return e.copy(n,0,t,t+r),n}(n.buf,0,a));var s=n.pos-a;s>i.length&&(n.buf=o.newBuffer(2*s)),n.pos=0,this._writeValue(n,e)}r()},w.prototype._flush=function(e){var t=this._tap,r=t.pos;r&&this.push(t.buf.slice(0,r)),e()},u.inherits(k,s.Duplex),k.defaultCodecs=function(){return{null:function(e,t){t(null,e)},deflate:c.deflateRaw}},k.getDefaultCodecs=k.defaultCodecs,k.prototype._writeHeader=function(){var e=JSON.stringify(this._schema?this._schema:this._type.getSchema({exportAttrs:!0})),t=o.copyOwnProperties(this._metadata,{"avro.schema":o.bufferFrom(e),"avro.codec":o.bufferFrom(this._codec)},!0),r=new(d.getRecordConstructor())(v,t,this._syncMarker);this.push(r.toBuffer())},k.prototype._write=function(e,t,r){this._needHeader&&(this._writeHeader(),this._needHeader=!1);var n=this._tap,i=n.pos,a=!1;if(this._writeValue(n,e),!n.isValid()){i&&(this._flushChunk(i,r),a=!0);var s=n.pos-i;s>this._blockSize&&(this._blockSize=2*s),n.buf=o.newBuffer(this._blockSize),n.pos=0,this._writeValue(n,e)}this._blockCount++,a||r()},k.prototype._flushChunk=function(e,t){var r=this._tap;e=e||r.pos,this._compress(r.buf.slice(0,e),this._createBlockCallback(t)),this._blockCount=0},k.prototype._read=function(){var e=this,t=this._queue.pop();t?(this.push(l.toBuffer(t.count,!0)),this.push(l.toBuffer(t.buf.length,!0)),this.push(t.buf),this.push(this._syncMarker),this._finished||t.cb()):this._finished&&!this._pending?i.nextTick((function(){e.push(null)})):this._needPush=!0},k.prototype._createBlockCallback=function(e){var t=this,r=this._index++,n=this._blockCount;return this._pending++,function(i,a){if(i){var o=new Error(y("%s codec compression error",t._codec));return o.cause=i,void t.emit("error",o)}t._pending--,t._queue.push(new _(r,a,e,n)),t._needPush&&(t._needPush=!1,t._read())}},e.exports={BLOCK_TYPE:p,HEADER_TYPE:d,MAGIC_BYTES:v,streams:{BlockDecoder:b,BlockEncoder:k,RawDecoder:g,RawEncoder:w}}},36975:function(e,t,r){"use strict";var n=r(1426),i=r(19778).Buffer,a=r(93127),o=r(76338),s=r(47465),u=r(41064),c=r(49639),f=o.Tap,l=a.Type,h=c.debuglog("avsc:services"),d=c.format,p={namespace:"org.apache.avro.ipc"},v=l.forSchema("boolean",p),y=l.forSchema({type:"map",values:"bytes"},p),m=l.forSchema("string",p),g=l.forSchema({name:"HandshakeRequest",type:"record",fields:[{name:"clientHash",type:{name:"MD5",type:"fixed",size:16}},{name:"clientProtocol",type:["null","string"],default:null},{name:"serverHash",type:"MD5"},{name:"meta",type:["null",y],default:null}]},p),b=l.forSchema({name:"HandshakeResponse",type:"record",fields:[{name:"match",type:{name:"HandshakeMatch",type:"enum",symbols:["BOTH","CLIENT","NONE"]}},{name:"serverProtocol",type:["null","string"],default:null},{name:"serverHash",type:["null","MD5"],default:null},{name:"meta",type:["null",y],default:null}]},p),w=16,k=new _("",l.forSchema({name:"PingRequest",type:"record",fields:[]},p),l.forSchema(["string"],p),l.forSchema("null",p));function _(e,t,r,n,i,a){if(this.name=e,!l.isType(t,"record"))throw new Error("invalid request type");if(this.requestType=t,!l.isType(r,"union")||!l.isType(r.getTypes()[0],"string"))throw new Error("invalid error type");if(this.errorType=r,i&&(!l.isType(n,"null")||r.getTypes().length>1))throw new Error("inapplicable one-way parameter");this.responseType=n,this.oneWay=!!i,this.doc=void 0!==a?""+a:void 0,Object.freeze(this)}function x(e,t,r,n,i){if("string"!=typeof e)return x.forProtocol(e,t);this.name=e,this._messagesByName=t||{},this.messages=Object.freeze(o.objectValues(this._messagesByName)),this._typesByName=r||{},this.types=Object.freeze(o.objectValues(this._typesByName)),this.protocol=n,this._hashStr=o.getHash(JSON.stringify(n)).toString("binary"),this.doc=n.doc?""+n.doc:void 0,this._server=i||this.createServer({silent:!0}),Object.freeze(this)}function A(e,t){t=t||{},s.EventEmitter.call(this),this._svc$=e,this._channels$=[],this._fns$=[],this._buffering$=!!t.buffering,this._cache$=t.cache||{},this._policy$=t.channelPolicy,this._strict$=!!t.strictTypes,this._timeout$=o.getOption(t,"timeout",1e4),t.remoteProtocols&&z(this._cache$,t.remoteProtocols,e,!0),this._svc$.messages.forEach((function(e){this[e.name]=this._createMessageHandler$(e)}),this)}function E(e,t){t=t||{},s.EventEmitter.call(this),this.service=e,this._handlers={},this._fns=[],this._channels={},this._nextChannelId=1,this._cache=t.cache||{},this._defaultHandler=t.defaultHandler,this._sysErrFormatter=t.systemErrorFormatter,this._silent=!!t.silent,this._strict=!!t.strictTypes,t.remoteProtocols&&z(this._cache,t.remoteProtocols,e,!1),e.messages.forEach((function(e){var r=e.name;t.noCapitalize||(r=o.capitalize(r)),this["on"+r]=this._createMessageHandler(e)}),this)}function S(e,t){t=t||{},s.EventEmitter.call(this),this.client=e,this.timeout=o.getOption(t,"timeout",e._timeout$),this._endWritable=!!o.getOption(t,"endWritable",!0),this._prefix=Q(t.scope);var r=e._cache$,n=e._svc$,i=t.serverHash;i||(i=n.hash);var a=r[i];a||(a=r[i=n.hash]=new U(n,n,i)),this._adapter=a,this._registry=new B(this,w),this.pending=0,this.destroyed=!1,this.draining=!1,this.once("_eot",(function(e,t){h("client channel EOT"),this.destroyed=!0,this.emit("eot",e,t)}))}function T(e,t,r){S.call(this,e,r),this._writableFactory=t,r&&r.noPing||(h("emitting ping request"),this.ping())}function M(e,t,r,a){S.call(this,e,a),this._readable=t,this._writable=r,this._connected=!(!a||!a.noPing),this._readable.on("end",p),this._writable.on("finish",v);var s,u=this,c=null;function f(e){if(!u.destroyed){s=u._createHandshakeRequest(u._adapter,!e);var t=[g.toBuffer(s),o.bufferFrom([0,0])];u._writable.write({id:u._prefix,payload:t})}}function l(e){if(u._matchesPrefix(e.id)){var t=i.concat(e.payload);try{var r=Z(b,t).head;r.serverHash&&(u._adapter=u._getAdapter(r))}catch(o){return void u.destroy(o)}var a=r.match;h("handshake match: %s",a),u.emit("handshake",s,r),"NONE"===a?n.nextTick((function(){f(!0)})):(h("successfully connected"),c&&(clearTimeout(c),c=null),u._readable.removeListener("data",l).on("data",d),u._connected=!0,u.emit("_ready"),s=null)}else h("discarding unscoped response %s (still connecting)",e.id)}function d(e){var t=e.id;if(u._matchesPrefix(t)){var r=u._registry.get(t);r&&n.nextTick((function(){h("received message %s",t),r(null,i.concat(e.payload),u._adapter)}))}else h("discarding unscoped message %s",t)}function p(){u.destroy(!0)}function v(){u.destroy()}this.once("eot",(function(){c&&(clearTimeout(c),c=null),u._connected||u.emit("_ready"),this._writable.removeListener("finish",v),this._endWritable&&(h("ending transport"),this._writable.end()),this._readable.removeListener("data",l).removeListener("data",d).removeListener("end",p)})),this._connected?this._readable.on("data",d):(this._readable.on("data",l),n.nextTick(f),u.timeout&&(c=setTimeout((function(){u.destroy(new Error("timeout"))}),u.timeout)))}function P(e,t){t=t||{},s.EventEmitter.call(this),this.server=e,this._endWritable=!!o.getOption(t,"endWritable",!0),this._prefix=Q(t.scope);var r=e._cache,n=e.service,i=n.hash;r[i]||(r[i]=new U(n,n,i)),this._adapter=null,this.destroyed=!1,this.draining=!1,this.pending=0,this.once("_eot",(function(e,t){h("server channel EOT"),this.emit("eot",e,t)}))}function I(e,t,r){P.call(this,e,r),this._writable=void 0;var a,o=this;function s(e){var t,r=e.id,n=i.concat(e.payload);try{var a=Z(g,n),s=a.head,u=o._getAdapter(s)}catch(l){t=W("INVALID_HANDSHAKE_REQUEST",l)}var c=o._createHandshakeResponse(t,s);function f(e){if(!o.destroyed){if(!o._writable)return void o.once("_writable",(function(){f(e)}));o._writable.write({id:r,payload:[b.toBuffer(c),e]})}o._writable&&o._endWritable&&o._writable.end()}o.emit("handshake",s,c),t?f(o._encodeSystemError(t)):o._receive(a.tail,u,f)}function u(){o.destroy()}function c(e){a.removeListener("data",s).removeListener("end",u),o.destroy(e||!0)}n.nextTick((function(){a=t.call(o,(function(e,t){n.nextTick((function(){e?c(e):(o._writable=t.on("finish",c),o.emit("_writable"))}))})).on("data",s).on("end",u)}))}function N(e,t,r,n){P.call(this,e,n),this._adapter=void 0,this._writable=r.on("finish",c),this._readable=t.on("data",o).on("end",u),this.once("_drain",(function(){this._readable.removeListener("data",o).removeListener("data",s).removeListener("end",u)})).once("eot",(function(){this._writable.removeListener("finish",c),this._endWritable&&this._writable.end()}));var a=this;function o(e){var t=e.id;if(a._matchesPrefix(t)){var r,n=i.concat(e.payload);try{var u=Z(g,n),c=u.head;a._adapter=a._getAdapter(c)}catch(h){r=W("INVALID_HANDSHAKE_REQUEST",h)}var f=a._createHandshakeResponse(r,c);a.emit("handshake",c,f),r?l(a._encodeSystemError(r)):(a._readable.removeListener("data",o).on("data",s),a._receive(u.tail,a._adapter,l))}function l(e){a.destroyed||a._writable.write({id:t,payload:[b.toBuffer(f),e]})}}function s(e){var t=e.id;if(a._matchesPrefix(t)){var r=i.concat(e.payload);a._receive(r,a._adapter,(function(e,r){a.destroyed||r||a._writable.write({id:t,payload:[e]})}))}}function u(){a.destroy()}function c(){a.destroy(!0)}}function C(e,t,r){this._msg=e,this.headers=t||{},this.request=r||{}}function O(e,t,r,n){this._msg=e,this.headers=t,this.error=r,this.response=n}function R(e,t){this.channel=t,this.locals={},this.message=e,Object.freeze(this)}function B(e,t){this._ctx=e,this._mask=-1>>>(0|t),this._id=0,this._n=0,this._cbs={}}function U(e,t,r,n){this._clientSvc=e,this._serverSvc=t,this._hash=r,this._isRemote=!!n,this._readers=H(e,t)}function F(){u.Transform.call(this,{readableObjectMode:!0}),this._id=void 0,this._buf=o.newBuffer(0),this._bufs=[],this.on("finish",(function(){this.push(null)}))}function L(){u.Transform.call(this,{writableObjectMode:!0}),this.on("finish",(function(){this.push(null)}))}function j(){u.Transform.call(this,{readableObjectMode:!0}),this._id=void 0,this._frameCount=0,this._buf=o.newBuffer(0),this._bufs=[],this.on("finish",(function(){this.push(null)}))}function D(){u.Transform.call(this,{writableObjectMode:!0}),this.on("finish",(function(){this.push(null)}))}function K(e){var t=o.newBuffer(4);return t.writeInt32BE(e),t}function Z(e,t){var r=new f(t),n=e._read(r);if(!r.isValid())throw new Error(d("truncated %s",e));return{head:n,tail:r.buf.slice(r.pos)}}function q(e,t){return e.equals(t)?e:e.createResolver(t)}function H(e,t){var r={};return e.messages.forEach((function(e){var n=e.name,i=t.message(n);try{if(!i)throw new Error(d("missing server message: %s",n));if(i.oneWay!==e.oneWay)throw new Error(d("inconsistent one-way message: %s",n));r[n+"?"]=q(i.requestType,e.requestType),r[n+"*"]=q(e.errorType,i.errorType),r[n+"!"]=q(e.responseType,i.responseType)}catch(a){throw W("INCOMPATIBLE_PROTOCOL",a)}})),r}function z(e,t,r,n){Object.keys(t).forEach((function(i){var a,o,s=t[i];n?(a=r,o=x.forProtocol(s)):(a=x.forProtocol(s),o=r),e[i]=new U(a,o,i,!0)}))}function G(e,t){var r={};return Object.keys(e).forEach((function(n){var i=e[n];if(i._isRemote){var a=t?i._serverSvc:i._clientSvc;r[n]=a.protocol}})),r}function V(e){return!!e&&"[object Error]"===Object.prototype.toString.call(e)}function J(e,t){var r=new Error(e);return r.cause=t,r}function W(e,t){var r=J(e.toLowerCase().replace(/_/g," "),t);return r.rpcCode=t&&t.rpcCode?t.rpcCode:e,r}function Y(e,t,r){var n,i,a,o=[];for(n=0,i=r.length;n<i;n++)(a=r[n]).type.isValid(t[a.name],{errorHook:c});var s=o.map((function(e){return d("%s = %j but expected %s",e.path,e.value,e.type)})).join(", "),u=new Error(d("%s (%s)",e,s));return u.details=o,u;function c(e,t,r){var n,i,s,u=[];for(n=0,i=e.length;n<i;n++)s=e[n],isNaN(s)?u.push("."+s):u.push("["+s+"]");o.push({path:a.name+u.join(""),value:t,type:r})}}function Q(e){return e?o.getHash(e).readInt16BE(0)<<32-w:0}function X(e,t){return(e^t)>>32-w===0}function $(e){return!(!e||!e.pipe)}function ee(e,t){var r=e.message(t);if(!r)throw new Error(d("unknown message: %s",t));return r}function te(e){var t,r=[e.wreq,e.wres],i=[];function a(){var r=i.pop();if(r){var n=!1;r.call(e.ctx,t,(function(r){n?e.onError(J("duplicate backward middleware call",r)):(t=r,n=!0,a())}))}else e.onCompletion.call(e.ctx,t)}!function o(s){var u=!1;s<e.fns.length?e.fns[s].apply(e.ctx,r.concat((function(r,n){if(u)e.onError(J("duplicate forward middleware call",r));else{if(u=!0,r||e.wres&&(void 0!==e.wres.error||void 0!==e.wres.response))return t=r,void a();n&&i.push(n),o(++s)}}))):e.onTransition.apply(e.ctx,r.concat((function(r){u?e.onError(J("duplicate handler call",r)):(u=!0,t=r,n.nextTick(a))})))}(0)}_.forSchema=function(e,t,r){if(r=r||{},!a.isValidName(e))throw new Error(d("invalid message name: %s",e));if(!Array.isArray(t.request))throw new Error(d("invalid message request: %s",e));var n=d("%s.%sRequest",p.namespace,o.capitalize(e)),i=l.forSchema({name:n,type:"record",namespace:r.namespace||"",fields:t.request},r);if(delete r.registry[n],!t.response)throw new Error(d("invalid message response: %s",e));var s=l.forSchema(t.response,r);if(void 0!==t.errors&&!Array.isArray(t.errors))throw new Error(d("invalid message errors: %s",e));return new _(e,i,l.forSchema(["string"].concat(t.errors||[]),r),s,!!t["one-way"],t.doc)},_.prototype.schema=l.prototype.getSchema,_.prototype._attrs=function(e){var t={request:this.requestType._attrs(e).fields,response:this.responseType._attrs(e)},r=this.doc;void 0!==r&&(t.doc=r);var n=this.errorType._attrs(e);return n.length>1&&(t.errors=n.slice(1)),this.oneWay&&(t["one-way"]=!0),t},o.addDeprecatedGetters(_,["name","errorType","requestType","responseType"]),_.prototype.isOneWay=c.deprecate((function(){return this.oneWay}),"use `.oneWay` directly instead of `.isOneWay()`"),x.Client=A,x.Server=E,x.compatible=function(e,t){try{H(e,t)}catch(r){return!1}return!0},x.forProtocol=function(e,t){t=t||{};var r,n=e.protocol;if(!n)throw new Error("missing protocol name");if(void 0!==e.namespace)t.namespace=e.namespace;else{var i=/^(.*)\.[^.]+$/.exec(n);i&&(t.namespace=i[1])}return n=a.qualify(n,t.namespace),e.types&&e.types.forEach((function(e){l.forSchema(e,t)})),e.messages&&(r={},Object.keys(e.messages).forEach((function(n){r[n]=_.forSchema(n,e.messages[n],t)}))),new x(n,r,t.registry,e)},x.isService=function(e){return!!e&&e.hasOwnProperty("_hashStr")},x.prototype.createClient=function(e){var t=new A(this,e);return n.nextTick((function(){if(e&&e.server){var r={objectMode:!0},n=[new u.PassThrough(r),new u.PassThrough(r)];e.server.createChannel({readable:n[0],writable:n[1]},r),t.createChannel({readable:n[1],writable:n[0]},r)}else e&&e.transport&&t.createChannel(e.transport)})),t},x.prototype.createServer=function(e){return new E(this,e)},Object.defineProperty(x.prototype,"hash",{enumerable:!0,get:function(){return o.bufferFrom(this._hashStr,"binary")}}),x.prototype.message=function(e){return this._messagesByName[e]},x.prototype.type=function(e){return this._typesByName[e]},x.prototype.inspect=function(){return d("<Service %j>",this.name)},o.addDeprecatedGetters(x,["message","messages","name","type","types"]),x.prototype.createEmitter=c.deprecate((function(e,t){t=t||{};var r,n,i=this.createClient({cache:t.cache,buffering:!1,strictTypes:t.strictErrors,timeout:t.timeout}),a=i.createChannel(e,t);return n=a,(r=i).on("error",(function(e){n.emit("error",e,r)})),a}),"use `.createClient()` instead of `.createEmitter()`"),x.prototype.createListener=c.deprecate((function(e,t){if(t&&t.strictErrors)throw new Error("use `.createServer()` to support strict errors");return this._server.createChannel(e,t)}),"use `.createServer().createChannel()` instead of `.createListener()`"),x.prototype.emit=c.deprecate((function(e,t,r,n){if(!r||!this.equals(r.client._svc$))throw new Error("invalid emitter");var i=r.client;return A.prototype.emitMessage.call(i,e,t,n&&n.bind(this)),r.getPending()}),"create a client via `.createClient()` to emit messages instead of `.emit()`"),x.prototype.equals=c.deprecate((function(e){return x.isService(e)&&this.getFingerprint().equals(e.getFingerprint())}),"equality testing is deprecated, compare the `.protocol`s instead"),x.prototype.getFingerprint=c.deprecate((function(e){return o.getHash(JSON.stringify(this.protocol),e)}),"use `.hash` instead of `.getFingerprint()`"),x.prototype.getSchema=c.deprecate(l.prototype.getSchema,"use `.protocol` instead of `.getSchema()`"),x.prototype.on=c.deprecate((function(e,t){var r=this;return this._server.onMessage(e,(function(e,n){return t.call(r,e,this.channel,n)})),this}),"use `.createServer().onMessage()` instead of `.on()`"),x.prototype.subprotocol=c.deprecate((function(){var e=this._server,t={strictTypes:e._strict,cache:e._cache},r=new E(e.service,t);return r._handlers=Object.create(e._handlers),new x(this.name,this._messagesByName,this._typesByName,this.protocol,r)}),"`.subprotocol()` will be removed in 5.1"),x.prototype._attrs=function(e){var t={protocol:this.name},r=[];this.types.forEach((function(t){if(void 0!==t.getName()){var n=t._attrs(e);"string"!=typeof n&&r.push(n)}})),r.length&&(t.types=r);var n=Object.keys(this._messagesByName);return n.length&&(t.messages={},n.forEach((function(r){t.messages[r]=this._messagesByName[r]._attrs(e)}),this)),e&&e.exportAttrs&&void 0!==this.doc&&(t.doc=this.doc),t},c.inherits(A,s.EventEmitter),A.prototype.activeChannels=function(){return this._channels$.slice()},A.prototype.createChannel=function(e,t){var r,n=t&&t.objectMode;if("function"==typeof e){var i;i=n?e:function(t){var n=new L,i=e((function(e,n){if(e)t(e);else{var i=(new F).once("error",(function(e){r.destroy(e)}));t(null,n.pipe(i))}}));if(i)return n.pipe(i),n},r=new T(this,i,t)}else{var a,o;if($(e)?a=o=e:(a=e.readable,o=e.writable),!n){var s=new j;a=a.pipe(s);var u=new D;u.pipe(o),o=u}r=new M(this,a,o,t),n||(r.once("eot",(function(){a.unpipe(s),u.unpipe(o)})),s.once("error",(function(e){r.destroy(e)})))}var c=this._channels$;return c.push(r),r.once("_drain",(function(){c.splice(c.indexOf(this),1)})),this._buffering$=!1,this.emit("channel",r),r},A.prototype.destroyChannels=function(e){this._channels$.forEach((function(t){t.destroy(e&&e.noWait)}))},A.prototype.emitMessage=function(e,t,r,n){var i=new C(ee(this._svc$,e),{},t);this._emitMessage$(i,r,n)},A.prototype.remoteProtocols=function(){return G(this._cache$,!0)},Object.defineProperty(A.prototype,"service",{enumerable:!0,get:function(){return this._svc$}}),A.prototype.use=function(){var e,t,r;for(e=0,t=arguments.length;e<t;e++)r=arguments[e],this._fns$.push(r.length<3?r(this):r);return this},A.prototype._emitMessage$=function(e,t,r){r||"function"!==typeof t||(r=t,t=void 0);var i=this,a=this._channels$,o=a.length;if(o){var s;if(void 0===(t=t||{}).timeout&&(t.timeout=this._timeout$),1===o)s=a[0];else if(this._policy$){if(!(s=this._policy$(this._channels$.slice())))return void h("policy returned no channel, skipping call")}else s=a[Math.floor(Math.random()*o)];s._emit(e,t,(function(e,t){var n=this,a=n.message.errorType;if(e)return i._strict$&&(e=a.clone(e.message,{wrapUnions:!0})),void o(e);function o(e,t){r?r.call(n,e,t):e&&i.emit("error",e)}t?(e=t.error,i._strict$||(void 0===e?e=null:l.isType(a,"union:unwrapped")?"string"==typeof e&&(e=new Error(e)):e&&e.string&&"string"==typeof e.string&&(e=new Error(e.string))),o(e,t.response)):o()}))}else if(this._buffering$)h("no active client channels, buffering call"),this.once("channel",(function(){this._emitMessage$(e,t,r)}));else{var u=new Error("no active channels");n.nextTick((function(){r?r.call(new R(e._msg),u):i.emit("error",u)}))}},A.prototype._createMessageHandler$=function(e){var t=e.requestType.getFields().map((function(e){return e.getName()})),r="return function "+e.name+"(";return t.length&&(r+=t.join(", ")+", "),r+="opts, cb) {\n",r+="  var req = {",r+=t.map((function(e){return e+": "+e})).join(", "),r+="};\n",r+="  return this.emitMessage('"+e.name+"', req, opts, cb);\n",r+="};",new Function(r)()},c.inherits(E,s.EventEmitter),E.prototype.activeChannels=function(){return o.objectValues(this._channels)},E.prototype.createChannel=function(e,t){var r,n=t&&t.objectMode;if("function"==typeof e){var i;i=n?e:function(t){var n=(new F).once("error",(function(e){r.destroy(e)}));return e((function(e,r){if(e)t(e);else{var n=new L;n.pipe(r),t(null,n)}})).pipe(n)},r=new I(this,i,t)}else{var a,o;if($(e)?a=o=e:(a=e.readable,o=e.writable),!n){var s=new j;a=a.pipe(s);var u=new D;u.pipe(o),o=u}r=new N(this,a,o,t),n||(r.once("eot",(function(){a.unpipe(s),u.unpipe(o)})),s.once("error",(function(e){r.destroy(e)})))}this.listeners("error").length||this.on("error",this._onError);var c=this._nextChannelId++,f=this._channels;return f[c]=r.once("eot",(function(){delete f[c]})),this.emit("channel",r),r},E.prototype.onMessage=function(e,t){return ee(this.service,e),this._handlers[e]=t,this},E.prototype.remoteProtocols=function(){return G(this._cache,!1)},E.prototype.use=function(){var e,t,r;for(e=0,t=arguments.length;e<t;e++)r=arguments[e],this._fns.push(r.length<3?r(this):r);return this},E.prototype._createMessageHandler=function(e){var t=e.name,r=e.requestType.fields,n=r.length,i=r.length?", "+r.map((function(e){return"req."+e.name})).join(", "):"",a="return function (handler) {\n";return a+="  if (handler.length > "+n+") {\n",a+="    return this.onMessage('"+t+"', function (req, cb) {\n",a+="      return handler.call(this"+i+", cb);\n",a+="    });\n",a+="  } else {\n",a+="    return this.onMessage('"+t+"', function (req) {\n",a+="      return handler.call(this"+i+");\n",a+="    });\n",a+="  }\n",a+="};\n",new Function(a)()},E.prototype._onError=function(e){this._silent||"UNKNOWN_PROTOCOL"===e.rpcCode||(console.error(),e.rpcCode?(console.error(e.rpcCode),console.error(e.cause)):(console.error("INTERNAL_SERVER_ERROR"),console.error(e)))},c.inherits(S,s.EventEmitter),S.prototype.destroy=function(e){h("destroying client channel"),this.draining||(this.draining=!0,this.emit("_drain"));var t=this._registry,r=this.pending;e&&t.clear(),e||!r?V(e)?(h("fatal client channel error: %s",e),this.emit("_eot",r,e)):this.emit("_eot",r):h("client channel entering drain mode (%s pending)",r)},S.prototype.ping=function(e,t){t||"function"!=typeof e||(t=e,e=void 0);var r=this,n=new C(k);this._emit(n,{timeout:e},(function(e){t?t.call(r,e):e&&r.destroy(e)}))},S.prototype._createHandshakeRequest=function(e,t){var r=this.client._svc$;return{clientHash:r.hash,clientProtocol:t?null:JSON.stringify(r.protocol),serverHash:e._hash}},S.prototype._emit=function(e,t,r){var i=e._msg,a=i.oneWay?void 0:new O(i,{}),o=new R(i,this),s=this;function u(e,r,n){var a,o;if(s.destroyed)a=new Error("channel destroyed");else try{o=e.toBuffer()}catch(f){a=Y(d("invalid %j request",i.name),e,[{name:"headers",type:y},{name:"request",type:i.requestType}])}if(a)n(a);else{var u=t&&void 0!==t.timeout?t.timeout:s.timeout,c=s._registry.add(u,(function(e,t,a){if(!e&&!i.oneWay)try{a._decodeResponse(t,r,i)}catch(f){e=f}n(e)}));c|=s._prefix,h("sending message %s",c),s._send(c,o,!!i&&i.oneWay)}}function c(e){s.pending--,r.call(o,e,a),!s.draining||s.destroyed||s.pending||s.destroy()}function f(e){s.client.emit("error",e,s)}this.pending++,n.nextTick((function(){if(i.name){s.emit("outgoingCall",o,t);var r=s.client._fns$;h("starting client middleware chain (%s middleware)",r.length),te({fns:r,ctx:o,wreq:e,wres:a,onTransition:u,onCompletion:c,onError:f})}else u(e,a,c)}))},S.prototype._getAdapter=function(e){var t=e.serverHash,r=this.client._cache$,n=r[t];if(n)return n;var i=JSON.parse(e.serverProtocol),a=x.forProtocol(i);return n=new U(this.client._svc$,a,t,!0),r[t]=n},S.prototype._matchesPrefix=function(e){return X(e,this._prefix)},S.prototype._send=o.abstractFunction,o.addDeprecatedGetters(S,["pending","timeout"]),S.prototype.getCache=c.deprecate((function(){return this.client._cache$}),"use `.remoteProtocols()` instead of `.getCache()`"),S.prototype.getProtocol=c.deprecate((function(){return this.client._svc$}),"use `.service` instead or `.getProtocol()`"),S.prototype.isDestroyed=c.deprecate((function(){return this.destroyed}),"use `.destroyed` instead of `.isDestroyed`"),c.inherits(T,S),T.prototype._send=function(e,t){var r=this._registry.get(e),a=this._adapter,o=this;return n.nextTick((function s(u){if(o.destroyed)return;var c=o._createHandshakeRequest(a,!u),f=o._writableFactory.call(o,(function(e,t){e?r(e):t.on("data",(function(e){h("received response %s",e.id);var t=i.concat(e.payload);try{var u=Z(b,t),f=u.head;f.serverHash&&(a=o._getAdapter(f))}catch(d){return void r(d)}var l=f.match;h("handshake match: %s",l),o.emit("handshake",c,f),"NONE"===l?n.nextTick((function(){s(!0)})):(o._adapter=a,r(null,u.tail,a))}))}));if(!f)return void r(new Error("invalid writable stream"));f.write({id:e,payload:[g.toBuffer(c),t]}),o._endWritable&&f.end()})),!0},c.inherits(M,S),M.prototype._emit=function(){if(this._connected||this.draining)S.prototype._emit.apply(this,arguments);else{h("queuing request");var e,t,r=[];for(e=0,t=arguments.length;e<t;e++)r.push(arguments[e]);this.once("_ready",(function(){this._emit.apply(this,r)}))}},M.prototype._send=function(e,t,r){if(r){var i=this;n.nextTick((function(){i._registry.get(e)(null,o.bufferFrom([0,0,0]),i._adapter)}))}return this._writable.write({id:e,payload:[t]})},c.inherits(P,s.EventEmitter),P.prototype.destroy=function(e){this.draining||(this.draining=!0,this.emit("_drain")),!e&&this.pending||(this.destroyed=!0,V(e)?(h("fatal server channel error: %s",e),this.emit("_eot",this.pending,e)):this.emit("_eot",this.pending))},P.prototype._createHandshakeResponse=function(e,t){var r=this.server.service,n=r.hash,i=t&&t.serverHash.equals(n);return{match:e?"NONE":i?"BOTH":"CLIENT",serverProtocol:i?null:JSON.stringify(r.protocol),serverHash:i?null:n}},P.prototype._getAdapter=function(e){var t=e.clientHash,r=this.server._cache[t];if(r)return r;if(!e.clientProtocol)throw W("UNKNOWN_PROTOCOL");var n=JSON.parse(e.clientProtocol);return r=new U(x.forProtocol(n),this.server.service,t,!0),this.server._cache[t]=r},P.prototype._matchesPrefix=function(e){return X(e,this._prefix)},P.prototype._receive=function(e,t,r){var n,i=this;try{n=t._decodeRequest(e)}catch(f){return void r(i._encodeSystemError(W("INVALID_REQUEST",f)))}var a=n._msg,o=new O(a,{});if(!a.name)return o.response=null,void r(o.toBuffer(),!1);var s=new R(a,this);i.emit("incomingCall",s);var u=this.server._fns;function c(e){i.server.emit("error",e,i)}h("starting server middleware chain (%s middleware)",u.length),i.pending++,te({fns:u,ctx:s,wreq:n,wres:o,onTransition:function(e,t,r){var n=i.server._handlers[a.name];if(n){var o=!a.oneWay;try{o?n.call(s,e.request,(function(e,n){o=!1,t.error=e,t.response=n,r()})):(n.call(s,e.request),r())}catch(l){o?(o=!1,r(l)):c(l)}}else{var u=i.server._defaultHandler;if(u)u.call(s,e,t,r);else{var f=new Error(d("no handler for %s",a.name));r(W("NOT_IMPLEMENTED",f))}}},onCompletion:function(e){i.pending--;var t,n=i.server;if(!e){var s=o.error;n._strict||(V(s)?o.error=a.errorType.clone(s.message,{wrapUnions:!0}):null===s&&(s=o.error=void 0),void 0===s&&void 0===o.response&&a.responseType.isValid(null)&&(o.response=null));try{t=o.toBuffer()}catch(f){e=void 0!==o.error?Y(d("invalid %j error",a.name),o,[{name:"headers",type:y},{name:"error",type:a.errorType}]):Y(d("invalid %j response",a.name),o,[{name:"headers",type:y},{name:"response",type:a.responseType}])}}t?void 0!==s&&n.emit("error",W("APPLICATION_ERROR",s)):t=i._encodeSystemError(e,o.headers);r(t,a.oneWay),i.draining&&!i.pending&&i.destroy()},onError:c})},o.addDeprecatedGetters(P,["pending"]),P.prototype.getCache=c.deprecate((function(){return this.server._cache}),"use `.remoteProtocols()` instead of `.getCache()`"),P.prototype.getProtocol=c.deprecate((function(){return this.server.service}),"use `.service` instead of `.getProtocol()`"),P.prototype.isDestroyed=c.deprecate((function(){return this.destroyed}),"use `.destroyed` instead of `.isDestroyed`"),P.prototype._encodeSystemError=function(e,t){var r,n,a=this.server;if(a.emit("error",e,this),a._sysErrFormatter?r=a._sysErrFormatter.call(this,e):e.rpcCode&&(r=e.message),t)try{n=y.toBuffer(t)}catch(s){a.emit("error",s,this)}return i.concat([n||o.bufferFrom([0]),o.bufferFrom([1,0]),m.toBuffer(r||"internal server error")])},c.inherits(I,P),c.inherits(N,P),C.prototype.toBuffer=function(){var e=this._msg;return i.concat([y.toBuffer(this.headers),m.toBuffer(e.name),e.requestType.toBuffer(this.request)])},O.prototype.toBuffer=function(){var e=y.toBuffer(this.headers),t=void 0!==this.error;return i.concat([e,v.toBuffer(t),t?this._msg.errorType.toBuffer(this.error):this._msg.responseType.toBuffer(this.response)])},B.prototype.get=function(e){return this._cbs[e&this._mask]},B.prototype.add=function(e,t){this._id=this._id+1&this._mask;var r,n=this,i=this._id;return e>0&&(r=setTimeout((function(){a(new Error("timeout"))}),e)),this._cbs[i]=a,this._n++,i;function a(){n._cbs[i]&&(delete n._cbs[i],n._n--,r&&clearTimeout(r),t.apply(n._ctx,arguments))}},B.prototype.clear=function(){Object.keys(this._cbs).forEach((function(e){this._cbs[e](new Error("interrupted"))}),this)},U.prototype._decodeRequest=function(e){var t,r,n=new f(e),i=y._read(n),a=m._read(n);if(a?(t=this._serverSvc.message(a),r=this._readers[a+"?"]._read(n)):t=k,!n.isValid())throw new Error(d("truncated %s request",a||"ping$"));return new C(t,i,r)},U.prototype._decodeResponse=function(e,t,r){var n=new f(e);o.copyOwnProperties(y._read(n),t.headers,!0);var i=v._read(n),a=r.name;if(a){var s=this._readers[a+(i?"*":"!")];if(r=this._clientSvc.message(a),i?t.error=s._read(n):t.response=s._read(n),!n.isValid())throw new Error(d("truncated %s response",a))}else r=k},c.inherits(F,u.Transform),F.prototype._transform=function(e,t,r){var n;for(e=i.concat([this._buf,e]);e.length>=4&&e.length>=(n=e.readInt32BE(0))+4;){if(n)this._bufs.push(e.slice(4,n+4));else{var a=this._bufs;this._bufs=[],this.push({id:null,payload:a})}e=e.slice(n+4)}this._buf=e,r()},F.prototype._flush=function(){if(this._buf.length||this._bufs.length){var e=this._bufs.slice();e.unshift(this._buf);var t=W("TRAILING_DATA");t.trailingData=i.concat(e).toString(),this.emit("error",t)}},c.inherits(L,u.Transform),L.prototype._transform=function(e,t,r){var n,i,a,o=e.payload;for(n=0,i=o.length;n<i;n++)a=o[n],this.push(K(a.length)),this.push(a);this.push(K(0)),r()},c.inherits(j,u.Transform),j.prototype._transform=function(e,t,r){for(e=i.concat([this._buf,e]);;){if(void 0===this._id){if(e.length<8)return this._buf=e,void r();this._id=e.readInt32BE(0),this._frameCount=e.readInt32BE(4),e=e.slice(8)}for(var n;this._frameCount&&e.length>=4&&e.length>=(n=e.readInt32BE(0))+4;)this._frameCount--,this._bufs.push(e.slice(4,n+4)),e=e.slice(n+4);if(this._frameCount)return this._buf=e,void r();var a={id:this._id,payload:this._bufs};this._bufs=[],this._id=void 0,this.push(a)}},j.prototype._flush=F.prototype._flush,c.inherits(D,u.Transform),D.prototype._transform=function(e,t,r){var n,i,a=e.payload,s=a.length;for((n=o.newBuffer(8)).writeInt32BE(e.id,0),n.writeInt32BE(s,4),this.push(n),i=0;i<s;i++)n=a[i],this.push(K(n.length)),this.push(n);r()},e.exports={Adapter:U,HANDSHAKE_REQUEST_TYPE:g,HANDSHAKE_RESPONSE_TYPE:b,Message:_,Registry:B,Service:x,discoverProtocol:function(e,t,r){var n;void 0===r&&"function"==typeof t&&(r=t,t=void 0),new x({protocol:"Empty"},p).createClient({timeout:t&&t.timeout}).createChannel(e,{scope:t&&t.scope,endWritable:"function"==typeof e}).once("handshake",(function(e,t){n=t.serverProtocol,this.destroy(!0)})).once("eot",(function(e,t){t&&!/interrupted/.test(t)?r(t):r(null,JSON.parse(n))}))},streams:{FrameDecoder:F,FrameEncoder:L,NettyDecoder:j,NettyEncoder:D}}},51394:function(e,t,r){"use strict";var n=r(33051),i=r(76338),a=r(12694),o=r(49639).format,s={date:{type:"int",logicalType:"date"},decimal:{type:"bytes",logicalType:"decimal"},time_ms:{type:"long",logicalType:"time-millis"},timestamp_ms:{type:"long",logicalType:"timestamp-millis"}};function u(e,t,r){r||"function"!=typeof t||(r=t,t=void 0),(t=t||{}).importHook||(t.importHook=n.createImportHook());var i,s,f=[];function l(){var n=s.shift();if(n){var c=a.join(a.dirname(e),n.name);"idl"===n.kind?u(c,t,h):t.importHook(c,n.kind,(function(e,t){if(e)r(e);else switch(n.kind){case"protocol":case"schema":if(void 0===t)return void h(null,{});try{var i=JSON.parse(t)}catch(e){return e.path=c,void r(e)}h(null,"schema"===n.kind?{types:[i]}:i);break;default:r(new Error(o("invalid import kind: %s",n.kind)))}}))}else f.length&&(i.types=i.types?f.concat(i.types):f),r(null,i)}function h(e,t){if(e)r(e);else{(t.types||[]).forEach((function(e){if(void 0===e.namespace){var r=t.namespace;if(!r){var n=/^(.*)\.[^.]+$/.exec(t.protocol);n&&(r=n[1])}e.namespace=r||""}f.push(e)}));try{Object.keys(t.messages||{}).forEach((function(e){if(i.messages||(i.messages={}),i.messages[e])throw new Error(o("duplicate message: %s",e));i.messages[e]=t.messages[e]}))}catch(e){return void r(e)}l()}}t.importHook(e,"idl",(function(n,a){if(n)r(n);else if(void 0!==a){try{var o=new c(a,t)._readProtocol(a,t)}catch(n){return n.path=e,void r(n)}i=o.protocol,s=o.imports,l()}else r(null,{})}))}function c(e,t){t=t||{},this._tk=new f(e),this._ackVoidMessages=!!t.ackVoidMessages,this._implicitTags=!t.delimitedCollections,this._typeRefs=t.typeRefs||s}function f(e){this._str=e,this.pos=0}function l(e){for(var t=e.replace(/^[ \t]+|[ \t]+$/g,"").split("\n").map((function(e,t){return t?e.replace(/^\s*\*\s?/,""):e}));!t[0];)t.shift();for(;!t[t.length-1];)t.pop();return t.join("\n")}c.readProtocol=function(e,t){var r=new c(e,t)._readProtocol();if(r.imports.length)throw new Error("unresolvable import");return r.protocol},c.readSchema=function(e,t){var r=new c(e,t),n=r._readJavadoc(),i=r._readType(void 0===n?{}:{doc:n});return r._tk.next({id:"(eof)"}),i},c.prototype._readProtocol=function(){var e,t=this._tk,r=[],n=[],i={};this._readImports(r);var a={},s=this._readJavadoc();for(void 0!==s&&(a.doc=s),this._readAnnotations(a),t.next({val:"protocol"}),t.next({val:"{",silent:!0})||(a.protocol=t.next({id:"name"}).val,t.next({val:"{"}));!t.next({val:"}",silent:!0});)if(!this._readImports(r)){var u=this._readJavadoc(),c=this._readType(),f=this._readImports(r,!0),l=void 0;if(e=t.pos,!f&&(l=this._readMessage(c))){void 0!==u&&void 0===l.schema.doc&&(l.schema.doc=u);var h=!1;if("void"!==l.schema.response&&"void"!==l.schema.response.type||(h=!this._ackVoidMessages&&!l.schema.errors,"void"===l.schema.response?l.schema.response="null":l.schema.response.type="null"),h&&(l.schema["one-way"]=!0),i[l.name])throw new Error(o("duplicate message: %s",l.name));i[l.name]=l.schema}else u&&("string"==typeof c?c={doc:u,type:c}:void 0===c.doc&&(c.doc=u)),n.push(c),t.pos=e,t.next({val:";",silent:!0});u=void 0}return t.next({id:"(eof)"}),n.length&&(a.types=n),Object.keys(i).length&&(a.messages=i),{protocol:a,imports:r}},c.prototype._readAnnotations=function(e){for(var t=this._tk;t.next({val:"@",silent:!0});){for(var r=[];!t.next({val:"(",silent:!0});)r.push(t.next().val);e[r.join("")]=t.next({id:"json"}).val,t.next({val:")"})}},c.prototype._readMessage=function(e){var t=this._tk,r={request:[],response:e};this._readAnnotations(r);var n=t.next().val;if("("===t.next().val){if(!t.next({val:")",silent:!0}))do{r.request.push(this._readField())}while(!t.next({val:")",silent:!0})&&t.next({val:","}));var i=t.next();switch(i.val){case"throws":r.errors=[];do{r.errors.push(this._readType())}while(!t.next({val:";",silent:!0})&&t.next({val:","}));break;case"oneway":r["one-way"]=!0,t.next({val:";"});break;case";":break;default:throw t.error("invalid message suffix",i)}return{name:n,schema:r}}},c.prototype._readJavadoc=function(){var e=this._tk.next({id:"javadoc",emitJavadoc:!0,silent:!0});if(e)return e.val},c.prototype._readField=function(){var e=this._tk,t=this._readJavadoc(),r={type:this._readType()};return void 0!==t&&void 0===r.doc&&(r.doc=t),this._readAnnotations(r),r.name=e.next({id:"name"}).val,e.next({val:"=",silent:!0})&&(r.default=e.next({id:"json"}).val),r},c.prototype._readType=function(e){switch(e=e||{},this._readAnnotations(e),e.type=this._tk.next({id:"name"}).val,e.type){case"record":case"error":return this._readRecord(e);case"fixed":return this._readFixed(e);case"enum":return this._readEnum(e);case"map":return this._readMap(e);case"array":return this._readArray(e);case"union":if(Object.keys(e).length>1)throw new Error("union annotations are not supported");return this._readUnion();default:var t=this._typeRefs[e.type];return t&&(delete e.type,i.copyOwnProperties(t,e)),Object.keys(e).length>1?e:e.type}},c.prototype._readFixed=function(e){var t=this._tk;return t.next({val:"(",silent:!0})||(e.name=t.next({id:"name"}).val,t.next({val:"("})),e.size=parseInt(t.next({id:"number"}).val),t.next({val:")"}),e},c.prototype._readMap=function(e){var t=this._tk,r=this._implicitTags,n=void 0===t.next({val:"<",silent:r});return e.values=this._readType(),t.next({val:">",silent:n}),e},c.prototype._readArray=function(e){var t=this._tk,r=this._implicitTags,n=void 0===t.next({val:"<",silent:r});return e.items=this._readType(),t.next({val:">",silent:n}),e},c.prototype._readEnum=function(e){var t=this._tk;t.next({val:"{",silent:!0})||(e.name=t.next({id:"name"}).val,t.next({val:"{"})),e.symbols=[];do{e.symbols.push(t.next().val)}while(!t.next({val:"}",silent:!0})&&t.next({val:","}));return e},c.prototype._readUnion=function(){var e=this._tk,t=[];e.next({val:"{"});do{t.push(this._readType())}while(!e.next({val:"}",silent:!0})&&e.next({val:","}));return t},c.prototype._readRecord=function(e){var t=this._tk;for(t.next({val:"{",silent:!0})||(e.name=t.next({id:"name"}).val,t.next({val:"{"})),e.fields=[];!t.next({val:"}",silent:!0});)e.fields.push(this._readField()),t.next({val:";"});return e},c.prototype._readImports=function(e,t){for(var r=this._tk,n=0,i=r.pos;r.next({val:"import",silent:!0});){if(!n&&t&&r.next({val:"(",silent:!0}))return void(r.pos=i);var a=r.next({id:"name"}).val,o=JSON.parse(r.next({id:"string"}).val);r.next({val:";"}),e.push({kind:a,name:o}),n++}return n},f.prototype.next=function(e){var t,r={pos:this.pos,id:void 0,val:void 0},n=this._skip(e&&e.emitJavadoc);if(n)r.id="javadoc",r.val=n;else{var i=this.pos,a=this._str,s=a.charAt(i);if(s)if(e&&"json"===e.id?(r.id="json",this.pos=this._endOfJson()):'"'===s?(r.id="string",this.pos=this._endOfString()):/[0-9]/.test(s)?(r.id="number",this.pos=this._endOf(/[0-9]/)):/[`A-Za-z_.]/.test(s)?(r.id="name",this.pos=this._endOf(/[`A-Za-z0-9_.]/)):(r.id="operator",this.pos=i+1),r.val=a.slice(i,this.pos),"json"===r.id)try{r.val=JSON.parse(r.val)}catch(t){throw this.error("invalid JSON",r)}else"name"===r.id&&(r.val=r.val.replace(/`/g,""));else r.id="(eof)"}if(e&&e.id&&e.id!==r.id?t=this.error(o("expected ID %s",e.id),r):e&&e.val&&e.val!==r.val&&(t=this.error(o("expected value %s",e.val),r)),t){if(e&&e.silent)return void(this.pos=r.pos);throw t}return r},f.prototype.error=function(e,t){var r,n="number"!=typeof t,i=n?t.pos:t,a=this._str,s=1,u=0;for(r=0;r<i;r++)"\n"===a.charAt(r)&&(s++,u=r);var c=n?o("invalid token %j: %s",t,e):e,f=new Error(c);return f.token=n?t:void 0,f.lineNum=s,f.colNum=i-u,f},f.prototype._skip=function(e){for(var t,r,n=this._str,i=!1;(r=n.charAt(this.pos))&&/\s/.test(r);)this.pos++;if(t=this.pos,"/"===r)switch(n.charAt(this.pos+1)){case"/":for(this.pos+=2;(r=n.charAt(this.pos))&&"\n"!==r;)this.pos++;return this._skip(e);case"*":for(this.pos+=2,"*"===n.charAt(this.pos)&&(i=!0);r=n.charAt(this.pos++);)if("*"===r&&"/"===n.charAt(this.pos))return this.pos++,i&&e?l(n.slice(t+3,this.pos-2)):this._skip(e);throw this.error("unterminated comment",t)}},f.prototype._endOf=function(e){for(var t=this.pos,r=this._str;e.test(r.charAt(t));)t++;return t},f.prototype._endOfString=function(){for(var e,t=this.pos+1,r=this._str;e=r.charAt(t);){if('"'===e)return t+1;"\\"===e?t+=2:t++}throw this.error("unterminated string",t-1)},f.prototype._endOfJson=function(){var e=i.jsonEnd(this._str,this.pos);if(e<0)throw this.error("invalid JSON",e);return e},e.exports={Tokenizer:f,assembleProtocol:u,read:function(e){var t;if("string"==typeof e&&~e.indexOf(a.sep)&&n.existsSync(e)){var r=n.readFileSync(e,{encoding:"utf8"});try{return JSON.parse(r)}catch(i){u(e,{importHook:n.createSyncImportHook()},(function(e,n){t=e?r:n}))}}else t=e;if("string"!=typeof t||"null"===t)return t;try{return JSON.parse(t)}catch(i){try{return c.readProtocol(t)}catch(i){try{return c.readSchema(t)}catch(i){return t}}}},readProtocol:c.readProtocol,readSchema:c.readSchema}},93127:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(3515).default,a=r(861).default,o=r(38416).default,s=r(76338),u=r(19778),c=r(49639),f=s.Tap,l=c.debuglog("avsc:types"),h=c.format,d={array:B,boolean:_,bytes:M,double:S,enum:C,error:U,fixed:O,float:E,int:x,long:A,map:R,null:k,record:U,string:T},p=/^[A-Za-z_][A-Za-z0-9_]*$/,v=new s.Lcg,y=new f(new u.SlowBuffer(1024)),m=null,g=[];function b(e,t){var r;if(m?(r=m,g.push([m,this]),m=null):r=this,this._hash=new K,this.name=void 0,this.aliases=void 0,this.doc=e&&e.doc?""+e.doc:void 0,e){var n=e.name,i=void 0===e.namespace?t&&t.namespace:e.namespace;if(void 0!==n){if(G(n=H(n,i)))throw new Error(h("cannot rename primitive type: %j",n));var a=t&&t.registry;if(a){if(void 0!==a[n])throw new Error(h("duplicate type name: %s",n));a[n]=r}}else if(t&&t.noAnonymousTypes)throw new Error(h("missing name property in schema: %j",e));this.name=n,this.aliases=e.aliases?e.aliases.map((function(e){return H(e,i)})):[]}}function w(e){b.call(this),this._branchConstructor=this._createBranchConstructor(),e||Object.freeze(this)}function k(){w.call(this)}function _(){w.call(this)}function x(){w.call(this)}function A(){w.call(this)}function E(){w.call(this)}function S(){w.call(this)}function T(){w.call(this)}function M(){w.call(this)}function P(e,t){if(b.call(this),!Array.isArray(e))throw new Error(h("non-array union schema: %j",e));if(!e.length)throw new Error("empty union");this.types=Object.freeze(e.map((function(e){return b.forSchema(e,t)}))),this._branchIndices={},this.types.forEach((function(e,t){if(b.isType(e,"union"))throw new Error("unions cannot be directly nested");var r=e.branchName;if(void 0!==this._branchIndices[r])throw new Error(h("duplicate union branch name: %j",r));this._branchIndices[r]=t}),this)}function I(e,t){P.call(this,e,t),this._dynamicBranches=null,this._bucketIndices={},this.types.forEach((function(e,t){if(b.isType(e,"abstract","logical"))this._dynamicBranches||(this._dynamicBranches=[]),this._dynamicBranches.push({index:t,type:e});else{var r=$(e);if(void 0!==this._bucketIndices[r])throw new Error(h("ambiguous unwrapped union: %j",this));this._bucketIndices[r]=t}}),this),Object.freeze(this)}function N(e,t){P.call(this,e,t),Object.freeze(this)}function C(e,t){if(b.call(this,e,t),!Array.isArray(e.symbols)||!e.symbols.length)throw new Error(h("invalid enum symbols: %j",e.symbols));this.symbols=Object.freeze(e.symbols.slice()),this._indices={},this.symbols.forEach((function(e,t){if(!Q(e))throw new Error(h("invalid %s symbol: %j",this,e));if(void 0!==this._indices[e])throw new Error(h("duplicate %s symbol: %j",this,e));this._indices[e]=t}),this),this._branchConstructor=this._createBranchConstructor(),Object.freeze(this)}function O(e,t){if(b.call(this,e,t),e.size!==(0|e.size)||e.size<1)throw new Error(h("invalid %s size",this.branchName));this.size=0|e.size,this._branchConstructor=this._createBranchConstructor(),Object.freeze(this)}function R(e,t){if(b.call(this),!e.values)throw new Error(h("missing map values: %j",e));this.valuesType=b.forSchema(e.values,t),this._branchConstructor=this._createBranchConstructor(),Object.freeze(this)}function B(e,t){if(b.call(this),!e.items)throw new Error(h("missing array items: %j",e));this.itemsType=b.forSchema(e.items,t),this._branchConstructor=this._createBranchConstructor(),Object.freeze(this)}function U(e,t){var r=(t=t||{}).namespace;if(void 0!==e.namespace)t.namespace=e.namespace;else if(e.name){var n=/^(.*)\.[^.]+$/.exec(e.name);n&&(t.namespace=n[1])}if(b.call(this,e,t),!Array.isArray(e.fields))throw new Error(h("non-array record fields: %j",e.fields));if(s.hasDuplicates(e.fields,(function(e){return e.name})))throw new Error(h("duplicate field name: %j",e.fields));this._fieldsByName={},this.fields=Object.freeze(e.fields.map((function(e){var r=new j(e,t);return this._fieldsByName[r.name]=r,r}),this)),this._branchConstructor=this._createBranchConstructor(),this._isError="error"===e.type,this.recordConstructor=this._createConstructor(t.errorStackTraces),this._read=this._createReader(),this._skip=this._createSkipper(),this._write=this._createWriter(),this._check=this._createChecker(),t.namespace=r,Object.freeze(this)}function F(e,t){this._logicalTypeName=e.logicalType,b.call(this),m=this;try{this._underlyingType=b.forSchema(e,t)}finally{m=null;var r=g.length;r&&g[r-1][0]===this&&g.pop()}b.isType(this.underlyingType,"union")?this._branchConstructor=this.underlyingType._branchConstructor:this._branchConstructor=this.underlyingType._createBranchConstructor()}function L(e){this._concreteTypeName="long",w.call(this,!0),this._noUnpack=!!e}function j(e,t){var r=e.name;if("string"!=typeof r||!Q(r))throw new Error(h("invalid field name: %s",r));this.name=r,this.type=b.forSchema(e.type,t),this.aliases=e.aliases||[],this.doc=void 0!==e.doc?""+e.doc:void 0,this._order=function(e){switch(e){case"ascending":return 1;case"descending":return-1;case"ignore":return 0;default:throw new Error(h("invalid order: %j",e))}}(void 0===e.order?"ascending":e.order);var n=e.default;if(void 0!==n){var i=this.type,a=i._copy(n,{coerce:2,wrap:2});G(i.typeName)&&"bytes"!==i.typeName?this.defaultValue=function(){return a}:this.defaultValue=function(){return i._copy(a)}}Object.freeze(this)}function D(e){this._readerType=e,this._read=null,this.itemsType=null,this.size=0,this.symbols=null,this.valuesType=null}function K(){this.str=void 0}function Z(e,t,r,n){if(r){if(r._readerType!==e)throw new Error("invalid resolver");return r._read(t,n)}return e._read(t)}function q(e){var t=e.split(".");return t[t.length-1]}function H(e,t){~e.indexOf(".")?e=e.replace(/^\./,""):t&&(e=t+"."+e),e.split(".").forEach((function(t){if(!Q(t))throw new Error(h("invalid name: %j",e))}));var r=q(e);return G(r)?r:e}function z(e){var t={};e.name&&(t[e.name]=!0);var r,n,i=e.aliases;for(r=0,n=i.length;r<n;r++)t[i[r]]=!0;return Object.keys(t)}function G(e){var t=d[e];return t&&t.prototype instanceof w}function V(e){if("error"===e)e="record";else{var t=/^([^:]+):(.*)$/.exec(e);t&&(e="union"===t[1]?t[2]+"Union":t[1])}return s.capitalize(e)+"Type"}function J(e){var t=e.readLong();return t<0&&(t=-t,e.skipLong()),t}function W(e){return e>=-9007199254740990&&e<=9007199254740990}function Y(e){return e&&"Buffer"===e.type&&Array.isArray(e.data)}function Q(e){return p.test(e)}function X(e,t){throw new Error(h("invalid %s: %j",t,e))}function $(e){var t=e.typeName;switch(t){case"double":case"float":case"int":case"long":return"number";case"bytes":case"fixed":return"buffer";case"enum":return"string";case"map":case"error":case"record":return"object";default:return t}}function ee(e){if(null===e)return"null";var t=typeof e;if("object"===t){if(Array.isArray(e))return"array";if(n.isBuffer(e))return"buffer"}return t}b.forSchema=function(e,t){(t=t||{}).registry=t.registry||{};var r,n=function(e){switch(!0===e?e="always":!1===e?e="never":void 0===e?e="auto":"string"==typeof e&&(e=e.toLowerCase()),e){case"always":return N;case"never":return I;case"auto":return;default:throw new Error(h("invalid wrap unions option: %j",e))}}(t.wrapUnions);if(null===e)throw new Error('invalid type: null (did you mean "null"?)');if(b.isType(e))return e;if(t.typeHook&&(r=t.typeHook(e,t))){if(!b.isType(r))throw new Error(h("invalid typehook return value: %j",r));return r}if("string"==typeof e){if(e=H(e,t.namespace),r=t.registry[e])return r;if(G(e))return t.registry[e]=b.forSchema({type:e},t);throw new Error(h("undefined type name: %s",e))}if(e.logicalType&&t.logicalTypes&&!m){var i=t.logicalTypes[e.logicalType];if(i){var a=t.namespace,o={};Object.keys(t.registry).forEach((function(e){o[e]=t.registry[e]}));try{return l("instantiating logical type for %s",e.logicalType),new i(e,t)}catch(u){if(l("failed to instantiate logical type for %s",e.logicalType),t.assertLogicalTypes)throw u;m=null,t.namespace=a,t.registry=o}}}if(Array.isArray(e)){var s=e.map((function(e){return b.forSchema(e,t)}));n||(n=function(e){var t,r,n,i,a={};for(t=0,r=e.length;t<r;t++)if(i=e[t],!b.isType(i,"logical")){if(a[n=$(i)])return!0;a[n]=!0}return!1}(s)?N:I),r=new n(s,t)}else r=function(r){var n=d[r];if(void 0===n)throw new Error(h("unknown type: %j",r));return new n(e,t)}(e.type);return r},b.forValue=function(e,t){if((t=t||{}).emptyArrayType=t.emptyArrayType||b.forSchema({type:"array",items:"null"}),t.valueHook){var r=t.valueHook(e,t);if(void 0!==r){if(!b.isType(r))throw new Error(h("invalid value hook return value: %j",r));return r}}switch(typeof e){case"string":return b.forSchema("string",t);case"boolean":return b.forSchema("boolean",t);case"number":return(0|e)===e?b.forSchema("int",t):Math.abs(e)<9007199254740991?b.forSchema("float",t):b.forSchema("double",t);case"object":if(null===e)return b.forSchema("null",t);if(Array.isArray(e))return e.length?b.forSchema({type:"array",items:b.forTypes(e.map((function(e){return b.forValue(e,t)})))},t):t.emptyArrayType;if(n.isBuffer(e))return b.forSchema("bytes",t);var i=Object.keys(e);return i.some((function(e){return!Q(e)}))?b.forSchema({type:"map",values:b.forTypes(i.map((function(r){return b.forValue(e[r],t)})),t)},t):b.forSchema({type:"record",fields:i.map((function(r){return{name:r,type:b.forValue(e[r],t)}}))},t);default:throw new Error(h("cannot infer type from: %j",e))}},b.forTypes=function(e,t){if(!e.length)throw new Error("no types to combine");if(1===e.length)return e[0];t=t||{};var r=[],n=0,i=!0;if(e.forEach((function(e){switch(e.typeName){case"union:unwrapped":i=!1,r=r.concat(e.types);break;case"union:wrapped":n++,r=r.concat(e.types);break;case"null":r.push(e);break;default:i=!1,r.push(e)}})),n){if(!i)throw new Error("cannot combine wrapped union");var a={};r.forEach((function(e){var t=e.branchName,r=a[t];if(r){if(!e.equals(r))throw new Error("inconsistent branch type")}else a[t]=e}));var o,s=t.wrapUnions;t.wrapUnions=!0;try{o=b.forSchema(Object.keys(a).map((function(e){return a[e]})),t)}catch(f){throw t.wrapUnions=s,f}return t.wrapUnions=s,o}var u={};r.forEach((function(e){var t=$(e),r=u[t];r||(u[t]=r=[]),r.push(e)}));var c=Object.keys(u).map((function(e){var r=u[e];if(1===r.length)return r[0];switch(e){case"null":case"boolean":return r[0];case"number":return function(e){var t,r,n,i,a=["int","long","float","double"],o=-1,s=null;for(t=0,r=e.length;t<r;t++)n=e[t],(i=a.indexOf(n.typeName))>o&&(o=i,s=n);return s}(r);case"string":return function(e,t){var r,n,i,a,o={};for(r=0,n=e.length;r<n;r++){if("string"===(i=e[r]).typeName)return i;var s,u;for(s=0,u=(a=i.symbols).length;s<u;s++)o[a[s]]=!0}return b.forSchema({type:"enum",symbols:Object.keys(o)},t)}(r,t);case"buffer":return function(e,t){var r,n,i,a=-1;for(r=0,n=e.length;r<n;r++){if("bytes"===(i=e[r]).typeName)return i;-1===a?a=i.size:i.size!==a&&(a=-2)}return a<0?b.forSchema("bytes",t):e[0]}(r,t);case"array":return(r=r.filter((function(e){return e!==t.emptyArrayType}))).length?b.forSchema({type:"array",items:b.forTypes(r.map((function(e){return e.itemsType})))},t):t.emptyArrayType;default:return function(e,t){var r,n,i,a,o,s=[],u={},c={},f=!0;for(r=0,n=e.length;r<n;r++){var l,h,d,p,v,y;if("map"===(i=e[r]).typeName)f=!1,s.push(i.valuesType);else for(l=0,h=(a=i.fields).length;l<h;l++)v=(d=a[l]).name,y=d.type,s.push(y),f&&(u[v]||(u[v]=[]),u[v].push(y),void 0!==(p=d.defaultValue())&&(c[v]=p))}if(f){var m=Object.keys(u);for(r=0,n=m.length;r<n;r++)v=m[r],u[v].length<e.length&&void 0===c[v]&&(t&&t.strictDefaults?f=!1:(u[v].unshift(b.forSchema("null",t)),c[v]=null))}o=f?{type:"record",fields:m.map((function(e){var r=b.forTypes(u[e],t),n=c[e];if(void 0!==n&&~r.typeName.indexOf("union")){var i,a,o=r.types.slice();for(i=0,a=o.length;i<a&&!o[i].isValid(n);i++);if(i>0){var s=o[0];o[0]=o[i],o[i]=s,r=b.forSchema(o,t)}}return{name:e,type:r,default:c[e]}}))}:{type:"map",values:b.forTypes(s,t)};return b.forSchema(o,t)}(r,t)}}));return 1===c.length?c[0]:b.forSchema(c,t)},b.isType=function(){var e=arguments.length;if(!e)return!1;var t=arguments[0];if(!t||"function"!=typeof t._update||"function"!=typeof t.fingerprint)return!1;if(1===e)return!0;var r,n=t.typeName;for(r=1;r<e;r++)if(0===n.indexOf(arguments[r]))return!0;return!1},b.__reset=function(e){l("resetting type buffer to %d",e),y.buf=new u.SlowBuffer(e)},Object.defineProperty(b.prototype,"branchName",{enumerable:!0,get:function(){if(this.name)return this.name;var e=b.isType(this,"logical")?this.underlyingType:this;return b.isType(e,"abstract")?e._concreteTypeName:b.isType(e,"union")?void 0:e.typeName}}),b.prototype.clone=function(e,t){return t?(t={coerce:0|!!t.coerceBuffers,fieldHook:t.fieldHook,qualifyNames:!!t.qualifyNames,skip:!!t.skipMissingFields,wrap:0|!!t.wrapUnions},this._copy(e,t)):this.fromBuffer(this.toBuffer(e))},b.prototype.compare=s.abstractFunction,b.prototype.compareBuffers=function(e,t){return this._match(new f(e),new f(t))},b.prototype.createResolver=function(e,t){if(!b.isType(e))throw new Error(h("not a type: %j",e));if(!b.isType(this,"union","logical")&&b.isType(e,"logical"))return this.createResolver(e.underlyingType,t);var r,n;if((t=t||{}).registry=t.registry||{},b.isType(this,"record","error")&&b.isType(e,"record","error")&&(n=this.name+":"+e.name,r=t.registry[n]))return r;if(r=new D(this),n&&(t.registry[n]=r),b.isType(e,"union")){var i=e.types.map((function(e){return this.createResolver(e,t)}),this);r._read=function(e){var t=e.readLong();if(void 0===i[t])throw new Error(h("invalid union index: %s",t));return i[t]._read(e)}}else this._update(r,e,t);if(!r._read)throw new Error(h("cannot read %s as %s",e,this));return Object.freeze(r)},b.prototype.decode=function(e,t,r){var n=new f(e,t),i=Z(this,n,r);return n.isValid()?{value:i,offset:n.pos}:{value:void 0,offset:-1}},b.prototype.encode=function(e,t,r){var n=new f(t,r);return this._write(n,e),n.isValid()?n.pos:t.length-n.pos},b.prototype.equals=function(e){return b.isType(e)&&this.fingerprint().equals(e.fingerprint())},b.prototype.fingerprint=function(e){if(e)return s.getHash(JSON.stringify(this.schema()),e);if(!this._hash.str){var t=JSON.stringify(this.schema());this._hash.str=s.getHash(t).toString("binary")}return s.bufferFrom(this._hash.str,"binary")},b.prototype.fromBuffer=function(e,t,r){var n=new f(e),i=Z(this,n,t,r);if(!n.isValid())throw new Error("truncated buffer");if(!r&&n.pos<e.length)throw new Error("trailing data");return i},b.prototype.fromString=function(e){return this._copy(JSON.parse(e),{coerce:2})},b.prototype.inspect=function(){var e=this.typeName,t=V(e);if(G(e))return h("<%s>",t);var r=this.schema({exportAttrs:!0,noDeref:!0});return"object"!=typeof r||b.isType(this,"logical")||(r.type=void 0),h("<%s %j>",t,r)},b.prototype.isValid=function(e,t){var r,n,i=0|(t&&t.noUndeclaredFields),a=t&&t.errorHook;return a&&(n=[],r=function(t,r){a.call(this,n.slice(),t,r,e)}),this._check(e,i,r,n)},b.prototype.random=s.abstractFunction,b.prototype.schema=function(e){return this._attrs({exportAttrs:!(!e||!e.exportAttrs),noDeref:!(!e||!e.noDeref)})},b.prototype.toBuffer=function(e){y.pos=0,this._write(y,e);var t=s.newBuffer(y.pos);return y.isValid()?y.buf.copy(t,0,0,y.pos):this._write(new f(t),e),t},b.prototype.toJSON=function(){return this.schema({exportAttrs:!0})},b.prototype.toString=function(e){return void 0===e?JSON.stringify(this.schema({noDeref:!0})):JSON.stringify(this._copy(e,{coerce:3}))},b.prototype.wrap=function(e){var t=this._branchConstructor;return null===t?null:new t(e)},b.prototype._attrs=function(e){e.derefed=e.derefed||{};var t=this.name;if(void 0!==t){if(e.noDeref||e.derefed[t])return t;e.derefed[t]=!0}var r={};void 0!==this.name&&(r.name=t),r.type=this.typeName;var n=this._deref(r,e);return void 0!==n&&(r=n),e.exportAttrs&&(this.aliases&&this.aliases.length&&(r.aliases=this.aliases),void 0!==this.doc&&(r.doc=this.doc)),r},b.prototype._createBranchConstructor=function(){var e=this.branchName;if("null"===e)return null;var t=function(t){~e.indexOf(".")?this["".concat(e)]=t:this[e]=t};return t.type=this,t.prototype.unwrap=function(){return this["".concat(e)]},t.prototype.unwrapped=t.prototype.unwrap,t},b.prototype._peek=function(e){var t=e.pos,r=this._read(e);return e.pos=t,r},b.prototype._check=s.abstractFunction,b.prototype._copy=s.abstractFunction,b.prototype._deref=s.abstractFunction,b.prototype._match=s.abstractFunction,b.prototype._read=s.abstractFunction,b.prototype._skip=s.abstractFunction,b.prototype._update=s.abstractFunction,b.prototype._write=s.abstractFunction,b.prototype.getAliases=function(){return this.aliases},b.prototype.getFingerprint=b.prototype.fingerprint,b.prototype.getName=function(e){return this.name||!e?this.name:this.branchName},b.prototype.getSchema=b.prototype.schema,b.prototype.getTypeName=function(){return this.typeName},c.inherits(w,b),w.prototype._update=function(e,t){t.typeName===this.typeName&&(e._read=this._read)},w.prototype._copy=function(e){return this._check(e,void 0,X),e},w.prototype._deref=function(){return this.typeName},w.prototype.compare=s.compare,c.inherits(k,w),k.prototype._check=function(e,t,r){var n=null===e;return!n&&r&&r(e,this),n},k.prototype._read=function(){return null},k.prototype._skip=function(){},k.prototype._write=function(e,t){null!==t&&X(t,this)},k.prototype._match=function(){return 0},k.prototype.compare=k.prototype._match,k.prototype.typeName="null",k.prototype.random=k.prototype._read,c.inherits(_,w),_.prototype._check=function(e,t,r){var n="boolean"==typeof e;return!n&&r&&r(e,this),n},_.prototype._read=function(e){return e.readBoolean()},_.prototype._skip=function(e){e.skipBoolean()},_.prototype._write=function(e,t){"boolean"!=typeof t&&X(t,this),e.writeBoolean(t)},_.prototype._match=function(e,t){return e.matchBoolean(t)},_.prototype.typeName="boolean",_.prototype.random=function(){return v.nextBoolean()},c.inherits(x,w),x.prototype._check=function(e,t,r){var n=e===(0|e);return!n&&r&&r(e,this),n},x.prototype._read=function(e){return e.readInt()},x.prototype._skip=function(e){e.skipInt()},x.prototype._write=function(e,t){t!==(0|t)&&X(t,this),e.writeInt(t)},x.prototype._match=function(e,t){return e.matchInt(t)},x.prototype.typeName="int",x.prototype.random=function(){return 0|v.nextInt(1e3)},c.inherits(A,w),A.prototype._check=function(e,t,r){var n="number"==typeof e&&e%1===0&&W(e);return!n&&r&&r(e,this),n},A.prototype._read=function(e){var t=e.readLong();if(!W(t))throw new Error("potential precision loss");return t},A.prototype._skip=function(e){e.skipLong()},A.prototype._write=function(e,t){("number"!=typeof t||t%1||!W(t))&&X(t,this),e.writeLong(t)},A.prototype._match=function(e,t){return e.matchLong(t)},A.prototype._update=function(e,t){switch(t.typeName){case"int":e._read=t._read;break;case"abstract:long":case"long":e._read=this._read}},A.prototype.typeName="long",A.prototype.random=function(){return v.nextInt()},A.__with=function(e,t){e=e||{};var r={toBuffer:"_toBuffer",fromBuffer:"_fromBuffer",fromJSON:"_fromJSON",toJSON:"_toJSON",isValid:"_isValid",compare:"compare"},n=new L(t);return Object.keys(r).forEach((function(t){if(void 0===e[t])throw new Error(h("missing method implementation: %s",t));n[r[t]]=e[t]})),Object.freeze(n)},c.inherits(E,w),E.prototype._check=function(e,t,r){var n="number"==typeof e;return!n&&r&&r(e,this),n},E.prototype._read=function(e){return e.readFloat()},E.prototype._skip=function(e){e.skipFloat()},E.prototype._write=function(e,t){"number"!=typeof t&&X(t,this),e.writeFloat(t)},E.prototype._match=function(e,t){return e.matchFloat(t)},E.prototype._update=function(e,t){switch(t.typeName){case"float":case"int":e._read=t._read;break;case"abstract:long":case"long":e._read=function(e){return e.readLong()}}},E.prototype.typeName="float",E.prototype.random=function(){return v.nextFloat(1e3)},c.inherits(S,w),S.prototype._check=function(e,t,r){var n="number"==typeof e;return!n&&r&&r(e,this),n},S.prototype._read=function(e){return e.readDouble()},S.prototype._skip=function(e){e.skipDouble()},S.prototype._write=function(e,t){"number"!=typeof t&&X(t,this),e.writeDouble(t)},S.prototype._match=function(e,t){return e.matchDouble(t)},S.prototype._update=function(e,t){switch(t.typeName){case"double":case"float":case"int":e._read=t._read;break;case"abstract:long":case"long":e._read=function(e){return e.readLong()}}},S.prototype.typeName="double",S.prototype.random=function(){return v.nextFloat()},c.inherits(T,w),T.prototype._check=function(e,t,r){var n="string"==typeof e;return!n&&r&&r(e,this),n},T.prototype._read=function(e){return e.readString()},T.prototype._skip=function(e){e.skipString()},T.prototype._write=function(e,t){"string"!=typeof t&&X(t,this),e.writeString(t)},T.prototype._match=function(e,t){return e.matchString(t)},T.prototype._update=function(e,t){switch(t.typeName){case"bytes":case"string":e._read=this._read}},T.prototype.typeName="string",T.prototype.random=function(){return v.nextString(v.nextInt(32))},c.inherits(M,w),M.prototype._check=function(e,t,r){var i=n.isBuffer(e);return!i&&r&&r(e,this),i},M.prototype._read=function(e){return e.readBytes()},M.prototype._skip=function(e){e.skipBytes()},M.prototype._write=function(e,t){n.isBuffer(t)||X(t,this),e.writeBytes(t)},M.prototype._match=function(e,t){return e.matchBytes(t)},M.prototype._update=T.prototype._update,M.prototype._copy=function(e,t){var r;switch(0|(t&&t.coerce)){case 3:return this._check(e,void 0,X),e.toString("binary");case 2:if("string"!=typeof e)throw new Error(h("cannot coerce to buffer: %j",e));return r=s.bufferFrom(e,"binary"),this._check(r,void 0,X),r;case 1:if(!Y(e))throw new Error(h("cannot coerce to buffer: %j",e));return r=s.bufferFrom(e.data),this._check(r,void 0,X),r;default:return this._check(e,void 0,X),s.bufferFrom(e)}},M.prototype.compare=n.compare,M.prototype.typeName="bytes",M.prototype.random=function(){return v.nextBuffer(v.nextInt(32))},c.inherits(P,b),P.prototype._branchConstructor=function(){throw new Error("unions cannot be directly wrapped")},P.prototype._skip=function(e){this.types[e.readLong()]._skip(e)},P.prototype._match=function(e,t){var r=e.readLong(),n=t.readLong();return r===n?this.types[r]._match(e,t):r<n?-1:1},P.prototype._deref=function(e,t){return this.types.map((function(e){return e._attrs(t)}))},P.prototype.getTypes=function(){return this.types},c.inherits(I,P),I.prototype._getIndex=function(e){var t=this._bucketIndices[ee(e)];return this._dynamicBranches&&(t=this._getBranchIndex(e,t)),t},I.prototype._getBranchIndex=function(e,t){var r,n,i,a=this._dynamicBranches;for(r=0,n=a.length;r<n;r++)if((i=a[r]).type._check(e)){if(void 0!==t)throw new Error("ambiguous conversion");t=i.index}return t},I.prototype._check=function(e,t,r,n){var i=this._getIndex(e),a=void 0!==i;return a?this.types[i]._check(e,t,r,n):(r&&r(e,this),a)},I.prototype._read=function(e){var t=e.readLong(),r=this.types[t];if(r)return r._read(e);throw new Error(h("invalid union index: %s",t))},I.prototype._write=function(e,t){var r=this._getIndex(t);void 0===r&&X(t,this),e.writeLong(r),null!==t&&this.types[r]._write(e,t)},I.prototype._update=function(e,t,r){var n,i,a;for(n=0,i=this.types.length;n<i;n++){try{a=this.types[n].createResolver(t,r)}catch(o){continue}return void(e._read=function(e){return a._read(e)})}},I.prototype._copy=function(e,t){var r,n=t&&0|t.coerce,i=t&&0|t.wrap;if(2===i)r=0;else{switch(n){case 1:r=Y(e)&&void 0!==this._bucketIndices.buffer?this._bucketIndices.buffer:this._getIndex(e);break;case 2:if(null===e)r=this._bucketIndices.null;else if("object"===typeof e){var a=Object.keys(e);1===a.length&&(r=this._branchIndices[a[0]],e=e[a[0]])}break;default:r=this._getIndex(e)}void 0===r&&X(e,this)}var o=this.types[r];if(null===e||3===i)return o._copy(e,t);if(3===n){var s={};return s[o.branchName]=o._copy(e,t),s}return o._copy(e,t)},I.prototype.compare=function(e,t){var r=this._getIndex(e),n=this._getIndex(t);if(void 0===r)X(e,this);else{if(void 0!==n)return r===n?this.types[r].compare(e,t):s.compare(r,n);X(t,this)}},I.prototype.typeName="union:unwrapped",I.prototype.random=function(){var e=v.nextInt(this.types.length);return this.types[e].random()},c.inherits(N,P),N.prototype._check=function(e,t,r,n){var i=!1;if(null===e)i=void 0!==this._branchIndices.null;else if("object"==typeof e){var a=Object.keys(e);if(1===a.length){var o=a[0],s=this._branchIndices[o];if(void 0!==s)return r?(n.push(o),i=this.types[s]._check(e[o],t,r,n),n.pop(),i):this.types[s]._check(e[o],t)}}return!i&&r&&r(e,this),i},N.prototype._read=function(e){var t=this.types[e.readLong()];if(!t)throw new Error(h("invalid union index"));var r=t._branchConstructor;return null===r?null:new r(t._read(e))},N.prototype._write=function(e,t){var r,n,i;null===t?(void 0===(r=this._branchIndices.null)&&X(t,this),e.writeLong(r)):(1===(n=Object.keys(t)).length&&(i=n[0],r=this._branchIndices[i]),void 0===r&&X(t,this),e.writeLong(r),this.types[r]._write(e,t[i]))},N.prototype._update=function(e,t,r){var n,i,a,o;for(n=0,i=this.types.length;n<i;n++){try{a=this.types[n].createResolver(t,r)}catch(s){continue}return o=this.types[n]._branchConstructor,void(e._read=o?function(e){return new o(a._read(e))}:function(){return null})}},N.prototype._copy=function(e,t){var r,n,i,a=t&&0|t.wrap;if(2===a){var o=this.types[0];return null===e&&"null"===o.typeName?null:new o._branchConstructor(o._copy(e,t))}if(null===e&&void 0!==this._branchIndices.null)return null;if("object"==typeof e){var s=Object.keys(e);if(1===s.length){var u,c,f=s[0];if(void 0===(r=this._branchIndices[f])&&t.qualifyNames)for(u=0,n=this.types.length;u<n;u++)if((c=this.types[u]).name&&f===q(c.name)){r=u;break}void 0!==r&&(i=this.types[r]._copy(e[f],t))}}if(1===a&&void 0===i)for(r=0,n=this.types.length;r<n&&void 0===i;)try{i=this.types[r]._copy(e,t)}catch(l){r++}if(void 0!==i)return 3===a?i:new this.types[r]._branchConstructor(i);X(e,this)},N.prototype.compare=function(e,t){var r=null===e?"null":Object.keys(e)[0],n=null===t?"null":Object.keys(t)[0],i=this._branchIndices[r];return r===n?"null"===r?0:this.types[i].compare(e[r],t[r]):s.compare(i,this._branchIndices[n])},N.prototype.typeName="union:wrapped",N.prototype.random=function(){var e=v.nextInt(this.types.length),t=this.types[e],r=t._branchConstructor;return r?new r(t.random()):null},c.inherits(C,b),C.prototype._check=function(e,t,r){var n=void 0!==this._indices[e];return!n&&r&&r(e,this),n},C.prototype._read=function(e){var t=e.readLong(),r=this.symbols[t];if(void 0===r)throw new Error(h("invalid %s enum index: %s",this.name,t));return r},C.prototype._skip=function(e){e.skipLong()},C.prototype._write=function(e,t){var r=this._indices[t];void 0===r&&X(t,this),e.writeLong(r)},C.prototype._match=function(e,t){return e.matchLong(t)},C.prototype.compare=function(e,t){return s.compare(this._indices[e],this._indices[t])},C.prototype._update=function(e,t){var r=this.symbols;"enum"!==t.typeName||t.name&&!~z(this).indexOf(t.name)||!t.symbols.every((function(e){return~r.indexOf(e)}))||(e.symbols=t.symbols,e._read=t._read)},C.prototype._copy=function(e){return this._check(e,void 0,X),e},C.prototype._deref=function(e){e.symbols=this.symbols},C.prototype.getSymbols=function(){return this.symbols},C.prototype.typeName="enum",C.prototype.random=function(){return v.choice(this.symbols)},c.inherits(O,b),O.prototype._check=function(e,t,r){var i=n.isBuffer(e)&&e.length===this.size;return!i&&r&&r(e,this),i},O.prototype._read=function(e){return e.readFixed(this.size)},O.prototype._skip=function(e){e.skipFixed(this.size)},O.prototype._write=function(e,t){n.isBuffer(t)&&t.length===this.size||X(t,this),e.writeFixed(t,this.size)},O.prototype._match=function(e,t){return e.matchFixed(t,this.size)},O.prototype.compare=n.compare,O.prototype._update=function(e,t){"fixed"!==t.typeName||this.size!==t.size||t.name&&!~z(this).indexOf(t.name)||(e.size=this.size,e._read=this._read)},O.prototype._copy=M.prototype._copy,O.prototype._deref=function(e){e.size=this.size},O.prototype.getSize=function(){return this.size},O.prototype.typeName="fixed",O.prototype.random=function(){return v.nextBuffer(this.size)},c.inherits(R,b),R.prototype._check=function(e,t,r,n){if(!e||"object"!=typeof e||Array.isArray(e))return r&&r(e,this),!1;var i,a,o,s,u=Object.keys(e),c=!0;if(r){for(o=n.length,n.push(""),i=0,a=u.length;i<a;i++)s=n[o]=u[i],this.valuesType._check(e[s],t,r,n)||(c=!1);n.pop()}else for(i=0,a=u.length;i<a;i++)if(!this.valuesType._check(e[u[i]],t))return!1;return c},R.prototype._read=function(e){for(var t,r=this.valuesType,n={};t=J(e);)for(;t--;){n[e.readString()]=r._read(e)}return n},R.prototype._skip=function(e){for(var t,r,n=this.valuesType;r=e.readLong();)if(r<0)t=e.readLong(),e.pos+=t;else for(;r--;)e.skipString(),n._skip(e)},R.prototype._write=function(e,t){t&&"object"==typeof t&&!Array.isArray(t)||X(t,this);var r,n,i=this.valuesType,a=Object.keys(t),o=a.length;if(o)for(e.writeLong(o),r=0;r<o;r++)n=a[r],e.writeString(n),i._write(e,t[n]);e.writeLong(0)},R.prototype._match=function(){throw new Error("maps cannot be compared")},R.prototype._update=function(e,t,r){"map"===t.typeName&&(e.valuesType=this.valuesType.createResolver(t.valuesType,r),e._read=this._read)},R.prototype._copy=function(e,t){if(e&&"object"==typeof e&&!Array.isArray(e)){var r,n,i,a=this.valuesType,o=Object.keys(e),s={};for(r=0,n=o.length;r<n;r++)s[i=o[r]]=a._copy(e[i],t);return s}X(e,this)},R.prototype.compare=R.prototype._match,R.prototype.typeName="map",R.prototype.getValuesType=function(){return this.valuesType},R.prototype.random=function(){var e,t,r={};for(e=0,t=v.nextInt(10);e<t;e++)r[v.nextString(v.nextInt(20))]=this.valuesType.random();return r},R.prototype._deref=function(e,t){e.values=this.valuesType._attrs(t)},c.inherits(B,b),B.prototype._check=function(e,t,r,n){if(!Array.isArray(e))return r&&r(e,this),!1;var i,a,o,s=!0;if(r){for(o=n.length,n.push(""),i=0,a=e.length;i<a;i++)n[o]=""+i,this.itemsType._check(e[i],t,r,n)||(s=!1);n.pop()}else for(i=0,a=e.length;i<a;i++)if(!this.itemsType._check(e[i],t))return!1;return s},B.prototype._read=function(e){for(var t,r=this.itemsType,n=[];t=e.readLong();)for(t<0&&(t=-t,e.skipLong());t--;)n.push(r._read(e));return n},B.prototype._skip=function(e){for(var t,r;r=e.readLong();)if(r<0)t=e.readLong(),e.pos+=t;else for(;r--;)this.itemsType._skip(e)},B.prototype._write=function(e,t){Array.isArray(t)||X(t,this);var r,n=t.length;if(n)for(e.writeLong(n),r=0;r<n;r++)this.itemsType._write(e,t[r]);e.writeLong(0)},B.prototype._match=function(e,t){for(var r,n=e.readLong(),i=t.readLong();n&&i;){if(r=this.itemsType._match(e,t))return r;--n||(n=J(e)),--i||(i=J(t))}return s.compare(n,i)},B.prototype._update=function(e,t,r){"array"===t.typeName&&(e.itemsType=this.itemsType.createResolver(t.itemsType,r),e._read=this._read)},B.prototype._copy=function(e,t){Array.isArray(e)||X(e,this);var r,n,i=new Array(e.length);for(r=0,n=e.length;r<n;r++)i[r]=this.itemsType._copy(e[r],t);return i},B.prototype._deref=function(e,t){e.items=this.itemsType._attrs(t)},B.prototype.compare=function(e,t){var r,n,i,a=e.length,o=t.length;for(r=0,n=Math.min(a,o);r<n;r++)if(i=this.itemsType.compare(e[r],t[r]))return i;return s.compare(a,o)},B.prototype.getItemsType=function(){return this.itemsType},B.prototype.typeName="array",B.prototype.random=function(){var e,t,r=[];for(e=0,t=v.nextInt(10);e<t;e++)r.push(this.itemsType.random());return r},c.inherits(U,b),U.prototype._getConstructorName=function(){return this.name?q(this.name):this._isError?"Error$":"Record$"},U.prototype._createConstructor=function(e){var t,r,n,i,a,s,u,f={};for(t=0,r=this.fields.length;t<r;t++)s=void 0!==(a=(n=this.fields[t]).defaultValue)(),i=n.name,e&&this._isError&&"stack"===i&&b.isType(n.type,"string")&&!s&&(u=n),s&&(f[t]=a);var l=this;var h=function(e){var t=l._getConstructorName(),r=o({},t,(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0,a=l.fields.length;i<a;i++){var o=l.fields[i];void 0===o.defaultValue()?this[o.name]=r[i]:void 0===r[i]?this[o.name]=e[i]():this[o.name]=r[i]}u&&void 0===this.stack&&("function"===typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack)}))[t];return r}(f);return h.getType=function(){return l},h.type=l,this._isError&&(c.inherits(h,Error),h.prototype.name=this._getConstructorName()),h.prototype.clone=function(e){return l.clone(this,e)},h.prototype.compare=function(e){return l.compare(this,e)},h.prototype.isValid=function(e){return l.isValid(this,e)},h.prototype.toBuffer=function(){return l.toBuffer(this)},h.prototype.toString=function(){return l.toString(this)},h.prototype.wrap=function(){return l.wrap(this)},h.prototype.wrapped=h.prototype.wrap,h},U.prototype._createChecker=function(){var e=[];this.fields.forEach((function(t){e.push(t.type)}));var t=this;return function(e){var r=t._getConstructorName(),n=o({},r,(function(r,n,i,a){if(null===r||"object"!==typeof r||n&&!this._checkFields(r))return i&&i(r,this),!1;var o=[];if(!t.fields.length)return!0;for(var s=0,u=t.fields.length;s<u;s++){var c=t.fields[s];void 0!==c.defaultValue()&&o.push(r[c.name])}if(i){var f=1,l=a.length;a.push("");for(s=0,u=t.fields.length;s<u;s++){var h=t.fields[s];a[l]=h.name,f&=void 0===h.defaultValue()?e[s]._check(r[h.name],h,i,a):void 0===o[s]||e[s]._check(o[s],h,i,a)}return a.pop(),!!f}return t.fields.reduce((function(t,i,a){return t&&(void 0===i.defaultValue()?e[a]._check(r[i.name]):void 0===o[a]||e[a]._check(o[a],n))}),!0)}))[r];return n}(e)},U.prototype._createReader=function(){var e,t,r=[this.recordConstructor];for(e=0,t=this.fields.length;e<t;e++)r.push(this.fields[e].type);var n=this;return function(e){var t=n._getConstructorName();return o({},t,(function(t){return i(e[0],a(e.slice(1).map((function(e){return e._read(t)}))))}))[t]}(r)},U.prototype._createSkipper=function(){var e=[];this.fields.forEach((function(t){e.push(t.type)}));var t=this;return function(e){var r=t._getConstructorName();return o({},r,(function(t){e.forEach((function(e){return e._skip(t)}))}))[r]}(e)},U.prototype._createWriter=function(){var e=[],t={};this.fields.forEach((function(r,n){e.push(r.type),void 0!==r.defaultValue()&&(t[n]=r.type.toBuffer(r.defaultValue()).toString("binary"))}));var r=this;return function(e,t){var n=r._getConstructorName();return o({},n,(function(n,i){for(var a=0,o=r.fields.length;a<o;a++){var s=r.fields[a];void 0===s.defaultValue()?e[a]._write(n,i[s.name]):void 0===i[s.name]?n.writeBinary(t[a],t[a].length):e[a]._write(n,i[s.name])}}))[n]}(e,t)},U.prototype._update=function(e,t,r){if(t.name&&!~z(this).indexOf(t.name))throw new Error(h("no alias found for %s",t.name));var n,a,u,c,f,l,d,p=this.fields,v=t.fields,y=s.toMap(v,(function(e){return e.name})),m={};for(n=0;n<p.length;n++){for(u=p[n],f=z(u),l=[],a=0;a<f.length;a++)c=f[a],y[c]&&l.push(c);if(l.length>1)throw new Error(h("ambiguous aliasing for %s.%s (%s)",t.name,u.name,l));if(l.length)c=l[0],d={resolver:u.type.createResolver(y[c].type,r),name:"_"+u.name},m[c]?m[c].push(d):m[c]=[d];else if(void 0===u.defaultValue())throw new Error(h("no matching field for default-less %s.%s",t.name,u.name))}var g=this;e._read=function(){var e=g._getConstructorName(),r=o({},e,(function(e,r){if(!r){var n=[];for(a=0;a<p.length;a++){for(u=p[a],f=z(u),l=[],s=0;s<f.length;s++)c=f[s],y[c]&&l.push(c);l.length||n.push(void 0)}for(var a=0;a<v.length;a++){var o=t.fields[a];if(c=o.name,void 0===m[c])o.type._skip(e);else for(var s=m[c].length;s--;)n.unshift(s?m[c][s].resolver._peek(e):m[c][s].resolver._read(e))}return i(g.recordConstructor,n)}}))[e];return r}()},U.prototype._match=function(e,t){var r,n,i,a,o,s=this.fields;for(r=0,n=s.length;r<n;r++)if(a=(i=s[r])._order,o=i.type,a){if(a*=o._match(e,t))return a}else o._skip(e),o._skip(t);return 0},U.prototype._checkFields=function(e){var t,r,n=Object.keys(e);for(t=0,r=n.length;t<r;t++)if(!this._fieldsByName[n[t]])return!1;return!0},U.prototype._copy=function(e,t){var r,n,i,a,o=t&&t.fieldHook,s=[void 0];for(r=0,n=this.fields.length;r<n;r++)void 0===(a=e[(i=this.fields[r]).name])&&i.hasOwnProperty("defaultValue")&&(a=i.defaultValue()),(t&&!t.skip||void 0!==a)&&(a=i.type._copy(a,t)),o&&(a=o(i,a,this)),s.push(a);var u=this.recordConstructor;return new(u.bind.apply(u,s))},U.prototype._deref=function(e,t){e.fields=this.fields.map((function(e){var r=e.type,n={name:e.name,type:r._attrs(t)};if(t.exportAttrs){var i=e.defaultValue();void 0!==i&&(n.default=r._copy(i,{coerce:3,wrap:3}));var a=e.order;"ascending"!==a&&(n.order=a);var o=e.aliases;o.length&&(n.aliases=o);var s=e.doc;void 0!==s&&(n.doc=s)}return n}))},U.prototype.compare=function(e,t){var r,n,i,a,o,s,u=this.fields;for(r=0,n=u.length;r<n;r++)if(a=(i=u[r]).name,o=i._order,s=i.type,o&&(o*=s.compare(e[a],t[a])))return o;return 0},U.prototype.random=function(){var e=this.fields.map((function(e){return e.type.random()}));e.unshift(void 0);var t=this.recordConstructor;return new(t.bind.apply(t,e))},U.prototype.field=function(e){return this._fieldsByName[e]},U.prototype.getField=U.prototype.field,U.prototype.getFields=function(){return this.fields},U.prototype.getRecordConstructor=function(){return this.recordConstructor},Object.defineProperty(U.prototype,"typeName",{enumerable:!0,get:function(){return this._isError?"error":"record"}}),c.inherits(F,b),Object.defineProperty(F.prototype,"typeName",{enumerable:!0,get:function(){return"logical:"+this._logicalTypeName}}),Object.defineProperty(F.prototype,"underlyingType",{enumerable:!0,get:function(){if(this._underlyingType)return this._underlyingType;var e,t,r;for(e=0,t=g.length;e<t;e++)if((r=g[e])[0]===this)return r[1]}}),F.prototype.getUnderlyingType=function(){return this.underlyingType},F.prototype._read=function(e){return this._fromValue(this.underlyingType._read(e))},F.prototype._write=function(e,t){this.underlyingType._write(e,this._toValue(t))},F.prototype._check=function(e,t,r,n){try{var i=this._toValue(e)}catch(a){}return void 0===i?(r&&r(e,this),!1):this.underlyingType._check(i,t,r,n)},F.prototype._copy=function(e,t){var r=this.underlyingType;switch(t&&t.coerce){case 3:return r._copy(this._toValue(e),t);case 2:return this._fromValue(r._copy(e,t));default:return this._fromValue(r._copy(this._toValue(e),t))}},F.prototype._update=function(e,t,r){var n=this._resolve(t,r);n&&(e._read=function(e){return n(t._read(e))})},F.prototype.compare=function(e,t){var r=this._toValue(e),n=this._toValue(t);return this.underlyingType.compare(r,n)},F.prototype.random=function(){return this._fromValue(this.underlyingType.random())},F.prototype._deref=function(e,t){var r=this.underlyingType,n=void 0!==r.name&&t.derefed[r.name];return e=r._attrs(t),!n&&t.exportAttrs&&("string"==typeof e&&(e={type:e}),e.logicalType=this._logicalTypeName,this._export(e)),e},F.prototype._skip=function(e){this.underlyingType._skip(e)},F.prototype._export=function(){},F.prototype._fromValue=s.abstractFunction,F.prototype._toValue=s.abstractFunction,F.prototype._resolve=s.abstractFunction,c.inherits(L,A),L.prototype.typeName="abstract:long",L.prototype._check=function(e,t,r){var n=this._isValid(e);return!n&&r&&r(e,this),n},L.prototype._read=function(e){var t,r;if(this._noUnpack?(r=e.pos,e.skipLong(),t=e.buf.slice(r,e.pos)):t=e.unpackLongBytes(e),e.isValid())return this._fromBuffer(t)},L.prototype._write=function(e,t){this._isValid(t)||X(t,this);var r=this._toBuffer(t);this._noUnpack?e.writeFixed(r):e.packLongBytes(r)},L.prototype._copy=function(e,t){switch(t&&t.coerce){case 3:return this._toJSON(e);case 2:return this._fromJSON(e);default:return this._fromJSON(this._toJSON(e))}},L.prototype._deref=function(){return"long"},L.prototype._update=function(e,t){var r=this;switch(t.typeName){case"int":e._read=function(e){return r._fromJSON(t._read(e))};break;case"long":e._read=function(e){return r._read(e)}}},L.prototype.random=function(){return this._fromJSON(A.prototype.random())},L.prototype._fromBuffer=s.abstractFunction,L.prototype._toBuffer=s.abstractFunction,L.prototype._fromJSON=s.abstractFunction,L.prototype._toJSON=s.abstractFunction,L.prototype._isValid=s.abstractFunction,L.prototype.compare=s.abstractFunction,j.prototype.defaultValue=function(){},Object.defineProperty(j.prototype,"order",{enumerable:!0,get:function(){return["descending","ignore","ascending"][this._order+1]}}),j.prototype.getAliases=function(){return this.aliases},j.prototype.getDefault=j.prototype.defaultValue,j.prototype.getName=function(){return this.name},j.prototype.getOrder=function(){return this.order},j.prototype.getType=function(){return this.type},D.prototype._peek=b.prototype._peek,D.prototype.inspect=function(){return"<Resolver>"},e.exports={Type:b,getTypeBucket:$,getValueBucket:ee,isPrimitive:G,isValidName:Q,qualify:H,builtins:function(){var e,t,r,n={LogicalType:F,UnwrappedUnionType:I,WrappedUnionType:N},i=Object.keys(d);for(e=0,t=i.length;e<t;e++)n[V(r=i[e])]=d[r];return n}()}},76338:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(18138),a=r(49639),o=new f(4096);function s(e){return"function"==typeof n.alloc?n.alloc(e):new n(e)}function u(e,t){return"function"==typeof n.from?n.from(e,t):new n(e,t)}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function f(e){this._len=0|e,this._pos=0,this._slab=s(this._len)}function l(e){var t=Math.pow(2,31),r=Math.floor(e||Math.random()*(t-1));this._max=t,this._nextInt=function(){return r=(1103515245*r+12345)%t}}function h(){this._index=0,this._items=[]}function d(e,t){if(this.buf=e,this.pos=0|t,this.pos<0)throw new Error("negative offset")}function p(e,t){for(;t--;)e[t]=~e[t]}f.prototype.alloc=function(e){var t=this._len;return e>t?s(e):(this._pos+e>t&&(this._slab=s(t),this._pos=0),this._slab.slice(this._pos,this._pos+=e))},l.prototype.nextBoolean=function(){return!!(this._nextInt()%2)},l.prototype.nextInt=function(e,t){return void 0===t&&(t=e,e=0),t=void 0===t?this._max:t,e+Math.floor(this.nextFloat()*(t-e))},l.prototype.nextFloat=function(e,t){return void 0===t&&(t=e,e=0),e+((t=void 0===t?1:t)-e)*this._nextInt()/this._max},l.prototype.nextString=function(e,t){e|=0;var r="";(t=t||"aA").indexOf("a")>-1&&(r+="abcdefghijklmnopqrstuvwxyz"),t.indexOf("A")>-1&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),t.indexOf("#")>-1&&(r+="0123456789"),t.indexOf("!")>-1&&(r+="~`!@#$%^&*()_+-={}[]:\";'<>?,./|\\");for(var n=[],i=0;i<e;i++)n.push(this.choice(r));return n.join("")},l.prototype.nextBuffer=function(e){var t,r=[];for(t=0;t<e;t++)r.push(this.nextInt(256));return u(r)},l.prototype.choice=function(e){var t=e.length;if(!t)throw new Error("choosing from empty array");return e[this.nextInt(t)]},h.prototype.push=function(e){var t,r=this._items,n=0|r.length;for(r.push(e);n>0&&r[n].index<r[t=n-1>>1].index;)e=r[n],r[n]=r[t],r[t]=e,n=t},h.prototype.pop=function(){var e=this._items,t=e.length-1|0,r=e[0];if(!r||r.index>this._index)return null;if(this._index++,!t)return e.pop(),r;e[0]=e.pop();for(var n,i,a,o,s,u,c,f=t>>1,l=0;l<f&&(o=e[l],i=l+1<<1,u=e[n=1+(l<<1)],!(c=e[i])||u.index<=c.index?(s=u,a=n):(s=c,a=i),!(s.index>=o.index));)e[a]=o,e[l]=s,l=a;return r},d.prototype.isValid=function(){return this.pos<=this.buf.length},d.prototype.readBoolean=function(){return!!this.buf[this.pos++]},d.prototype.skipBoolean=function(){this.pos++},d.prototype.writeBoolean=function(e){this.buf[this.pos++]=!!e},d.prototype.readInt=d.prototype.readLong=function(){var e,t,r,n,i=0,a=0,o=this.buf;do{t=128&(e=o[this.pos++]),i|=(127&e)<<a,a+=7}while(t&&a<28);if(t){r=i,n=268435456;do{r+=(127&(e=o[this.pos++]))*n,n*=128}while(128&e);return(r%2?-(r+1):r)/2}return i>>1^-(1&i)},d.prototype.skipInt=d.prototype.skipLong=function(){for(var e=this.buf;128&e[this.pos++];);},d.prototype.writeInt=d.prototype.writeLong=function(e){var t,r,n=this.buf;if(e>=-1073741824&&e<1073741824){r=e>=0?e<<1:~e<<1|1;do{n[this.pos]=127&r,r>>=7}while(r&&(n[this.pos++]|=128))}else{t=e>=0?2*e:2*-e-1;do{n[this.pos]=127&t,t/=128}while(t>=1&&(n[this.pos++]|=128))}this.pos++},d.prototype.readFloat=function(){var e=this.buf,t=this.pos;if(this.pos+=4,!(this.pos>e.length))return this.buf.readFloatLE(t)},d.prototype.skipFloat=function(){this.pos+=4},d.prototype.writeFloat=function(e){var t=this.buf,r=this.pos;if(this.pos+=4,!(this.pos>t.length))return this.buf.writeFloatLE(e,r)},d.prototype.readDouble=function(){var e=this.buf,t=this.pos;if(this.pos+=8,!(this.pos>e.length))return this.buf.readDoubleLE(t)},d.prototype.skipDouble=function(){this.pos+=8},d.prototype.writeDouble=function(e){var t=this.buf,r=this.pos;if(this.pos+=8,!(this.pos>t.length))return this.buf.writeDoubleLE(e,r)},d.prototype.readFixed=function(e){var t=this.pos;if(this.pos+=e,!(this.pos>this.buf.length)){var r=o.alloc(e);return this.buf.copy(r,0,t,t+e),r}},d.prototype.skipFixed=function(e){this.pos+=e},d.prototype.writeFixed=function(e,t){t=t||e.length;var r=this.pos;this.pos+=t,this.pos>this.buf.length||e.copy(this.buf,r,0,t)},d.prototype.readBytes=function(){return this.readFixed(this.readLong())},d.prototype.skipBytes=function(){var e=this.readLong();this.pos+=e},d.prototype.writeBytes=function(e){var t=e.length;this.writeLong(t),this.writeFixed(e,t)},"function"==typeof n.prototype.utf8Slice?d.prototype.readString=function(){var e=this.readLong(),t=this.pos,r=this.buf;if(this.pos+=e,!(this.pos>r.length))return this.buf.utf8Slice(t,t+e)}:d.prototype.readString=function(){var e=this.readLong(),t=this.pos,r=this.buf;if(this.pos+=e,!(this.pos>r.length))return this.buf.slice(t,t+e).toString()},d.prototype.skipString=function(){var e=this.readLong();this.pos+=e},d.prototype.writeString=function(e){var t=n.byteLength(e),r=this.buf;this.writeLong(t);var i,a,o,s,u=this.pos;if(this.pos+=t,!(this.pos>r.length))if(t>64)this._writeUtf8(e,t);else for(i=0,a=t;i<a;i++)(o=e.charCodeAt(i))<128?r[u++]=o:o<2048?(r[u++]=o>>6|192,r[u++]=63&o|128):55296===(64512&o)&&56320===(64512&(s=e.charCodeAt(i+1)))?(o=65536+((1023&o)<<10)+(1023&s),i++,r[u++]=o>>18|240,r[u++]=o>>12&63|128,r[u++]=o>>6&63|128,r[u++]=63&o|128):(r[u++]=o>>12|224,r[u++]=o>>6&63|128,r[u++]=63&o|128)},"function"==typeof n.prototype.utf8Write?d.prototype._writeUtf8=function(e,t){this.buf.utf8Write(e,this.pos-t,t)}:d.prototype._writeUtf8=function(e,t){this.buf.write(e,this.pos-t,t,"utf8")},"function"==typeof n.prototype.latin1Write?d.prototype.writeBinary=function(e,t){var r=this.pos;this.pos+=t,this.pos>this.buf.length||this.buf.latin1Write(e,r,t)}:"function"==typeof n.prototype.binaryWrite?d.prototype.writeBinary=function(e,t){var r=this.pos;this.pos+=t,this.pos>this.buf.length||this.buf.binaryWrite(e,r,t)}:d.prototype.writeBinary=function(e,t){var r=this.pos;this.pos+=t,this.pos>this.buf.length||this.buf.write(e,r,t,"binary")},d.prototype.matchBoolean=function(e){return this.buf[this.pos++]-e.buf[e.pos++]},d.prototype.matchInt=d.prototype.matchLong=function(e){var t=this.readLong(),r=e.readLong();return t===r?0:t<r?-1:1},d.prototype.matchFloat=function(e){var t=this.readFloat(),r=e.readFloat();return t===r?0:t<r?-1:1},d.prototype.matchDouble=function(e){var t=this.readDouble(),r=e.readDouble();return t===r?0:t<r?-1:1},d.prototype.matchFixed=function(e,t){return this.readFixed(t).compare(e.readFixed(t))},d.prototype.matchBytes=d.prototype.matchString=function(e){var t=this.readLong(),r=this.pos;this.pos+=t;var n=e.readLong(),i=e.pos;e.pos+=n;var a=this.buf.slice(r,this.pos),o=e.buf.slice(i,e.pos);return a.compare(o)},d.prototype.unpackLongBytes=function(){var e,t,r=s(8),n=0,i=0,a=6,o=this.buf;for(t=1&(e=o[this.pos++]),r.fill(0),n|=(127&e)>>1;128&e;)n|=(127&(e=o[this.pos++]))<<a,(a+=7)>=8&&(a-=8,r[i++]=n,n>>=8);return r[i]=n,t&&p(r,8),r},d.prototype.packLongBytes=function(e){var t,r=(128&e[7])>>7,n=this.buf,i=1,a=0,o=3;r?(p(e,8),t=1):t=0;for(var s=[e.readUIntLE(0,3),e.readUIntLE(3,3),e.readUIntLE(6,2)];o&&!s[--o];);for(;a<o;)for(t|=s[a++]<<i,i+=24;i>7;)n[this.pos++]=127&t|128,t>>=7,i-=7;t|=s[o]<<i;do{n[this.pos]=127&t,t>>=7}while(t&&(n[this.pos++]|=128));this.pos++,r&&p(e,8)},e.exports={abstractFunction:function(){throw new Error("abstract")},addDeprecatedGetters:function(e,t){var r,n,i,o,s=e.prototype;for(r=0,n=t.length;r<n;r++)s[o="get"+c(i=t[r])]=a.deprecate(u(i),"use `."+i+"` instead of `."+o+"()`");function u(e){return function(){var t=this[e];return"function"==typeof t?t.apply(this,arguments):t}}},bufferFrom:u,capitalize:c,copyOwnProperties:function(e,t,r){var n,i,a,o=Object.getOwnPropertyNames(e);for(n=0,i=o.length;n<i;n++)if(a=o[n],!t.hasOwnProperty(a)||r){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,s)}return t},getHash:function(e,t){t=t||"md5";var r=i.createHash(t);return r.end(e),r.read()},compare:function(e,t){return e===t?0:e<t?-1:1},getOption:function(e,t,r){var n=e[t];return void 0===n?r:n},jsonEnd:function(e,t){t|=0;var r=e.charAt(t++);if(/[\d-]/.test(r)){for(;/[eE\d.+-]/.test(e.charAt(t));)t++;return t}if(/true|null/.test(e.slice(t-1,t+3)))return t+3;if(/false/.test(e.slice(t-1,t+4)))return t+4;var n=0,i=!1;do{switch(r){case"{":case"[":i||n++;break;case"}":case"]":if(!i&&!--n)return t;break;case'"':if(i=!i,!n&&!i)return t;break;case"\\":t++}}while(r=e.charAt(t++));return-1},newBuffer:s,objectValues:function(e){return Object.keys(e).map((function(t){return e[t]}))},toMap:function(e,t){var r,n,i={};for(r=0;r<e.length;r++)i[t(n=e[r])]=n;return i},singleIndexOf:function(e,t){var r,n,i=-1;if(!e)return-1;for(r=0,n=e.length;r<n;r++)if(e[r]===t){if(i>=0)return-2;i=r}return i},hasDuplicates:function(e,t){var r,n,i,a={};for(r=0,n=e.length;r<n;r++){if(i=e[r],t&&(i=t(i)),a[i])return!0;a[i]=!0}return!1},Lcg:l,OrderedQueue:h,Tap:d}},31360:function(e){"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<32;n++){var i=t.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function a(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=a(t)^n>>5}for(t=a(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=a(t)^31&i}return t}function s(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var s=(e=n).lastIndexOf("1");if(-1===s)return"No separator character for "+e;if(0===s)return"Missing prefix for "+e;var u=e.slice(0,s),c=e.slice(s+1);if(c.length<6)return"Data too short";var f=o(u);if("string"===typeof f)return f;for(var l=[],h=0;h<c.length;++h){var d=c.charAt(h),p=r[d];if(void 0===p)return"Unknown character "+d;f=a(f)^p,h+6>=c.length||l.push(p)}return 1!==f?"Invalid checksum for "+e:{prefix:u,words:l}}function u(e,t,r,n){for(var i=0,a=0,o=(1<<r)-1,s=[],u=0;u<e.length;++u)for(i=i<<t|e[u],a+=t;a>=r;)a-=r,s.push(i>>a&o);if(n)a>0&&s.push(i<<r-a&o);else{if(a>=t)return"Excess padding";if(i<<r-a&o)return"Non-zero padding"}return s}e.exports={decodeUnsafe:function(){var e=s.apply(null,arguments);if("object"===typeof e)return e},decode:function(e){var t=s.apply(null,arguments);if("object"===typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=o(e=e.toLowerCase());if("string"===typeof i)throw new Error(i);for(var s=e+"1",u=0;u<r.length;++u){var c=r[u];if(c>>5!==0)throw new Error("Non 5-bit word");i=a(i)^c,s+=t.charAt(c)}for(u=0;u<6;++u)i=a(i);for(i^=1,u=0;u<6;++u){s+=t.charAt(i>>5*(5-u)&31)}return s},toWordsUnsafe:function(e){var t=u(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=u(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=u(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=u(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},94057:function(e,t,r){r(42587).check("es5")},42587:function(e,t,r){r(32083),e.exports=r(87078)},77652:function(e){var t=function(){this.tests={},this.cache={}};t.prototype={constructor:t,define:function(e,t){if("string"!=typeof e||!(t instanceof Function))throw new Error("Invalid capability definition.");if(this.tests[e])throw new Error('Duplicated capability definition by "'+e+'".');this.tests[e]=t},check:function(e){if(!this.test(e))throw new Error('The current environment does not support "'+e+'", therefore we cannot continue.')},test:function(e){if(void 0!==this.cache[e])return this.cache[e];if(!this.tests[e])throw new Error('Unknown capability with name "'+e+'".');var t=this.tests[e];return this.cache[e]=!!t(),this.cache[e]}},e.exports=t},32083:function(e,t,r){var n=r(87078),i=n.define,a=n.test;i("strict mode",(function(){return void 0===this})),i("arguments.callee.caller",(function(){try{return function(){return arguments.callee.caller}()===arguments.callee}catch(e){return!1}})),i("es5",(function(){return a("Array.prototype.forEach")&&a("Array.prototype.map")&&a("Function.prototype.bind")&&a("Object.create")&&a("Object.defineProperties")&&a("Object.defineProperty")&&a("Object.prototype.hasOwnProperty")})),i("Array.prototype.forEach",(function(){return Array.prototype.forEach})),i("Array.prototype.map",(function(){return Array.prototype.map})),i("Function.prototype.bind",(function(){return Function.prototype.bind})),i("Object.create",(function(){return Object.create})),i("Object.defineProperties",(function(){return Object.defineProperties})),i("Object.defineProperty",(function(){return Object.defineProperty})),i("Object.prototype.hasOwnProperty",(function(){return Object.prototype.hasOwnProperty})),i("Error.captureStackTrace",(function(){return Error.captureStackTrace})),i("Error.prototype.stack",(function(){try{throw new Error}catch(e){return e.stack||e.stacktrace}}))},87078:function(e,t,r){var n=new(r(77652)),i=function(e){return n.test(e)};i.define=function(e,t){n.define(e,t)},i.check=function(e){n.check(e)},i.test=i,e.exports=i},64031:function(e){"use strict";function t(e,t){if("function"!==typeof e)throw new TypeError("argument fn must be a function");return e}function r(e,t,r){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");function n(e){}return n._file=void 0,n._ignored=!0,n._namespace=e,n._traced=!1,n._warned=Object.create(null),n.function=t,n.property=r,n}},81890:function(e,t,r){e.exports=r(41351)},41351:function(e,t,r){r(94057);var n,i=r(42587);n=i("Error.captureStackTrace")?r(25049):i("Error.prototype.stack")?r(70792):r(5419),e.exports=n()},87574:function(e,t,r){var n=r(24381).Class,i=r(24381).abstractMethod,a=n(Object,{prototype:{init:n.prototype.merge,frameString:void 0,toString:function(){return this.frameString},functionValue:void 0,getThis:i,getTypeName:i,getFunction:function(){return this.functionValue},getFunctionName:i,getMethodName:i,getFileName:i,getLineNumber:i,getColumnNumber:i,getEvalOrigin:i,isTopLevel:i,isEval:i,isNative:i,isConstructor:i}});e.exports=a},15981:function(e,t,r){var n=r(24381).Class,i=r(87574),a=r(91710).cache,o=n(Object,{prototype:{stackParser:null,frameParser:null,locationParsers:null,constructor:function(e){n.prototype.merge.call(this,e)},getFrames:function(e,t){for(var r=[],n=0,i=e.length;n<i;++n)r[n]=this.getFrame(e[n],t[n]);return r},getFrame:function(e,t){return new i({frameString:e,functionValue:t})}}});e.exports={getClass:a((function(){return o})),getInstance:a((function(){return new(this.getClass())}))}},46157:function(e,t,r){var n=r(24381).Class,i=r(24381).abstractMethod,a=r(91710).eachCombination,o=r(91710).cache,s=r(42587),u=n(Object,{prototype:{captureFrameStrings:function(e){var t=this.createError();e.unshift(this.captureFrameStrings),e.unshift(this.createError);var r=this.getFrameStrings(t).slice(e.length),n=[];if(s("arguments.callee.caller")){var i=[this.createError,this.captureFrameStrings];try{for(var a=arguments.callee;a=a.caller;)i.push(a)}catch(o){}n=i.slice(e.length)}return{frameStrings:r,functionValues:n}},getFrameStrings:function(e){var t=e.message||"",r=e.name||"",n=this.getStackString(e);if(void 0!==n){var i=n.split("\n"),a=0,o=i.length;return this.hasHeader&&(a+=r.split("\n").length+t.split("\n").length-1),this.hasFooter&&(o-=1),i.slice(a,o)}},createError:i,getStackString:i,hasHeader:void 0,hasFooter:void 0}}),c=n(Object,{prototype:{calibrateClass:function(e){return this.calibrateMethods(e)&&this.calibrateEnvelope(e)},calibrateMethods:function(e){try{a([[function(e){return new Error(e)},function(e){try{throw new Error(e)}catch(t){return t}}],[function(e){return e.stack},function(e){return e.stacktrace}]],(function(e,t){if(t(e()))throw{getStackString:t,createError:e}}))}catch(t){return n.merge.call(e,{prototype:t}),!0}return!1},calibrateEnvelope:function(e){var t=(0,e.prototype.getStackString)((0,e.prototype.createError)("marker")).split("\n");return n.merge.call(e,{prototype:{hasHeader:/marker/.test(t[0]),hasFooter:""===t[t.length-1]}}),!0}}});e.exports={getClass:o((function(){var e;if(e)return e;if(e=n(u,{}),!(new c).calibrateClass(e))throw new Error("Cannot read Error.prototype.stack in this environment.");return e})),getInstance:o((function(){return new(this.getClass())}))}},70792:function(e,t,r){var n=r(46157),i=r(15981),a=r(91710).cache,o=r(94568);e.exports=function(){return Error.captureStackTrace=function e(t,r){var s=[e];r&&s.push(r);var u=n.getInstance().captureFrameStrings(s);Object.defineProperties(t,{stack:{configurable:!0,get:a((function(){var e=i.getInstance().getFrames(u.frameStrings,u.functionValues);return(Error.prepareStackTrace||o)(t,e,undefined)}))},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(e){if(e.cachedStack)return e.stack;var t,r=n.getInstance().getFrameStrings(e),a=[];r?a=i.getInstance().getFrames(r,[]):t=["The stack is not readable by unthrown errors in this environment."];var s=(Error.prepareStackTrace||o)(e,a,t);if(r)try{Object.defineProperties(e,{stack:{configurable:!0,writable:!0,enumerable:!1,value:s},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch(u){}return s},{prepareStackTrace:o}}},94568:function(e){e.exports=function(e,t,r){var n="";if(n+=e.name||"Error",n+=": "+(e.message||""),r instanceof Array)for(var i in r){n+="\n   # "+r[i]}for(var a in t){n+="\n   at "+t[a].toString()}return n}},5419:function(e,t,r){var n=r(91710).cache,i=r(94568);e.exports=function(){return Error.captureStackTrace=function(e,t){Object.defineProperties(e,{stack:{configurable:!0,get:n((function(){return(Error.prepareStackTrace||i)(e,[])}))},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(e){if(e.cachedStack)return e.stack;var t=(Error.prepareStackTrace||i)(e,[]);try{Object.defineProperties(e,{stack:{configurable:!0,writable:!0,enumerable:!1,value:t},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch(r){}return t},{prepareStackTrace:i}}},25049:function(e,t,r){var n=r(94568);e.exports=function(){return Error.getStackTrace=function(e){return e.stack},{prepareStackTrace:n}}},40400:function(e,t,r){"use strict";r.r(t),r.d(t,{BaseContract:function(){return zn},BigNumber:function(){return ne},Contract:function(){return Gn},ContractFactory:function(){return Vn},FixedNumber:function(){return ii},Signer:function(){return kr},VoidSigner:function(){return _r},Wallet:function(){return Ba},Wordlist:function(){return Ui},constants:function(){return i},errors:function(){return A},ethers:function(){return u},getDefaultProvider:function(){return Uu},logger:function(){return dc},providers:function(){return a},utils:function(){return s},version:function(){return hc},wordlists:function(){return Di}});var n={};r.r(n),r.d(n,{decode:function(){return Ue},encode:function(){return Oe}});var i={};r.r(i),r.d(i,{AddressZero:function(){return La},EtherSymbol:function(){return Da},HashZero:function(){return ja},MaxInt256:function(){return Tt},MaxUint256:function(){return Et},MinInt256:function(){return St},NegativeOne:function(){return wt},One:function(){return _t},Two:function(){return xt},WeiPerEther:function(){return At},Zero:function(){return kt}});var a={};r.r(a),r.d(a,{AlchemyProvider:function(){return Zs},AlchemyWebSocketProvider:function(){return Ks},AnkrProvider:function(){return Gs},BaseProvider:function(){return ps},CloudflareProvider:function(){return Ws},EtherscanProvider:function(){return nu},FallbackProvider:function(){return bu},Formatter:function(){return Do},InfuraProvider:function(){return Au},InfuraWebSocketProvider:function(){return xu},IpcProvider:function(){return wu},JsonRpcBatchProvider:function(){return Eu},JsonRpcProvider:function(){return Ms},JsonRpcSigner:function(){return Es},NodesmithProvider:function(){return Tu},PocketProvider:function(){return Iu},Provider:function(){return yr},Resolver:function(){return ls},StaticJsonRpcProvider:function(){return Fs},UrlJsonRpcProvider:function(){return Ls},Web3Provider:function(){return Ru},WebSocketProvider:function(){return Rs},getDefaultProvider:function(){return Uu},getNetwork:function(){return Ja},isCommunityResourcable:function(){return Ko},isCommunityResource:function(){return Zo},showThrottleMessage:function(){return Ho}});var o={};r.r(o),r.d(o,{decode:function(){return Wa},encode:function(){return Ya}});var s={};r.r(s),r.d(s,{AbiCoder:function(){return nr},ConstructorFragment:function(){return Gt},ErrorFragment:function(){return Wt},EventFragment:function(){return Zt},FormatTypes:function(){return Ft},Fragment:function(){return Kt},FunctionFragment:function(){return Vt},HDNode:function(){return Qi},Indexed:function(){return cr},Interface:function(){return hr},LogDescription:function(){return or},Logger:function(){return T},ParamType:function(){return jt},RLP:function(){return n},SigningKey:function(){return ln},SupportedAlgorithm:function(){return Ei},TransactionDescription:function(){return sr},TransactionTypes:function(){return pn},UnicodeNormalizationForm:function(){return Ye},Utf8ErrorFuncs:function(){return et},Utf8ErrorReason:function(){return Qe},_TypedDataEncoder:function(){return Si},_fetchData:function(){return Oo},_toEscapedUtf8String:function(){return it},accessListify:function(){return An},arrayify:function(){return R},base58:function(){return Mi},base64:function(){return o},checkProperties:function(){return de},checkResultErrors:function(){return _e},commify:function(){return sc},computeAddress:function(){return wn},computeHmac:function(){return Oi},computePublicKey:function(){return dn},concat:function(){return B},deepCopy:function(){return ge},defaultAbiCoder:function(){return ir},defaultPath:function(){return Yi},defineReadOnly:function(){return fe},dnsEncode:function(){return So},entropyToMnemonic:function(){return ea},fetchJson:function(){return Ro},formatBytes32String:function(){return nc},formatEther:function(){return fc},formatUnits:function(){return uc},getAccountPath:function(){return ra},getAddress:function(){return ze},getContractAddress:function(){return Je},getCreate2Address:function(){return We},getIcapAddress:function(){return Ve},getJsonWalletAddress:function(){return Ia},getStatic:function(){return le},hashMessage:function(){return ui},hexConcat:function(){return q},hexDataLength:function(){return K},hexDataSlice:function(){return Z},hexStripZeros:function(){return z},hexValue:function(){return H},hexZeroPad:function(){return G},hexlify:function(){return D},id:function(){return ut},isAddress:function(){return Ge},isBytes:function(){return O},isBytesLike:function(){return N},isHexString:function(){return L},isValidMnemonic:function(){return ta},isValidName:function(){return Ao},joinSignature:function(){return J},keccak256:function(){return Me},mnemonicToEntropy:function(){return $i},mnemonicToSeed:function(){return Xi},namehash:function(){return Eo},nameprep:function(){return rc},parseBytes32String:function(){return ic},parseEther:function(){return lc},parseTransaction:function(){return In},parseUnits:function(){return cc},poll:function(){return Bo},randomBytes:function(){return oa},recoverAddress:function(){return kn},recoverPublicKey:function(){return hn},resolveProperties:function(){return he},ripemd160:function(){return Ii},serializeTransaction:function(){return Mn},sha256:function(){return Ni},sha512:function(){return Ci},shallowCopy:function(){return pe},shuffled:function(){return iu},solidityKeccak256:function(){return Hu},solidityPack:function(){return qu},soliditySha256:function(){return zu},splitSignature:function(){return V},stripZeros:function(){return U},toUtf8Bytes:function(){return rt},toUtf8CodePoints:function(){return st},toUtf8String:function(){return ot},verifyMessage:function(){return Ua},verifyTypedData:function(){return Fa},zeroPad:function(){return F}});var u={};r.r(u),r.d(u,{BaseContract:function(){return zn},BigNumber:function(){return ne},Contract:function(){return Gn},ContractFactory:function(){return Vn},FixedNumber:function(){return ii},Signer:function(){return kr},VoidSigner:function(){return _r},Wallet:function(){return Ba},Wordlist:function(){return Ui},constants:function(){return i},errors:function(){return A},getDefaultProvider:function(){return Uu},logger:function(){return dc},providers:function(){return a},utils:function(){return s},version:function(){return hc},wordlists:function(){return Di}});var c=r(93433),f=r(97326),l=r(11752),h=r(61120),d=r(60136),p=r(29388),v=r(15671),y=r(43144),m=r(74165),g=!1,b=!1,w={debug:1,default:2,info:2,warning:3,error:4,off:5},k=w.default,_=null;var x,A,E=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(x||(x={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(A||(A={}));var S="0123456789abcdef",T=function(){function e(t){(0,v.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return(0,y.Z)(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==w[r]&&this.throwArgumentError("invalid log level name","logLevel",e),k>w[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(b)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",a=0;a<t.length;a++)r+=S[t[a]>>4],r+=S[15&t[a]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var a=t,o="";switch(r){case A.NUMERIC_FAULT:o="NUMERIC_FAULT";var s=t;switch(s){case"overflow":case"underflow":case"division-by-zero":o+="-"+s;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break;case A.CALL_EXCEPTION:case A.INSUFFICIENT_FUNDS:case A.MISSING_NEW:case A.NONCE_EXPIRED:case A.REPLACEMENT_UNDERPRICED:case A.TRANSACTION_REPLACED:case A.UNPREDICTABLE_GAS_LIMIT:o=r}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");var u=new Error(t);return u.reason=a,u.code=r,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){null==t&&(t="platform missing String.prototype.normalize"),E&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:E})}},{key:"checkSafeUint53",value:function(t,r){"number"===typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return _||(_=new e("logger/5.7.0")),_}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),g){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}b=!!t,g=!!r}},{key:"setLogLevel",value:function(t){var r=w[t.toLowerCase()];null!=r?k=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();T.errors=A,T.levels=x;var M=new T("bytes/5.7.0");function P(e){return!!e.toHexString}function I(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return I(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function N(e){return L(e)&&!(e.length%2)||O(e)}function C(e){return"number"===typeof e&&e==e&&e%1===0}function O(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!C(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!C(r)||r<0||r>=256)return!1}return!0}function R(e,t){if(t||(t={}),"number"===typeof e){M.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),I(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),P(e)&&(e=e.toHexString()),L(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":M.throwArgumentError("hex data is odd-length","value",e));for(var i=[],a=0;a<n.length;a+=2)i.push(parseInt(n.substring(a,a+2),16));return I(new Uint8Array(i))}return O(e)?I(new Uint8Array(e)):M.throwArgumentError("invalid arrayify value","value",e)}function B(e){var t=e.map((function(e){return R(e)})),r=t.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(r);return t.reduce((function(e,t){return n.set(t,e),e+t.length}),0),I(n)}function U(e){var t=R(e);if(0===t.length)return t;for(var r=0;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function F(e,t){(e=R(e)).length>t&&M.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(t);return r.set(e,t-e.length),I(r)}function L(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var j="0123456789abcdef";function D(e,t){if(t||(t={}),"number"===typeof e){M.checkSafeUint53(e,"invalid hexlify value");for(var r="";e;)r=j[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),P(e))return e.toHexString();if(L(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":M.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(O(e)){for(var n="0x",i=0;i<e.length;i++){var a=e[i];n+=j[(240&a)>>4]+j[15&a]}return n}return M.throwArgumentError("invalid hexlify value","value",e)}function K(e){if("string"!==typeof e)e=D(e);else if(!L(e)||e.length%2)return null;return(e.length-2)/2}function Z(e,t,r){return"string"!==typeof e?e=D(e):(!L(e)||e.length%2)&&M.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function q(e){var t="0x";return e.forEach((function(e){t+=D(e).substring(2)})),t}function H(e){var t=z(D(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function z(e){"string"!==typeof e&&(e=D(e)),L(e)||M.throwArgumentError("invalid hex string","value",e),e=e.substring(2);for(var t=0;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function G(e,t){for("string"!==typeof e?e=D(e):L(e)||M.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&M.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function V(e){var t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(N(e)){var r=R(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=D(r.slice(0,32)),t.s=D(r.slice(32,64))):65===r.length?(t.r=D(r.slice(0,32)),t.s=D(r.slice(32,64)),t.v=r[64]):M.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:M.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=D(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var n=F(R(t._vs),32);t._vs=D(n);var i=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&M.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;var a=D(n);null==t.s?t.s=a:t.s!==a&&M.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?M.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var o=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==o&&M.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&L(t.r)?t.r=G(t.r,32):M.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&L(t.s)?t.s=G(t.s,32):M.throwArgumentError("signature missing or invalid s","signature",e);var s=R(t.s);s[0]>=128&&M.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(s[0]|=128);var u=D(s);t._vs&&(L(t._vs)||M.throwArgumentError("signature invalid _vs","signature",e),t._vs=G(t._vs,32)),null==t._vs?t._vs=u:t._vs!==u&&M.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function J(e){return D(B([(e=V(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var W=r(80518),Y=r.n(W),Q="bignumber/5.7.0",X=Y().BN,$=new T(Q),ee={},te=9007199254740991;var re=!1,ne=function(){function e(t,r){(0,v.Z)(this,e),t!==ee&&$.throwError("cannot call constructor directly; use BigNumber.from",T.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,y.Z)(e,[{key:"fromTwos",value:function(e){return ae(oe(this).fromTwos(e))}},{key:"toTwos",value:function(e){return ae(oe(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return ae(oe(this).add(oe(e)))}},{key:"sub",value:function(e){return ae(oe(this).sub(oe(e)))}},{key:"div",value:function(t){return e.from(t).isZero()&&se("division-by-zero","div"),ae(oe(this).div(oe(t)))}},{key:"mul",value:function(e){return ae(oe(this).mul(oe(e)))}},{key:"mod",value:function(e){var t=oe(e);return t.isNeg()&&se("division-by-zero","mod"),ae(oe(this).umod(t))}},{key:"pow",value:function(e){var t=oe(e);return t.isNeg()&&se("negative-power","pow"),ae(oe(this).pow(t))}},{key:"and",value:function(e){var t=oe(e);return(this.isNegative()||t.isNeg())&&se("unbound-bitwise-result","and"),ae(oe(this).and(t))}},{key:"or",value:function(e){var t=oe(e);return(this.isNegative()||t.isNeg())&&se("unbound-bitwise-result","or"),ae(oe(this).or(t))}},{key:"xor",value:function(e){var t=oe(e);return(this.isNegative()||t.isNeg())&&se("unbound-bitwise-result","xor"),ae(oe(this).xor(t))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&se("negative-width","mask"),ae(oe(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&se("negative-width","shl"),ae(oe(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&se("negative-width","shr"),ae(oe(this).shrn(e))}},{key:"eq",value:function(e){return oe(this).eq(oe(e))}},{key:"lt",value:function(e){return oe(this).lt(oe(e))}},{key:"lte",value:function(e){return oe(this).lte(oe(e))}},{key:"gt",value:function(e){return oe(this).gt(oe(e))}},{key:"gte",value:function(e){return oe(this).gte(oe(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return oe(this).isZero()}},{key:"toNumber",value:function(){try{return oe(this).toNumber()}catch(e){se("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return $.throwError("this platform does not support BigInt",T.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?re||(re=!0,$.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?$.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",T.errors.UNEXPECTED_ARGUMENT,{}):$.throwError("BigNumber.toString does not accept parameters",T.errors.UNEXPECTED_ARGUMENT,{})),oe(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(t){if(t instanceof e)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(ee,ie(t)):t.match(/^-?[0-9]+$/)?new e(ee,ie(new X(t))):$.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&se("underflow","BigNumber.from",t),(t>=te||t<=-te)&&se("overflow","BigNumber.from",t),e.from(String(t));var r=t;if("bigint"===typeof r)return e.from(r.toString());if(O(r))return e.from(D(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return e.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(L(i)||"-"===i[0]&&L(i.substring(1))))return e.from(i)}return $.throwArgumentError("invalid BigNumber value","value",t)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function ie(e){if("string"!==typeof e)return ie(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&$.throwArgumentError("invalid hex","value",e),"0x00"===(e=ie(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function ae(e){return ne.from(ie(e))}function oe(e){var t=ne.from(e).toHexString();return"-"===t[0]?new X("-"+t.substring(3),16):new X(t.substring(2),16)}function se(e,t,r){var n={fault:e,operation:t};return null!=r&&(n.value=r),$.throwError(e,T.errors.NUMERIC_FAULT,n)}var ue=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},ce=new T("properties/5.7.0");function fe(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function le(e,t){for(var r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!==typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function he(e){return ue(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.keys(e).map((function(t){var r=e[t];return Promise.resolve(r).then((function(e){return{key:t,value:e}}))})),t.next=3,Promise.all(r);case 3:return n=t.sent,t.abrupt("return",n.reduce((function(e,t){return e[t.key]=t.value,e}),{}));case 5:case"end":return t.stop()}}),t)})))}function de(e,t){e&&"object"===typeof e||ce.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((function(r){t[r]||ce.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function pe(e){var t={};for(var r in e)t[r]=e[r];return t}var ve={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function ye(e){if(void 0===e||null===e||ve[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;for(var t=Object.keys(e),r=0;r<t.length;r++){var n=null;try{n=e[t[r]]}catch(i){continue}if(!ye(n))return!1}return!0}return ce.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function me(e){if(ye(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return ge(e)})));if("object"===typeof e){var t={};for(var r in e){var n=e[r];void 0!==n&&fe(t,r,ge(n))}return t}return ce.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function ge(e){return me(e)}var be=(0,y.Z)((function e(t){for(var r in(0,v.Z)(this,e),t)this[r]=ge(t[r])})),we="abi/5.7.0",ke=new T(we);function _e(e){var t=[];return function e(r,n){if(Array.isArray(n))for(var i in n){var a=r.slice();a.push(i);try{e(a,n[i])}catch(o){t.push({path:a,error:o})}}}([],e),t}var xe=function(){function e(t,r,n,i){(0,v.Z)(this,e),this.name=t,this.type=r,this.localName=n,this.dynamic=i}return(0,y.Z)(e,[{key:"_throwError",value:function(e,t){ke.throwArgumentError(e,this.localName,t)}}]),e}(),Ae=function(){function e(t){(0,v.Z)(this,e),fe(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}return(0,y.Z)(e,[{key:"data",get:function(){return q(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(e){return this._data.push(e),this._dataLength+=e.length,e.length}},{key:"appendWriter",value:function(e){return this._writeData(B(e._data))}},{key:"writeBytes",value:function(e){var t=R(e),r=t.length%this.wordSize;return r&&(t=B([t,this._padding.slice(r)])),this._writeData(t)}},{key:"_getValue",value:function(e){var t=R(ne.from(e));return t.length>this.wordSize&&ke.throwError("value out-of-bounds",T.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=B([this._padding.slice(t.length%this.wordSize),t])),t}},{key:"writeValue",value:function(e){return this._writeData(this._getValue(e))}},{key:"writeUpdatableValue",value:function(){var e=this,t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(r){e._data[t]=e._getValue(r)}}}]),e}(),Ee=function(){function e(t,r,n,i){(0,v.Z)(this,e),fe(this,"_data",R(t)),fe(this,"wordSize",r||32),fe(this,"_coerceFunc",n),fe(this,"allowLoose",i),this._offset=0}return(0,y.Z)(e,[{key:"data",get:function(){return D(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(t,r){return this._coerceFunc?this._coerceFunc(t,r):e.coerce(t,r)}},{key:"_peekBytes",value:function(e,t,r){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:ke.throwError("data out-of-bounds",T.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(t){return new e(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(e,t){var r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}},{key:"readValue",value:function(){return ne.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(e,t){var r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}}]),e}(),Se=r(27898),Te=r.n(Se);function Me(e){return"0x"+Te().keccak_256(R(e))}var Pe=new T("rlp/5.7.0");function Ie(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function Ne(e,t,r){for(var n=0,i=0;i<r;i++)n=256*n+e[t+i];return n}function Ce(e){if(Array.isArray(e)){var t=[];if(e.forEach((function(e){t=t.concat(Ce(e))})),t.length<=55)return t.unshift(192+t.length),t;var r=Ie(t.length);return r.unshift(247+r.length),r.concat(t)}N(e)||Pe.throwArgumentError("RLP object must be BytesLike","object",e);var n=Array.prototype.slice.call(R(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=Ie(n.length);return i.unshift(183+i.length),i.concat(n)}function Oe(e){return D(Ce(e))}function Re(e,t,r,n){for(var i=[];r<t+1+n;){var a=Be(e,r);i.push(a.result),(r+=a.consumed)>t+1+n&&Pe.throwError("child data too short",T.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Be(e,t){if(0===e.length&&Pe.throwError("data too short",T.errors.BUFFER_OVERRUN,{}),e[t]>=248){var r=e[t]-247;t+1+r>e.length&&Pe.throwError("data short segment too short",T.errors.BUFFER_OVERRUN,{});var n=Ne(e,t+1,r);return t+1+r+n>e.length&&Pe.throwError("data long segment too short",T.errors.BUFFER_OVERRUN,{}),Re(e,t,t+1+r,r+n)}if(e[t]>=192){var i=e[t]-192;return t+1+i>e.length&&Pe.throwError("data array too short",T.errors.BUFFER_OVERRUN,{}),Re(e,t,t+1,i)}if(e[t]>=184){var a=e[t]-183;t+1+a>e.length&&Pe.throwError("data array too short",T.errors.BUFFER_OVERRUN,{});var o=Ne(e,t+1,a);return t+1+a+o>e.length&&Pe.throwError("data array too short",T.errors.BUFFER_OVERRUN,{}),{consumed:1+a+o,result:D(e.slice(t+1+a,t+1+a+o))}}if(e[t]>=128){var s=e[t]-128;return t+1+s>e.length&&Pe.throwError("data too short",T.errors.BUFFER_OVERRUN,{}),{consumed:1+s,result:D(e.slice(t+1,t+1+s))}}return{consumed:1,result:D(e[t])}}function Ue(e){var t=R(e),r=Be(t,0);return r.consumed!==t.length&&Pe.throwArgumentError("invalid rlp data","data",e),r.result}var Fe=new T("address/5.7.0");function Le(e){L(e,20)||Fe.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=t[n].charCodeAt(0);for(var i=R(Me(r)),a=0;a<40;a+=2)i[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&i[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}for(var je={},De=0;De<10;De++)je[String(De)]=String(De);for(var Ke=0;Ke<26;Ke++)je[String.fromCharCode(65+Ke)]=String(10+Ke);var Ze,qe=Math.floor((Ze=9007199254740991,Math.log10?Math.log10(Ze):Math.log(Ze)/Math.LN10));function He(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return je[e]})).join("");t.length>=qe;){var r=t.substring(0,qe);t=parseInt(r,10)%97+t.substring(r.length)}for(var n=String(98-parseInt(t,10)%97);n.length<2;)n="0"+n;return n}function ze(e){var t,r=null;if("string"!==typeof e&&Fe.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),r=Le(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==e&&Fe.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==He(e)&&Fe.throwArgumentError("bad icap checksum","address",e),t=e.substring(4),r=new X(t,36).toString(16);r.length<40;)r="0"+r;r=Le("0x"+r)}else Fe.throwArgumentError("invalid address","address",e);return r}function Ge(e){try{return ze(e),!0}catch(t){}return!1}function Ve(e){for(var t,r=(t=ze(e).substring(2),new X(t,16).toString(36)).toUpperCase();r.length<30;)r="0"+r;return"XE"+He("XE00"+r)+r}function Je(e){var t=null;try{t=ze(e.from)}catch(r){Fe.throwArgumentError("missing from address","transaction",e)}return ze(Z(Me(Oe([t,U(R(ne.from(e.nonce).toHexString()))])),12))}function We(e,t,r){return 32!==K(t)&&Fe.throwArgumentError("salt must be 32 bytes","salt",t),32!==K(r)&&Fe.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),ze(Z(Me(B(["0xff",ze(e),t,r])),12))}var Ye,Qe,Xe=new T("strings/5.7.0");function $e(e,t,r,n,i){if(e===Qe.BAD_PREFIX||e===Qe.UNEXPECTED_CONTINUE){for(var a=0,o=t+1;o<r.length&&r[o]>>6===2;o++)a++;return a}return e===Qe.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Ye||(Ye={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Qe||(Qe={}));var et=Object.freeze({error:function(e,t,r,n,i){return Xe.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)},ignore:$e,replace:function(e,t,r,n,i){return e===Qe.OVERLONG?(n.push(i),0):(n.push(65533),$e(e,t,r))}});function tt(e,t){null==t&&(t=et.error),e=R(e);for(var r=[],n=0;n<e.length;){var i=e[n++];if(i>>7!==0){var a=null,o=null;if(192===(224&i))a=1,o=127;else if(224===(240&i))a=2,o=2047;else{if(240!==(248&i)){n+=t(128===(192&i)?Qe.UNEXPECTED_CONTINUE:Qe.BAD_PREFIX,n-1,e,r);continue}a=3,o=65535}if(n-1+a>=e.length)n+=t(Qe.OVERRUN,n-1,e,r);else{for(var s=i&(1<<8-a-1)-1,u=0;u<a;u++){var c=e[n];if(128!=(192&c)){n+=t(Qe.MISSING_CONTINUE,n,e,r),s=null;break}s=s<<6|63&c,n++}null!==s&&(s>1114111?n+=t(Qe.OUT_OF_RANGE,n-1-a,e,r,s):s>=55296&&s<=57343?n+=t(Qe.UTF16_SURROGATE,n-1-a,e,r,s):s<=o?n+=t(Qe.OVERLONG,n-1-a,e,r,s):r.push(s))}}else r.push(i)}return r}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye.current;t!=Ye.current&&(Xe.checkNormalize(),e=e.normalize(t));for(var r=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var a=e.charCodeAt(n);if(n>=e.length||56320!==(64512&a))throw new Error("invalid utf-8 string");var o=65536+((1023&i)<<10)+(1023&a);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return R(r)}function nt(e){var t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function it(e,t){return'"'+tt(e,t).map((function(e){if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?nt(e):nt(55296+((e-=65536)>>10&1023))+nt(56320+(1023&e))})).join("")+'"'}function at(e){return e.map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}function ot(e,t){return at(tt(e,t))}function st(e){return tt(rt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye.current))}function ut(e){return Me(rt(e))}var ct=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,v.Z)(this,r),t.call(this,"address","address",e,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(e,t){try{t=ze(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}},{key:"decode",value:function(e){return ze(G(e.readValue().toHexString(),20))}}]),r}(xe),ft=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,v.Z)(this,r),(n=t.call(this,e.name,e.type,void 0,e.dynamic)).coder=e,n}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(e,t){return this.coder.encode(e,t)}},{key:"decode",value:function(e){return this.coder.decode(e)}}]),r}(xe),lt=new T(we);function ht(e,t,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){var i={};n=t.map((function(e){var t=e.localName;return t||lt.throwError("cannot encode object for signature with missing names",T.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]&&lt.throwError("cannot encode object for signature with duplicate names",T.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]=!0,r[t]}))}else lt.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&lt.throwArgumentError("types/value length mismatch","tuple",r);var a=new Ae(e.wordSize),o=new Ae(e.wordSize),s=[];t.forEach((function(e,t){var r=n[t];if(e.dynamic){var i=o.length;e.encode(o,r);var u=a.writeUpdatableValue();s.push((function(e){u(e+i)}))}else e.encode(a,r)})),s.forEach((function(e){e(a.length)}));var u=e.appendWriter(a);return u+=e.appendWriter(o)}function dt(e,t){var r=[],n=e.subReader(0);t.forEach((function(t){var i=null;if(t.dynamic){var a=e.readValue(),o=n.subReader(a.toNumber());try{i=t.decode(o)}catch(s){if(s.code===T.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(s){if(s.code===T.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)}));var i=t.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach((function(e,t){var n=e.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==r[n])){var a=r[t];a instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:function(){throw a}}):r[n]=a}}));for(var a=function(){var e=r[o];e instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:function(){throw e}})},o=0;o<r.length;o++)a();return Object.freeze(r)}var pt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n,i){var a;(0,v.Z)(this,r);var o=e.type+"["+(n>=0?n:"")+"]",s=-1===n||e.dynamic;return(a=t.call(this,"array",o,i,s)).coder=e,a.length=n,a}return(0,y.Z)(r,[{key:"defaultValue",value:function(){for(var e=this.coder.defaultValue(),t=[],r=0;r<this.length;r++)t.push(e);return t}},{key:"encode",value:function(e,t){Array.isArray(t)||this._throwError("expected array value",t);var r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),lt.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<t.length;i++)n.push(this.coder);return ht(e,n,t)}},{key:"decode",value:function(e){var t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&lt.throwError("insufficient data length",T.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});for(var r=[],n=0;n<t;n++)r.push(new ft(this.coder));return e.coerce(this.name,dt(e,r))}}]),r}(xe),vt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,v.Z)(this,r),t.call(this,"bool","bool",e,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(e,t){return e.writeValue(t?1:0)}},{key:"decode",value:function(e){return e.coerce(this.type,!e.readValue().isZero())}}]),r}(xe),yt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){return(0,v.Z)(this,r),t.call(this,e,e,n,!0)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(e,t){t=R(t);var r=e.writeValue(t.length);return r+=e.writeBytes(t)}},{key:"decode",value:function(e){return e.readBytes(e.readValue().toNumber(),!0)}}]),r}(xe),mt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,v.Z)(this,r),t.call(this,"bytes",e)}return(0,y.Z)(r,[{key:"decode",value:function(e){return e.coerce(this.name,D((0,l.Z)((0,h.Z)(r.prototype),"decode",this).call(this,e)))}}]),r}(yt),gt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,v.Z)(this,r);var a="bytes"+String(e);return(i=t.call(this,a,a,n,!1)).size=e,i}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(e,t){var r=R(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}},{key:"decode",value:function(e){return e.coerce(this.name,D(e.readBytes(this.size)))}}]),r}(xe),bt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,v.Z)(this,r),t.call(this,"null","",e,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}},{key:"decode",value:function(e){return e.readBytes(0),e.coerce(this.name,null)}}]),r}(xe),wt=ne.from(-1),kt=ne.from(0),_t=ne.from(1),xt=ne.from(2),At=ne.from("1000000000000000000"),Et=ne.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),St=ne.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),Tt=ne.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Mt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n,i){var a;(0,v.Z)(this,r);var o=(n?"int":"uint")+8*e;return(a=t.call(this,o,o,i,!1)).size=e,a.signed=n,a}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(e,t){var r=ne.from(t),n=Et.mask(8*e.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(_t).mul(wt)))&&this._throwError("value out-of-bounds",t)}else(r.lt(kt)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}},{key:"decode",value:function(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}]),r}(xe),Pt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,v.Z)(this,r),t.call(this,"string",e)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(e,t){return(0,l.Z)((0,h.Z)(r.prototype),"encode",this).call(this,e,rt(t))}},{key:"decode",value:function(e){return ot((0,l.Z)((0,h.Z)(r.prototype),"decode",this).call(this,e))}}]),r}(yt),It=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,v.Z)(this,r);var a=!1,o=[];e.forEach((function(e){e.dynamic&&(a=!0),o.push(e.type)}));var s="tuple("+o.join(",")+")";return(i=t.call(this,"tuple",s,n,a)).coders=e,i}return(0,y.Z)(r,[{key:"defaultValue",value:function(){var e=[];this.coders.forEach((function(t){e.push(t.defaultValue())}));var t=this.coders.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach((function(r,n){var i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}},{key:"encode",value:function(e,t){return ht(e,this.coders,t)}},{key:"decode",value:function(e){return e.coerce(this.name,dt(e,this.coders))}}]),r}(xe),Nt=new T(we),Ct={},Ot={calldata:!0,memory:!0,storage:!0},Rt={calldata:!0,memory:!0};function Bt(e,t){if("bytes"===e||"string"===e){if(Ot[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Rt[t])return!0;return(Ot[t]||"payable"===t)&&Nt.throwArgumentError("invalid modifier","name",t),!1}function Ut(e,t){for(var r in t)fe(e,r,t[r])}var Ft=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Lt=new RegExp(/^(.*)\[([0-9]*)\]$/),jt=function(){function e(t,r){(0,v.Z)(this,e),t!==Ct&&Nt.throwError("use fromString",T.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ut(this,r);var n=this.type.match(Lt);Ut(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:e.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return(0,y.Z)(e,[{key:"format",value:function(e){if(e||(e=Ft.sighash),Ft[e]||Nt.throwArgumentError("invalid format type","format",e),e===Ft.json){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((function(t){return JSON.parse(t.format(e))}))),JSON.stringify(t)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Ft.sighash&&(r+=this.type),r+="("+this.components.map((function(t){return t.format(e)})).join(e===Ft.full?", ":",")+")"):r+=this.type,e!==Ft.sighash&&(!0===this.indexed&&(r+=" indexed"),e===Ft.full&&this.name&&(r+=" "+this.name)),r}}],[{key:"from",value:function(t,r){return"string"===typeof t?e.fromString(t,r):e.fromObject(t)}},{key:"fromObject",value:function(t){return e.isParamType(t)?t:new e(Ct,{name:t.name||null,type:Yt(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(e.fromObject):null})}},{key:"fromString",value:function(t,r){return n=function(e,t){var r=e;function n(t){Nt.throwArgumentError("unexpected character at position ".concat(t),"param",e)}function i(e){var r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");for(var a={type:"",name:"",state:{allowType:!0}},o=a,s=0;s<e.length;s++){var u=e[s];switch(u){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(s),o.state.allowType=!1,o.type=Yt(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),Bt(o.type,o.name)&&(o.name=""),o.type=Yt(o.type);var c=o;(o=o.parent)||n(s),delete c.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),Bt(o.type,o.name)&&(o.name=""),o.type=Yt(o.type);var f=i(o.parent);o.parent.components.push(f),delete o.parent,o=f;break;case" ":o.state.allowType&&""!==o.type&&(o.type=Yt(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(s),o.indexed&&n(s),o.indexed=!0,o.name=""):Bt(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(s),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(s),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(s)}}return o.parent&&Nt.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Bt(o.type,o.name)&&(o.name=""),a.type=Yt(a.type),a}(t,!!r),e.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}},{key:"isParamType",value:function(e){return!(null==e||!e._isParamType)}}]),e}();function Dt(e,t){return function(e){e=e.trim();for(var t=[],r="",n=0,i=0;i<e.length;i++){var a=e[i];","===a&&0===n?(t.push(r),r=""):(r+=a,"("===a?n++:")"===a&&-1===--n&&Nt.throwArgumentError("unbalanced parenthesis","value",e))}r&&t.push(r);return t}(e).map((function(e){return jt.fromString(e,t)}))}var Kt=function(){function e(t,r){(0,v.Z)(this,e),t!==Ct&&Nt.throwError("use a static from method",T.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ut(this,r),this._isFragment=!0,Object.freeze(this)}return(0,y.Z)(e,null,[{key:"from",value:function(t){return e.isFragment(t)?t:"string"===typeof t?e.fromString(t):e.fromObject(t)}},{key:"fromObject",value:function(t){if(e.isFragment(t))return t;switch(t.type){case"function":return Vt.fromObject(t);case"event":return Zt.fromObject(t);case"constructor":return Gt.fromObject(t);case"error":return Wt.fromObject(t);case"fallback":case"receive":return null}return Nt.throwArgumentError("invalid fragment object","value",t)}},{key:"fromString",value:function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Zt.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?Vt.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?Gt.fromString(e.trim()):"error"===e.split(" ")[0]?Wt.fromString(e.substring(5).trim()):Nt.throwArgumentError("unsupported fragment","value",e)}},{key:"isFragment",value:function(e){return!(!e||!e._isFragment)}}]),e}(),Zt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(e){if(e||(e=Ft.sighash),Ft[e]||Nt.throwArgumentError("invalid format type","format",e),e===Ft.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Ft.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Ft.full?", ":",")+") ",e!==Ft.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isEventFragment(e))return e;"event"!==e.type&&Nt.throwArgumentError("invalid event object","value",e);var t={name:Xt(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(jt.fromObject):[],type:"event"};return new r(Ct,t)}},{key:"fromString",value:function(e){var t=e.match($t);t||Nt.throwArgumentError("invalid event string","value",e);var n=!1;return t[3].split(" ").forEach((function(e){switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:Nt.warn("unknown modifier: "+e)}})),r.fromObject({name:t[1].trim(),anonymous:n,inputs:Dt(t[2],!0),type:"event"})}},{key:"isEventFragment",value:function(e){return e&&e._isFragment&&"event"===e.type}}]),r}(Kt);function qt(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(r.length>2&&Nt.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||Nt.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=ne.from(r[1]),r[0]):e}function Ht(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((function(e){switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function zt(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Nt.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Nt.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Nt.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Nt.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Nt.throwArgumentError("unable to determine stateMutability","value",e),t}var Gt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(e){if(e||(e=Ft.sighash),Ft[e]||Nt.throwArgumentError("invalid format type","format",e),e===Ft.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});e===Ft.sighash&&Nt.throwError("cannot format a constructor for sighash",T.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var t="constructor("+this.inputs.map((function(t){return t.format(e)})).join(e===Ft.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isConstructorFragment(e))return e;"constructor"!==e.type&&Nt.throwArgumentError("invalid constructor object","value",e);var t=zt(e);t.constant&&Nt.throwArgumentError("constructor cannot be constant","value",e);var n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(jt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ne.from(e.gas):null};return new r(Ct,n)}},{key:"fromString",value:function(e){var t={type:"constructor"},n=(e=qt(e,t)).match($t);return n&&"constructor"===n[1].trim()||Nt.throwArgumentError("invalid constructor string","value",e),t.inputs=Dt(n[2].trim(),!1),Ht(n[3].trim(),t),r.fromObject(t)}},{key:"isConstructorFragment",value:function(e){return e&&e._isFragment&&"constructor"===e.type}}]),r}(Kt),Vt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(e){if(e||(e=Ft.sighash),Ft[e]||Nt.throwArgumentError("invalid format type","format",e),e===Ft.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))})),outputs:this.outputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Ft.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Ft.full?", ":",")+") ",e!==Ft.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((function(t){return t.format(e)})).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isFunctionFragment(e))return e;"function"!==e.type&&Nt.throwArgumentError("invalid function object","value",e);var t=zt(e),n={type:e.type,name:Xt(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(jt.fromObject):[],outputs:e.outputs?e.outputs.map(jt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ne.from(e.gas):null};return new r(Ct,n)}},{key:"fromString",value:function(e){var t={type:"function"},n=(e=qt(e,t)).split(" returns ");n.length>2&&Nt.throwArgumentError("invalid function string","value",e);var i=n[0].match($t);if(i||Nt.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&Xt(t.name),t.inputs=Dt(i[2],!1),Ht(i[3].trim(),t),n.length>1){var a=n[1].match($t);""==a[1].trim()&&""==a[3].trim()||Nt.throwArgumentError("unexpected tokens","value",e),t.outputs=Dt(a[2],!1)}else t.outputs=[];return r.fromObject(t)}},{key:"isFunctionFragment",value:function(e){return e&&e._isFragment&&"function"===e.type}}]),r}(Gt);function Jt(e){var t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Nt.throwArgumentError("cannot specify user defined ".concat(t," error"),"fragment",e),e}var Wt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(e){if(e||(e=Ft.sighash),Ft[e]||Nt.throwArgumentError("invalid format type","format",e),e===Ft.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==Ft.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===Ft.full?", ":",")+") ").trim()}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isErrorFragment(e))return e;"error"!==e.type&&Nt.throwArgumentError("invalid error object","value",e);var t={type:e.type,name:Xt(e.name),inputs:e.inputs?e.inputs.map(jt.fromObject):[]};return Jt(new r(Ct,t))}},{key:"fromString",value:function(e){var t={type:"error"},n=e.match($t);return n||Nt.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&Xt(t.name),t.inputs=Dt(n[2],!1),Jt(r.fromObject(t))}},{key:"isErrorFragment",value:function(e){return e&&e._isFragment&&"error"===e.type}}]),r}(Kt);function Yt(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var Qt=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Xt(e){return e&&e.match(Qt)||Nt.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var $t=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var er=new T(we),tr=new RegExp(/^bytes([0-9]*)$/),rr=new RegExp(/^(u?int)([0-9]*)$/),nr=function(){function e(t){(0,v.Z)(this,e),fe(this,"coerceFunc",t||null)}return(0,y.Z)(e,[{key:"_getCoder",value:function(e){var t=this;switch(e.baseType){case"address":return new ct(e.name);case"bool":return new vt(e.name);case"string":return new Pt(e.name);case"bytes":return new mt(e.name);case"array":return new pt(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new It((e.components||[]).map((function(e){return t._getCoder(e)})),e.name);case"":return new bt(e.name)}var r=e.type.match(rr);if(r){var n=parseInt(r[2]||"256");return(0===n||n>256||n%8!==0)&&er.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Mt(n/8,"int"===r[1],e.name)}if(r=e.type.match(tr)){var i=parseInt(r[1]);return(0===i||i>32)&&er.throwArgumentError("invalid bytes length","param",e),new gt(i,e.name)}return er.throwArgumentError("invalid type","type",e.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(e,t){return new Ee(e,this._getWordSize(),this.coerceFunc,t)}},{key:"_getWriter",value:function(){return new Ae(this._getWordSize())}},{key:"getDefaultValue",value:function(e){var t=this,r=e.map((function(e){return t._getCoder(jt.from(e))}));return new It(r,"_").defaultValue()}},{key:"encode",value:function(e,t){var r=this;e.length!==t.length&&er.throwError("types/values length mismatch",T.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var n=e.map((function(e){return r._getCoder(jt.from(e))})),i=new It(n,"_"),a=this._getWriter();return i.encode(a,t),a.data}},{key:"decode",value:function(e,t,r){var n=this,i=e.map((function(e){return n._getCoder(jt.from(e))}));return new It(i,"_").decode(this._getReader(R(t),r))}}]),e}(),ir=new nr,ar=new T(we),or=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r)}(be),sr=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r)}(be),ur=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r)}(be),cr=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,null,[{key:"isIndexed",value:function(e){return!(!e||!e._isIndexed)}}]),r}(be),fr={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function lr(e,t){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return r.error=t,r}var hr=function(){function e(t){var r=this;(0,v.Z)(this,e);fe(this,"fragments",("string"===typeof t?JSON.parse(t):t).map((function(e){return Kt.from(e)})).filter((function(e){return null!=e}))),fe(this,"_abiCoder",le(this instanceof e?this.constructor:void 0,"getAbiCoder")()),fe(this,"functions",{}),fe(this,"errors",{}),fe(this,"events",{}),fe(this,"structs",{}),this.fragments.forEach((function(e){var t=null;switch(e.type){case"constructor":return r.deploy?void ar.warn("duplicate definition - constructor"):void fe(r,"deploy",e);case"function":t=r.functions;break;case"event":t=r.events;break;case"error":t=r.errors;break;default:return}var n=e.format();t[n]?ar.warn("duplicate definition - "+n):t[n]=e})),this.deploy||fe(this,"deploy",Gt.from({payable:!1,type:"constructor"})),fe(this,"_isInterface",!0)}return(0,y.Z)(e,[{key:"format",value:function(e){e||(e=Ft.full),e===Ft.sighash&&ar.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map((function(t){return t.format(e)}));return e===Ft.json?JSON.stringify(t.map((function(e){return JSON.parse(e)}))):t}},{key:"getFunction",value:function(e){if(L(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];ar.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),n=Object.keys(this.functions).filter((function(e){return e.split("(")[0]===r}));return 0===n.length?ar.throwArgumentError("no matching function","name",r):n.length>1&&ar.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[Vt.fromString(e).format()];return i||ar.throwArgumentError("no matching function","signature",e),i}},{key:"getEvent",value:function(e){if(L(e)){var t=e.toLowerCase();for(var r in this.events)if(t===this.getEventTopic(r))return this.events[r];ar.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.events).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?ar.throwArgumentError("no matching event","name",n):i.length>1&&ar.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var a=this.events[Zt.fromString(e).format()];return a||ar.throwArgumentError("no matching event","signature",e),a}},{key:"getError",value:function(e){if(L(e)){var t=le(this.constructor,"getSighash");for(var r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}ar.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.errors).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?ar.throwArgumentError("no matching error","name",n):i.length>1&&ar.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var a=this.errors[Vt.fromString(e).format()];return a||ar.throwArgumentError("no matching error","signature",e),a}},{key:"getSighash",value:function(e){if("string"===typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(r){throw t}}return le(this.constructor,"getSighash")(e)}},{key:"getEventTopic",value:function(e){return"string"===typeof e&&(e=this.getEvent(e)),le(this.constructor,"getEventTopic")(e)}},{key:"_decodeParams",value:function(e,t){return this._abiCoder.decode(e,t)}},{key:"_encodeParams",value:function(e,t){return this._abiCoder.encode(e,t)}},{key:"encodeDeploy",value:function(e){return this._encodeParams(this.deploy.inputs,e||[])}},{key:"decodeErrorResult",value:function(e,t){"string"===typeof e&&(e=this.getError(e));var r=R(t);return D(r.slice(0,4))!==this.getSighash(e)&&ar.throwArgumentError("data signature does not match error ".concat(e.name,"."),"data",D(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeErrorResult",value:function(e,t){return"string"===typeof e&&(e=this.getError(e)),D(B([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionData",value:function(e,t){"string"===typeof e&&(e=this.getFunction(e));var r=R(t);return D(r.slice(0,4))!==this.getSighash(e)&&ar.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",D(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeFunctionData",value:function(e,t){return"string"===typeof e&&(e=this.getFunction(e)),D(B([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionResult",value:function(e,t){"string"===typeof e&&(e=this.getFunction(e));var r=R(t),n=null,i="",a=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(f){}break;case 4:var u=D(r.slice(0,4)),c=fr[u];if(c)a=this._abiCoder.decode(c.inputs,r.slice(4)),o=c.name,s=c.signature,c.reason&&(n=a[0]),"Error"===o?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(a[0])):"Panic"===o&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(a[0]));else try{var f=this.getError(u);a=this._abiCoder.decode(f.inputs,r.slice(4)),o=f.name,s=f.format()}catch(f){}}return ar.throwError("call revert exception"+i,T.errors.CALL_EXCEPTION,{method:e.format(),data:D(t),errorArgs:a,errorName:o,errorSignature:s,reason:n})}},{key:"encodeFunctionResult",value:function(e,t){return"string"===typeof e&&(e=this.getFunction(e)),D(this._abiCoder.encode(e.outputs,t||[]))}},{key:"encodeFilterTopics",value:function(e,t){var r=this;"string"===typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&ar.throwError("too many arguments for "+e.format(),T.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var n=[];e.anonymous||n.push(this.getEventTopic(e));var i=function(e,t){return"string"===e.type?ut(t):"bytes"===e.type?Me(D(t)):("bool"===e.type&&"boolean"===typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=ne.from(t).toHexString()),"address"===e.type&&r._abiCoder.encode(["address"],[t]),G(D(t),32))};for(t.forEach((function(t,r){var a=e.inputs[r];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?ar.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((function(e){return i(a,e)}))):n.push(i(a,t)):null!=t&&ar.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(e,t){var r=this;"string"===typeof e&&(e=this.getEvent(e));var n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&ar.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((function(e,o){var s=t[o];if(e.indexed)if("string"===e.type)n.push(ut(s));else if("bytes"===e.type)n.push(Me(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([e.type],[s]))}else i.push(e),a.push(s)})),{data:this._abiCoder.encode(i,a),topics:n}}},{key:"decodeEventLog",value:function(e,t,r){if("string"===typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){var n=this.getEventTopic(e);L(r[0],32)&&r[0].toLowerCase()===n||ar.throwError("fragment/topic mismatch",T.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],a=[],o=[];e.inputs.forEach((function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(jt.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(i.push(e),o.push(!1)):(a.push(e),o.push(!1))}));var s=null!=r?this._abiCoder.decode(i,B(r)):null,u=this._abiCoder.decode(a,t,!0),c=[],f=0,l=0;e.inputs.forEach((function(e,t){if(e.indexed)if(null==s)c[t]=new cr({_isIndexed:!0,hash:null});else if(o[t])c[t]=new cr({_isIndexed:!0,hash:s[l++]});else try{c[t]=s[l++]}catch(n){c[t]=n}else try{c[t]=u[f++]}catch(n){c[t]=n}if(e.name&&null==c[e.name]){var r=c[t];r instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:function(){throw lr("property ".concat(JSON.stringify(e.name)),r)}}):c[e.name]=r}}));for(var h=function(e){var t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:function(){throw lr("index ".concat(e),t)}})},d=0;d<c.length;d++)h(d);return Object.freeze(c)}},{key:"parseTransaction",value:function(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new sr({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:ne.from(e.value||"0")}):null}},{key:"parseLog",value:function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new or({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}},{key:"parseError",value:function(e){var t=D(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new ur({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}}],[{key:"getAbiCoder",value:function(){return ir}},{key:"getAddress",value:function(e){return ze(e)}},{key:"getSighash",value:function(e){return Z(ut(e.format()),0,4)}},{key:"getEventTopic",value:function(e){return ut(e.format())}},{key:"isInterface",value:function(e){return!(!e||!e._isInterface)}}]),e}(),dr=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},pr=new T("abstract-provider/5.7.0"),vr=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,null,[{key:"isForkEvent",value:function(e){return!(!e||!e._isForkEvent)}}]),r}(be),yr=function(){function e(){(0,v.Z)(this,e),pr.checkAbstract(this instanceof e?this.constructor:void 0,e),fe(this,"_isProvider",!0)}return(0,y.Z)(e,[{key:"getFeeData",value:function(){return dr(this,void 0,void 0,(0,m.Z)().mark((function e(){var t,r,n,i,a,o;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((function(e){return null}))});case 2:return t=e.sent,r=t.block,n=t.gasPrice,i=null,a=null,o=null,r&&r.baseFeePerGas&&(i=r.baseFeePerGas,o=ne.from("1500000000"),a=r.baseFeePerGas.mul(2).add(o)),e.abrupt("return",{lastBaseFeePerGas:i,maxFeePerGas:a,maxPriorityFeePerGas:o,gasPrice:n});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addListener",value:function(e,t){return this.on(e,t)}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"isProvider",value:function(e){return!(!e||!e._isProvider)}}]),e}(),mr=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},gr=new T("abstract-signer/5.7.0"),br=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],wr=[T.errors.INSUFFICIENT_FUNDS,T.errors.NONCE_EXPIRED,T.errors.REPLACEMENT_UNDERPRICED],kr=function(){function e(){(0,v.Z)(this,e),gr.checkAbstract(this instanceof e?this.constructor:void 0,e),fe(this,"_isSigner",!0)}return(0,y.Z)(e,[{key:"getBalance",value:function(e){return mr(this,void 0,void 0,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getBalance"),t.next=3,this.provider.getBalance(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionCount",value:function(e){return mr(this,void 0,void 0,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getTransactionCount"),t.next=3,this.provider.getTransactionCount(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"estimateGas",value:function(e){return mr(this,void 0,void 0,(0,m.Z)().mark((function t(){var r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("estimateGas"),t.next=3,he(this.checkTransaction(e));case 3:return r=t.sent,t.next=6,this.provider.estimateGas(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"call",value:function(e,t){return mr(this,void 0,void 0,(0,m.Z)().mark((function r(){var n;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("call"),r.next=3,he(this.checkTransaction(e));case 3:return n=r.sent,r.next=6,this.provider.call(n,t);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"sendTransaction",value:function(e){return mr(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("sendTransaction"),t.next=3,this.populateTransaction(e);case 3:return r=t.sent,t.next=6,this.signTransaction(r);case 6:return n=t.sent,t.next=9,this.provider.sendTransaction(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getChainId",value:function(){return mr(this,void 0,void 0,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getChainId"),e.next=3,this.provider.getNetwork();case 3:return t=e.sent,e.abrupt("return",t.chainId);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return mr(this,void 0,void 0,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getGasPrice"),e.next=3,this.provider.getGasPrice();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getFeeData",value:function(){return mr(this,void 0,void 0,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getFeeData"),e.next=3,this.provider.getFeeData();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resolveName",value:function(e){return mr(this,void 0,void 0,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("resolveName"),t.next=3,this.provider.resolveName(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkTransaction",value:function(e){for(var t in e)-1===br.indexOf(t)&&gr.throwArgumentError("invalid transaction key: "+t,"transaction",e);var r=pe(e);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then((function(t){return t[0].toLowerCase()!==t[1].toLowerCase()&&gr.throwArgumentError("from address mismatch","transaction",e),t[0]})),r}},{key:"populateTransaction",value:function(e){return mr(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i,a,o=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he(this.checkTransaction(e));case 2:if(null!=(r=t.sent).to&&(r.to=Promise.resolve(r.to).then((function(e){return mr(o,void 0,void 0,(0,m.Z)().mark((function t(){var r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.resolveName(e);case 4:return null==(r=t.sent)&&gr.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))})),r.to.catch((function(e){}))),n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||gr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):gr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){t.next=10;break}r.type=2,t.next=18;break;case 10:if(0!==r.type&&1!==r.type){t.next=14;break}null==r.gasPrice&&(r.gasPrice=this.getGasPrice()),t.next=18;break;case 14:return t.next=16,this.getFeeData();case 16:i=t.sent,null==r.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(a=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a):(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&gr.throwError("network does not support EIP-1559",T.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=i.gasPrice),r.type=0):gr.throwError("failed to get consistent fee data",T.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==r.nonce&&(r.nonce=this.getTransactionCount("pending")),null==r.gasLimit&&(r.gasLimit=this.estimateGas(r).catch((function(e){if(wr.indexOf(e.code)>=0)throw e;return gr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:r})}))),null==r.chainId?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then((function(t){return 0!==t[1]&&t[0]!==t[1]&&gr.throwArgumentError("chainId address mismatch","transaction",e),t[0]})),t.next=23,he(r);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t,this)})))}},{key:"_checkProvider",value:function(e){this.provider||gr.throwError("missing provider",T.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}],[{key:"isSigner",value:function(e){return!(!e||!e._isSigner)}}]),e}(),_r=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;return(0,v.Z)(this,r),i=t.call(this),fe((0,f.Z)(i),"address",e),fe((0,f.Z)(i),"provider",n||null),i}return(0,y.Z)(r,[{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"_fail",value:function(e,t){return Promise.resolve().then((function(){gr.throwError(e,T.errors.UNSUPPORTED_OPERATION,{operation:t})}))}},{key:"signMessage",value:function(e){return this._fail("VoidSigner cannot sign messages","signMessage")}},{key:"signTransaction",value:function(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}},{key:"_signTypedData",value:function(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}},{key:"connect",value:function(e){return new r(this.address,e)}}]),r}(kr),xr=r(33125),Ar=r.n(xr);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function Er(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},e(r,r.exports),r.exports}var Sr=Tr;function Tr(e,t){if(!e)throw new Error(t||"Assertion failed")}Tr.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Mr=Er((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),Pr=Er((function(e,t){var r=t;r.assert=Sr,r.toArray=Mr.toArray,r.zero2=Mr.zero2,r.toHex=Mr.toHex,r.encode=Mr.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var o,s,u=e.andln(3)+i&3,c=t.andln(3)+a&3;3===u&&(u=-1),3===c&&(c=-1),o=0===(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),s=0===(1&c)?0:3!==(n=t.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[1].push(s),2*i===o+1&&(i=1-i),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(Y())(e,"hex","le")}})),Ir=Pr.getNAF,Nr=Pr.getJSF,Cr=Pr.assert;function Or(e,t){this.type=e,this.p=new(Y())(t.p,16),this.red=t.prime?Y().red(t.prime):Y().mont(this.p),this.zero=new(Y())(0).toRed(this.red),this.one=new(Y())(1).toRed(this.red),this.two=new(Y())(2).toRed(this.red),this.n=t.n&&new(Y())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Rr=Or;function Br(e,t){this.curve=e,this.type=t,this.precomputed=null}Or.prototype.point=function(){throw new Error("Not implemented")},Or.prototype.validate=function(){throw new Error("Not implemented")},Or.prototype._fixedNafMul=function(e,t){Cr(e.precomputed);var r=e._getDoubles(),n=Ir(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var a,o,s=[];for(a=0;a<n.length;a+=r.step){o=0;for(var u=a+r.step-1;u>=a;u--)o=(o<<1)+n[u];s.push(o)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),l=i;l>0;l--){for(a=0;a<s.length;a++)(o=s[a])===l?f=f.mixedAdd(r.points[a]):o===-l&&(f=f.mixedAdd(r.points[a].neg()));c=c.add(f)}return c.toP()},Or.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=Ir(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var u=0;s>=0&&0===a[s];s--)u++;if(s>=0&&u++,o=o.dblp(u),s<0)break;var c=a[s];Cr(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},Or.prototype._wnafMulAdd=function(e,t,r,n,i){var a,o,s,u=this._wnafT1,c=this._wnafT2,f=this._wnafT3,l=0;for(a=0;a<n;a++){var h=(s=t[a])._getNAFPoints(e);u[a]=h.wnd,c[a]=h.points}for(a=n-1;a>=1;a-=2){var d=a-1,p=a;if(1===u[d]&&1===u[p]){var v=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(v[1]=t[d].add(t[p]),v[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(v[1]=t[d].toJ().mixedAdd(t[p]),v[2]=t[d].add(t[p].neg())):(v[1]=t[d].toJ().mixedAdd(t[p]),v[2]=t[d].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],m=Nr(r[d],r[p]);for(l=Math.max(m[0].length,l),f[d]=new Array(l),f[p]=new Array(l),o=0;o<l;o++){var g=0|m[0][o],b=0|m[1][o];f[d][o]=y[3*(g+1)+(b+1)],f[p][o]=0,c[d]=v}}else f[d]=Ir(r[d],u[d],this._bitLength),f[p]=Ir(r[p],u[p],this._bitLength),l=Math.max(f[d].length,l),l=Math.max(f[p].length,l)}var w=this.jpoint(null,null,null),k=this._wnafT4;for(a=l;a>=0;a--){for(var _=0;a>=0;){var x=!0;for(o=0;o<n;o++)k[o]=0|f[o][a],0!==k[o]&&(x=!1);if(!x)break;_++,a--}if(a>=0&&_++,w=w.dblp(_),a<0)break;for(o=0;o<n;o++){var A=k[o];0!==A&&(A>0?s=c[o][A-1>>1]:A<0&&(s=c[o][-A-1>>1].neg()),w="affine"===s.type?w.mixedAdd(s):w.add(s))}}for(a=0;a<n;a++)c[a]=null;return i?w:w.toP()},Or.BasePoint=Br,Br.prototype.eq=function(){throw new Error("Not implemented")},Br.prototype.validate=function(){return this.curve.validate(this)},Or.prototype.decodePoint=function(e,t){e=Pr.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?Cr(e[e.length-1]%2===0):7===e[0]&&Cr(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Br.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Br.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Br.prototype.encode=function(e,t){return Pr.encode(this._encode(t),e)},Br.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Br.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Br.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},Br.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Br.prototype._getBeta=function(){return null},Br.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Ur=Er((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),Fr=Pr.assert;function Lr(e){Rr.call(this,"short",e),this.a=new(Y())(e.a,16).toRed(this.red),this.b=new(Y())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ur(Lr,Rr);var jr=Lr;function Dr(e,t,r,n){Rr.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Y())(t,16),this.y=new(Y())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Kr(e,t,r,n){Rr.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Y())(0)):(this.x=new(Y())(t,16),this.y=new(Y())(r,16),this.z=new(Y())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Lr.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(Y())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(Y())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Fr(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(Y())(e.a,16),b:new(Y())(e.b,16)}})):this._getEndoBasis(r)}}},Lr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Y().mont(e),r=new(Y())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(Y())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Lr.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,o,s,u,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),d=new(Y())(1),p=new(Y())(0),v=new(Y())(0),y=new(Y())(1),m=0;0!==l.cmpn(0);){var g=h.div(l);u=h.sub(g.mul(l)),c=v.sub(g.mul(d));var b=y.sub(g.mul(p));if(!n&&u.cmp(f)<0)t=s.neg(),r=d,n=u.neg(),i=c;else if(n&&2===++m)break;s=u,h=l,l=u,v=d,d=c,y=p,p=b}a=u.neg(),o=c;var w=n.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(w)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:i},{a:a,b:o}]},Lr.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),u=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:u.add(c).neg()}},Lr.prototype.pointFromX=function(e,t){(e=new(Y())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Lr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Lr.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*a]=s,n[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),f=0;f<2*a;f++)n[f]=null,i[f]=null;return c},Ur(Dr,Rr.BasePoint),Lr.prototype.point=function(e,t,r){return new Dr(this,e,t,r)},Lr.prototype.pointFromJSON=function(e,t){return Dr.fromJSON(this,e,t)},Dr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Dr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Dr.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},Dr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Dr.prototype.isInfinity=function(){return this.inf},Dr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Dr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},Dr.prototype.getX=function(){return this.x.fromRed()},Dr.prototype.getY=function(){return this.y.fromRed()},Dr.prototype.mul=function(e){return e=new(Y())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Dr.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Dr.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Dr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Dr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Dr.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ur(Kr,Rr.BasePoint),Lr.prototype.jpoint=function(e,t,r){return new Kr(this,e,t,r)},Kr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Kr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Kr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),f=c.redMul(s),l=n.redMul(c),h=u.redSqr().redIAdd(f).redISub(l).redISub(l),d=u.redMul(l.redISub(h)).redISub(a.redMul(f)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},Kr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),f=r.redMul(u),l=s.redSqr().redIAdd(c).redISub(f).redISub(f),h=s.redMul(f.redISub(l)).redISub(i.redMul(c)),d=this.z.redMul(o);return this.curve.jpoint(l,h,d)},Kr.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var f=a.redSqr(),l=c.redSqr(),h=l.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=a.redMul(l),v=d.redSqr().redISub(p.redAdd(p)),y=p.redISub(v),m=d.redMul(y);m=m.redIAdd(m).redISub(h);var g=c.redMul(s);t+1<e&&(u=u.redMul(h)),a=v,s=g,c=m}return this.curve.jpoint(a,c.redMul(i),s)},Kr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Kr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(f).redISub(h);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),v=p.redSqr(),y=h.redIAdd(h);y=(y=y.redIAdd(y)).redIAdd(y),e=v.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Kr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),v=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var y=l.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=d.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},Kr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),f=s.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(l).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,d,p)},Kr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),f=t.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(s).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(l,h,d)},Kr.prototype.mul=function(e,t){return e=new(Y())(e,t),this.curve._wnafMul(this,e)},Kr.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Kr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Kr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Kr.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Zr=Er((function(e,t){var r=t;r.base=Rr,r.short=jr,r.mont=null,r.edwards=null})),qr=Er((function(e,t){var r,n=t,i=Pr.assert;function a(e){"short"===e.type?this.curve=new Zr.short(e):"edwards"===e.type?this.curve=new Zr.edwards(e):this.curve=new Zr.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ar().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ar().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ar().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ar().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ar().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ar().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ar().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(s){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ar().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Hr(e){if(!(this instanceof Hr))return new Hr(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Mr.toArray(e.entropy,e.entropyEnc||"hex"),r=Mr.toArray(e.nonce,e.nonceEnc||"hex"),n=Mr.toArray(e.pers,e.persEnc||"hex");Sr(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var zr=Hr;Hr.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Hr.prototype._hmac=function(){return new(Ar().hmac)(this.hash,this.K)},Hr.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Hr.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=Mr.toArray(e,t),r=Mr.toArray(r,n),Sr(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Hr.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=Mr.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,Mr.encode(a,t)};var Gr=Pr.assert;function Vr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Jr=Vr;Vr.fromPublic=function(e,t,r){return t instanceof Vr?t:new Vr(e,{pub:t,pubEnc:r})},Vr.fromPrivate=function(e,t,r){return t instanceof Vr?t:new Vr(e,{priv:t,privEnc:r})},Vr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Vr.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Vr.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Vr.prototype._importPrivate=function(e,t){this.priv=new(Y())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Vr.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Gr(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Gr(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Vr.prototype.derive=function(e){return e.validate()||Gr(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Vr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Vr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Vr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Wr=Pr.assert;function Yr(e,t){if(e instanceof Yr)return e;this._importDER(e,t)||(Wr(e.r&&e.s,"Signature without r or s"),this.r=new(Y())(e.r,16),this.s=new(Y())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Qr=Yr;function Xr(){this.place=0}function $r(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function en(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function tn(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Yr.prototype._importDER=function(e,t){e=Pr.toArray(e,t);var r=new Xr;if(48!==e[r.place++])return!1;var n=$r(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=$r(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=$r(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var s=e.slice(r.place,o+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(Y())(a),this.s=new(Y())(s),this.recoveryParam=null,!0},Yr.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=en(t),r=en(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];tn(n,t.length),(n=n.concat(t)).push(2),tn(n,r.length);var i=n.concat(r),a=[48];return tn(a,i.length),a=a.concat(i),Pr.encode(a,e)};var rn=function(){throw new Error("unsupported")},nn=Pr.assert;function an(e){if(!(this instanceof an))return new an(e);"string"===typeof e&&(nn(Object.prototype.hasOwnProperty.call(qr,e),"Unknown curve "+e),e=qr[e]),e instanceof qr.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var on=an;an.prototype.keyPair=function(e){return new Jr(this,e)},an.prototype.keyFromPrivate=function(e,t){return Jr.fromPrivate(this,e,t)},an.prototype.keyFromPublic=function(e,t){return Jr.fromPublic(this,e,t)},an.prototype.genKeyPair=function(e){e||(e={});for(var t=new zr({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rn(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(Y())(2));;){var i=new(Y())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},an.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},an.prototype.sign=function(e,t,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(Y())(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),o=e.toArray("be",i),s=new zr({hash:this.hash,entropy:a,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(Y())(1)),c=0;;c++){var f=n.k?n.k(c):new(Y())(s.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var l=this.g.mul(f);if(!l.isInfinity()){var h=l.getX(),d=h.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(l.getY().isOdd()?1:0)|(0!==h.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new Qr({r:d,s:p,recoveryParam:v})}}}}}},an.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(Y())(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Qr(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,s=a.invm(this.n),u=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},an.prototype.recoverPubKey=function(e,t,r,n){nn((3&r)===r,"The recovery param is more than two bits"),t=new Qr(t,n);var i=this.n,a=new(Y())(e),o=t.r,s=t.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var f=t.r.invm(i),l=i.sub(a).mul(f).umod(i),h=s.mul(f).umod(i);return this.g.mulAdd(l,o,h)},an.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Qr(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var sn=Er((function(e,t){var r=t;r.version="6.5.4",r.utils=Pr,r.rand=function(){throw new Error("unsupported")},r.curve=Zr,r.curves=qr,r.ec=on,r.eddsa=null})).ec,un=new T("signing-key/5.7.0"),cn=null;function fn(){return cn||(cn=new sn("secp256k1")),cn}var ln=function(){function e(t){(0,v.Z)(this,e),fe(this,"curve","secp256k1"),fe(this,"privateKey",D(t)),32!==K(this.privateKey)&&un.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var r=fn().keyFromPrivate(R(this.privateKey));fe(this,"publicKey","0x"+r.getPublic(!1,"hex")),fe(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),fe(this,"_isSigningKey",!0)}return(0,y.Z)(e,[{key:"_addPoint",value:function(e){var t=fn().keyFromPublic(R(this.publicKey)),r=fn().keyFromPublic(R(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var t=fn().keyFromPrivate(R(this.privateKey)),r=R(e);32!==r.length&&un.throwArgumentError("bad digest length","digest",e);var n=t.sign(r,{canonical:!0});return V({recoveryParam:n.recoveryParam,r:G("0x"+n.r.toString(16),32),s:G("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var t=fn().keyFromPrivate(R(this.privateKey)),r=fn().keyFromPublic(R(dn(e)));return G("0x"+t.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();function hn(e,t){var r=V(t),n={r:R(r.r),s:R(r.s)};return"0x"+fn().recoverPubKey(R(e),n,r.recoveryParam).encode("hex",!1)}function dn(e,t){var r=R(e);if(32===r.length){var n=new ln(r);return t?"0x"+fn().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?D(r):"0x"+fn().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+fn().keyFromPublic(r).getPublic(!0,"hex"):D(r):un.throwArgumentError("invalid public or private key","key","[REDACTED]")}var pn,vn=new T("transactions/5.7.0");function yn(e){return"0x"===e?null:ze(e)}function mn(e){return"0x"===e?kt:ne.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(pn||(pn={}));var gn=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],bn={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function wn(e){return ze(Z(Me(Z(dn(e),1)),12))}function kn(e,t){return wn(hn(R(e),t))}function _n(e,t){var r=U(ne.from(e).toHexString());return r.length>32&&vn.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function xn(e,t){return{address:ze(e),storageKeys:(t||[]).map((function(t,r){return 32!==K(t)&&vn.throwArgumentError("invalid access list storageKey","accessList[".concat(e,":").concat(r,"]"),t),t.toLowerCase()}))}}function An(e){if(Array.isArray(e))return e.map((function(e,t){return Array.isArray(e)?(e.length>2&&vn.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(t,"]"),e),xn(e[0],e[1])):xn(e.address,e.storageKeys)}));var t=Object.keys(e).map((function(t){var r=e[t].reduce((function(e,t){return e[t]=!0,e}),{});return xn(t,Object.keys(r).sort())}));return t.sort((function(e,t){return e.address.localeCompare(t.address)})),t}function En(e){return An(e).map((function(e){return[e.address,e.storageKeys]}))}function Sn(e,t){if(null!=e.gasPrice){var r=ne.from(e.gasPrice),n=ne.from(e.maxFeePerGas||0);r.eq(n)||vn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}var i=[_n(e.chainId||0,"chainId"),_n(e.nonce||0,"nonce"),_n(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),_n(e.maxFeePerGas||0,"maxFeePerGas"),_n(e.gasLimit||0,"gasLimit"),null!=e.to?ze(e.to):"0x",_n(e.value||0,"value"),e.data||"0x",En(e.accessList||[])];if(t){var a=V(t);i.push(_n(a.recoveryParam,"recoveryParam")),i.push(U(a.r)),i.push(U(a.s))}return q(["0x02",Oe(i)])}function Tn(e,t){var r=[_n(e.chainId||0,"chainId"),_n(e.nonce||0,"nonce"),_n(e.gasPrice||0,"gasPrice"),_n(e.gasLimit||0,"gasLimit"),null!=e.to?ze(e.to):"0x",_n(e.value||0,"value"),e.data||"0x",En(e.accessList||[])];if(t){var n=V(t);r.push(_n(n.recoveryParam,"recoveryParam")),r.push(U(n.r)),r.push(U(n.s))}return q(["0x01",Oe(r)])}function Mn(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&vn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){de(e,bn);var r=[];gn.forEach((function(t){var n=e[t.name]||[],i={};t.numeric&&(i.hexPad="left"),n=R(D(n,i)),t.length&&n.length!==t.length&&n.length>0&&vn.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=U(n)).length>t.maxLength&&vn.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push(D(n))}));var n=0;if(null!=e.chainId?"number"!==typeof(n=e.chainId)&&vn.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!N(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(D(n)),r.push("0x"),r.push("0x")),!t)return Oe(r);var i=V(t),a=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),a+=2*n+8,i.v>28&&i.v!==a&&vn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==a&&vn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(D(a)),r.push(U(R(i.r))),r.push(U(R(i.s))),Oe(r)}(e,t);switch(e.type){case 1:return Tn(e,t);case 2:return Sn(e,t)}return vn.throwError("unsupported transaction type: ".concat(e.type),T.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function Pn(e,t,r){try{var n=mn(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(a){vn.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=G(t[1],32),e.s=G(t[2],32);try{var i=Me(r(e));e.from=kn(i,{r:e.r,s:e.s,recoveryParam:e.v})}catch(a){}}function In(e){var t=R(e);if(t[0]>127)return function(e){var t=Ue(e);9!==t.length&&6!==t.length&&vn.throwArgumentError("invalid raw transaction","rawTransaction",e);var r={nonce:mn(t[0]).toNumber(),gasPrice:mn(t[1]),gasLimit:mn(t[2]),to:yn(t[3]),value:mn(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=ne.from(t[6]).toNumber()}catch(o){return r}if(r.r=G(t[7],32),r.s=G(t[8],32),ne.from(r.r).isZero()&&ne.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(D(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);var a=Me(Oe(i));try{r.from=kn(a,{r:D(r.r),s:D(r.s),recoveryParam:n})}catch(o){}r.hash=Me(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){var t=Ue(e.slice(1));8!==t.length&&11!==t.length&&vn.throwArgumentError("invalid component count for transaction type: 1","payload",D(e));var r={type:1,chainId:mn(t[0]).toNumber(),nonce:mn(t[1]).toNumber(),gasPrice:mn(t[2]),gasLimit:mn(t[3]),to:yn(t[4]),value:mn(t[5]),data:t[6],accessList:An(t[7])};return 8===t.length||(r.hash=Me(e),Pn(r,t.slice(8),Tn)),r}(t);case 2:return function(e){var t=Ue(e.slice(1));9!==t.length&&12!==t.length&&vn.throwArgumentError("invalid component count for transaction type: 2","payload",D(e));var r=mn(t[2]),n=mn(t[3]),i={type:2,chainId:mn(t[0]).toNumber(),nonce:mn(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:mn(t[4]),to:yn(t[5]),value:mn(t[6]),data:t[7],accessList:An(t[8])};return 9===t.length||(i.hash=Me(e),Pn(i,t.slice(9),Sn)),i}(t)}return vn.throwError("unsupported transaction type: ".concat(t[0]),T.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var Nn=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Cn=new T("contracts/5.7.0"),On={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Rn(e,t){return Nn(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:return"string"!==typeof(n=r.sent)&&Cn.throwArgumentError("invalid address or ENS name","name",n),r.prev=4,r.abrupt("return",ze(n));case 8:r.prev=8,r.t0=r.catch(4);case 10:return e||Cn.throwError("a provider or signer is needed to resolve ENS names",T.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),r.next=13,e.resolveName(n);case 13:return null==(i=r.sent)&&Cn.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r.abrupt("return",i);case 16:case"end":return r.stop()}}),r,null,[[4,8]])})))}function Bn(e,t,r){return Nn(this,void 0,void 0,(0,m.Z)().mark((function n(){return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(r)){n.next=4;break}return n.next=3,Promise.all(r.map((function(r,n){return Bn(e,Array.isArray(t)?t[n]:t[r.name],r)})));case 3:case 7:case 11:case 17:return n.abrupt("return",n.sent);case 4:if("address"!==r.type){n.next=8;break}return n.next=7,Rn(e,t);case 8:if("tuple"!==r.type){n.next=12;break}return n.next=11,Bn(e,t,r.components);case 12:if("array"!==r.baseType){n.next=18;break}if(Array.isArray(t)){n.next=15;break}return n.abrupt("return",Promise.reject(Cn.makeError("invalid value for array",T.errors.INVALID_ARGUMENT,{argument:"value",value:t})));case 15:return n.next=17,Promise.all(t.map((function(t){return Bn(e,t,r.arrayChildren)})));case 18:return n.abrupt("return",t);case 19:case"end":return n.stop()}}),n)})))}function Un(e,t,r){return Nn(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a,o,s,u,c,f,l,h,d,p=this;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},r.length===t.inputs.length+1&&"object"===typeof r[r.length-1]&&(i=pe(r.pop())),Cn.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?i.from?i.from=he({override:Rn(e.signer,i.from),signer:e.signer.getAddress()}).then((function(e){return Nn(p,void 0,void 0,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ze(e.signer)!==e.override&&Cn.throwError("Contract with a Signer cannot override from",T.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.abrupt("return",e.override);case 2:case"end":return t.stop()}}),t)})))})):i.from=e.signer.getAddress():i.from&&(i.from=Rn(e.provider,i.from)),n.next=6,he({args:Bn(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:he(i)||{}});case 6:if(a=n.sent,o=e.interface.encodeFunctionData(t,a.args),s={data:o,to:a.address},null!=(u=a.overrides).nonce&&(s.nonce=ne.from(u.nonce).toNumber()),null!=u.gasLimit&&(s.gasLimit=ne.from(u.gasLimit)),null!=u.gasPrice&&(s.gasPrice=ne.from(u.gasPrice)),null!=u.maxFeePerGas&&(s.maxFeePerGas=ne.from(u.maxFeePerGas)),null!=u.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=ne.from(u.maxPriorityFeePerGas)),null!=u.from&&(s.from=u.from),null!=u.type&&(s.type=u.type),null!=u.accessList&&(s.accessList=An(u.accessList)),null==s.gasLimit&&null!=t.gas){for(c=21e3,f=R(o),l=0;l<f.length;l++)c+=4,f[l]&&(c+=64);s.gasLimit=ne.from(t.gas).add(c)}return u.value&&((h=ne.from(u.value)).isZero()||t.payable||Cn.throwError("non-payable method cannot override value",T.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),s.value=h),u.customData&&(s.customData=pe(u.customData)),u.ccipReadEnabled&&(s.ccipReadEnabled=!!u.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled,d=Object.keys(i).filter((function(e){return null!=i[e]})),d.length&&Cn.throwError("cannot override ".concat(d.map((function(e){return JSON.stringify(e)})).join(",")),T.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:d}),n.abrupt("return",s);case 36:case"end":return n.stop()}}),n)})))}function Fn(e,t){var r=t.wait.bind(t);t.wait=function(t){return r(t).then((function(t){return t.events=t.logs.map((function(r){var n=ge(r),i=null;try{i=e.interface.parseLog(r)}catch(a){}return i&&(n.args=i.args,n.decode=function(t,r){return e.interface.decodeEventLog(i.eventFragment,t,r)},n.event=i.name,n.eventSignature=i.signature),n.removeListener=function(){return e.provider},n.getBlock=function(){return e.provider.getBlock(t.blockHash)},n.getTransaction=function(){return e.provider.getTransaction(t.transactionHash)},n.getTransactionReceipt=function(){return Promise.resolve(t)},n})),t}))}}function Ln(e,t,r){var n=e.signer||e.provider;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return Nn(this,void 0,void 0,(0,m.Z)().mark((function i(){var o,s,u,c,f;return(0,m.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=void 0,a.length!==t.inputs.length+1||"object"!==typeof a[a.length-1]){i.next=9;break}if(null==(s=pe(a.pop())).blockTag){i.next=7;break}return i.next=6,s.blockTag;case 6:o=i.sent;case 7:delete s.blockTag,a.push(s);case 9:if(null==e.deployTransaction){i.next=12;break}return i.next=12,e._deployed(o);case 12:return i.next=14,Un(e,t,a);case 14:return u=i.sent,i.next=17,n.call(u,o);case 17:return c=i.sent,i.prev=18,f=e.interface.decodeFunctionResult(t,c),r&&1===t.outputs.length&&(f=f[0]),i.abrupt("return",f);case 24:throw i.prev=24,i.t0=i.catch(18),i.t0.code===T.errors.CALL_EXCEPTION&&(i.t0.address=e.address,i.t0.args=a,i.t0.transaction=u),i.t0;case 28:case"end":return i.stop()}}),i,null,[[18,24]])})))}}function jn(e,t,r){return t.constant?Ln(e,t,r):function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Nn(this,void 0,void 0,(0,m.Z)().mark((function r(){var i,a;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.signer||Cn.throwError("sending a transaction requires a signer",T.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==e.deployTransaction){r.next=4;break}return r.next=4,e._deployed();case 4:return r.next=6,Un(e,t,n);case 6:return i=r.sent,r.next=9,e.signer.sendTransaction(i);case 9:return a=r.sent,Fn(e,a),r.abrupt("return",a);case 12:case"end":return r.stop()}}),r)})))}}(e,t)}function Dn(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((function(e){return Array.isArray(e)?e.join("|"):e})).join(":"):""):"*"}var Kn=function(){function e(t,r){(0,v.Z)(this,e),fe(this,"tag",t),fe(this,"filter",r),this._listeners=[]}return(0,y.Z)(e,[{key:"addListener",value:function(e,t){this._listeners.push({listener:e,once:t})}},{key:"removeListener",value:function(e){var t=!1;this._listeners=this._listeners.filter((function(r){return!(!t&&r.listener===e)||(t=!0,!1)}))}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"listeners",value:function(){return this._listeners.map((function(e){return e.listener}))}},{key:"listenerCount",value:function(){return this._listeners.length}},{key:"run",value:function(e){var t=this,r=this.listenerCount();return this._listeners=this._listeners.filter((function(r){var n=e.slice();return setTimeout((function(){r.listener.apply(t,n)}),0),!r.once})),r}},{key:"prepareEvent",value:function(e){}},{key:"getEmit",value:function(e){return[e]}}]),e}(),Zn=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.call(this,"error",null)}return(0,y.Z)(r)}(Kn),qn=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n,i,a){var o;(0,v.Z)(this,r);var s={address:e},u=n.getEventTopic(i);return a?(u!==a[0]&&Cn.throwArgumentError("topic mismatch","topics",a),s.topics=a.slice()):s.topics=[u],o=t.call(this,Dn(s),s),fe((0,f.Z)(o),"address",e),fe((0,f.Z)(o),"interface",n),fe((0,f.Z)(o),"fragment",i),o}return(0,y.Z)(r,[{key:"prepareEvent",value:function(e){var t=this;(0,l.Z)((0,h.Z)(r.prototype),"prepareEvent",this).call(this,e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=function(e,r){return t.interface.decodeEventLog(t.fragment,e,r)};try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}},{key:"getEmit",value:function(e){var t=_e(e.args);if(t.length)throw t[0].error;var r=(e.args||[]).slice();return r.push(e),r}}]),r}(Kn),Hn=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;return(0,v.Z)(this,r),i=t.call(this,"*",{address:e}),fe((0,f.Z)(i),"address",e),fe((0,f.Z)(i),"interface",n),i}return(0,y.Z)(r,[{key:"prepareEvent",value:function(e){var t=this;(0,l.Z)((0,h.Z)(r.prototype),"prepareEvent",this).call(this,e);try{var n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=function(e,r){return t.interface.decodeEventLog(n.eventFragment,e,r)},e.args=n.args}catch(i){}}}]),r}(Kn),zn=function(){function e(t,r,n){var i=this;(0,v.Z)(this,e),fe(this,"interface",le(this instanceof e?this.constructor:void 0,"getInterface")(r)),null==n?(fe(this,"provider",null),fe(this,"signer",null)):kr.isSigner(n)?(fe(this,"provider",n.provider||null),fe(this,"signer",n)):yr.isProvider(n)?(fe(this,"provider",n),fe(this,"signer",null)):Cn.throwArgumentError("invalid signer or provider","signerOrProvider",n),fe(this,"callStatic",{}),fe(this,"estimateGas",{}),fe(this,"functions",{}),fe(this,"populateTransaction",{}),fe(this,"filters",{});var a={};if(Object.keys(this.interface.events).forEach((function(e){var t=i.interface.events[e];fe(i.filters,e,(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return{address:i.address,topics:i.interface.encodeFilterTopics(t,r)}})),a[t.name]||(a[t.name]=[]),a[t.name].push(e)})),Object.keys(a).forEach((function(e){var t=a[e];1===t.length?fe(i.filters,e,i.filters[t[0]]):Cn.warn("Duplicate definition of ".concat(e," (").concat(t.join(", "),")"))})),fe(this,"_runningEvents",{}),fe(this,"_wrappedEmits",{}),null==t&&Cn.throwArgumentError("invalid contract address or ENS name","addressOrName",t),fe(this,"address",t),this.provider)fe(this,"resolvedAddress",Rn(this.provider,t));else try{fe(this,"resolvedAddress",Promise.resolve(ze(t)))}catch(u){Cn.throwError("provider is required to use ENS name as contract address",T.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((function(e){}));var o={},s={};Object.keys(this.interface.functions).forEach((function(e){var t=i.interface.functions[e];if(s[e])Cn.warn("Duplicate ABI entry for ".concat(JSON.stringify(e)));else{s[e]=!0;var r=t.name;o["%".concat(r)]||(o["%".concat(r)]=[]),o["%".concat(r)].push(e),null==i[e]&&fe(i,e,jn(i,t,!0)),null==i.functions[e]&&fe(i.functions,e,jn(i,t,!1)),null==i.callStatic[e]&&fe(i.callStatic,e,Ln(i,t,!0)),null==i.populateTransaction[e]&&fe(i.populateTransaction,e,function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Un(e,t,n)}}(i,t)),null==i.estimateGas[e]&&fe(i.estimateGas,e,function(e,t){var r=e.signer||e.provider;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Nn(this,void 0,void 0,(0,m.Z)().mark((function n(){var a;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||Cn.throwError("estimate require a provider or signer",T.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),n.next=3,Un(e,t,i);case 3:return a=n.sent,n.next=6,r.estimateGas(a);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))}}(i,t))}})),Object.keys(o).forEach((function(e){var t=o[e];if(!(t.length>1)){e=e.substring(1);var r=t[0];try{null==i[e]&&fe(i,e,i[r])}catch(n){}null==i.functions[e]&&fe(i.functions,e,i.functions[r]),null==i.callStatic[e]&&fe(i.callStatic,e,i.callStatic[r]),null==i.populateTransaction[e]&&fe(i.populateTransaction,e,i.populateTransaction[r]),null==i.estimateGas[e]&&fe(i.estimateGas,e,i.estimateGas[r])}}))}return(0,y.Z)(e,[{key:"deployed",value:function(){return this._deployed()}},{key:"_deployed",value:function(e){var t=this;return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((function(){return t})):this._deployedPromise=this.provider.getCode(this.address,e).then((function(e){return"0x"===e&&Cn.throwError("contract not deployed",T.errors.UNSUPPORTED_OPERATION,{contractAddress:t.address,operation:"getDeployed"}),t}))),this._deployedPromise}},{key:"fallback",value:function(e){var t=this;this.signer||Cn.throwError("sending a transactions require a signer",T.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var r=pe(e||{});return["from","to"].forEach((function(e){null!=r[e]&&Cn.throwError("cannot override "+e,T.errors.UNSUPPORTED_OPERATION,{operation:e})})),r.to=this.resolvedAddress,this.deployed().then((function(){return t.signer.sendTransaction(r)}))}},{key:"connect",value:function(e){"string"===typeof e&&(e=new _r(e,this.provider));var t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&fe(t,"deployTransaction",this.deployTransaction),t}},{key:"attach",value:function(e){return new this.constructor(e,this.interface,this.signer||this.provider)}},{key:"_normalizeRunningEvent",value:function(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}},{key:"_getRunningEvent",value:function(e){if("string"===typeof e){if("error"===e)return this._normalizeRunningEvent(new Zn);if("event"===e)return this._normalizeRunningEvent(new Kn("event",null));if("*"===e)return this._normalizeRunningEvent(new Hn(this.address,this.interface));var t=this.interface.getEvent(e);return this._normalizeRunningEvent(new qn(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{var r=e.topics[0];if("string"!==typeof r)throw new Error("invalid topic");var n=this.interface.getEvent(r);return this._normalizeRunningEvent(new qn(this.address,this.interface,n,e.topics))}catch(a){}var i={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Kn(Dn(i),i))}return this._normalizeRunningEvent(new Hn(this.address,this.interface))}},{key:"_checkRunningEvents",value:function(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];var t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}},{key:"_wrapEvent",value:function(e,t,r){var n=this,i=ge(t);return i.removeListener=function(){r&&(e.removeListener(r),n._checkRunningEvents(e))},i.getBlock=function(){return n.provider.getBlock(t.blockHash)},i.getTransaction=function(){return n.provider.getTransaction(t.transactionHash)},i.getTransactionReceipt=function(){return n.provider.getTransactionReceipt(t.transactionHash)},e.prepareEvent(i),i}},{key:"_addEventListener",value:function(e,t,r){var n=this;if(this.provider||Cn.throwError("events require a provider or a signer with a provider",T.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){var i=function(r){var i=n._wrapEvent(e,r,t);if(null==i.decodeError)try{var a=e.getEmit(i);n.emit.apply(n,[e.filter].concat((0,c.Z)(a)))}catch(o){i.decodeError=o.error}null!=e.filter&&n.emit("event",i),null!=i.decodeError&&n.emit("error",i.decodeError,i)};this._wrappedEmits[e.tag]=i,null!=e.filter&&this.provider.on(e.filter,i)}}},{key:"queryFilter",value:function(e,t,r){var n=this,i=this._getRunningEvent(e),a=pe(i.filter);return"string"===typeof t&&L(t,32)?(null!=r&&Cn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),a.blockHash=t):(a.fromBlock=null!=t?t:0,a.toBlock=null!=r?r:"latest"),this.provider.getLogs(a).then((function(e){return e.map((function(e){return n._wrapEvent(i,e,null)}))}))}},{key:"on",value:function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}},{key:"once",value:function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}},{key:"emit",value:function(e){if(!this.provider)return!1;for(var t=this._getRunningEvent(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=t.run(n)>0;return this._checkRunningEvents(t),a}},{key:"listenerCount",value:function(e){var t=this;return this.provider?null==e?Object.keys(this._runningEvents).reduce((function(e,r){return e+t._runningEvents[r].listenerCount()}),0):this._getRunningEvent(e).listenerCount():0}},{key:"listeners",value:function(e){if(!this.provider)return[];if(null==e){var t=[];for(var r in this._runningEvents)this._runningEvents[r].listeners().forEach((function(e){t.push(e)}));return t}return this._getRunningEvent(e).listeners()}},{key:"removeAllListeners",value:function(e){if(!this.provider)return this;if(null==e){for(var t in this._runningEvents){var r=this._runningEvents[t];r.removeAllListeners(),this._checkRunningEvents(r)}return this}var n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}},{key:"off",value:function(e,t){if(!this.provider)return this;var r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"getContractAddress",value:function(e){return Je(e)}},{key:"getInterface",value:function(e){return hr.isInterface(e)?e:new hr(e)}},{key:"isIndexed",value:function(e){return cr.isIndexed(e)}}]),e}(),Gn=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r)}(zn),Vn=function(){function e(t,r,n){(0,v.Z)(this,e);var i=null;"0x"!==(i="string"===typeof r?r:O(r)?D(r):r&&"string"===typeof r.object?r.object:"!").substring(0,2)&&(i="0x"+i),(!L(i)||i.length%2)&&Cn.throwArgumentError("invalid bytecode","bytecode",r),n&&!kr.isSigner(n)&&Cn.throwArgumentError("invalid signer","signer",n),fe(this,"bytecode",i),fe(this,"interface",le(this instanceof e?this.constructor:void 0,"getInterface")(t)),fe(this,"signer",n||null)}return(0,y.Z)(e,[{key:"getDeployTransaction",value:function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===this.interface.deploy.inputs.length+1&&"object"===typeof r[r.length-1])for(var i in e=pe(r.pop()))if(!On[i])throw new Error("unknown transaction override "+i);(["data","from","to"].forEach((function(t){null!=e[t]&&Cn.throwError("cannot override "+t,T.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.value)&&(ne.from(e.value).isZero()||this.interface.deploy.payable||Cn.throwError("non-payable constructor cannot override value",T.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:e.value}));return Cn.checkArgumentCount(r.length,this.interface.deploy.inputs.length," in Contract constructor"),e.data=D(B([this.bytecode,this.interface.encodeDeploy(r)])),e}},{key:"deploy",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Nn(this,void 0,void 0,(0,m.Z)().mark((function e(){var r,n,i,a,o,s;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.length===this.interface.deploy.inputs.length+1&&(r=t.pop()),Cn.checkArgumentCount(t.length,this.interface.deploy.inputs.length," in Contract constructor"),e.next=5,Bn(this.signer,t,this.interface.deploy.inputs);case 5:return(n=e.sent).push(r),i=this.getDeployTransaction.apply(this,(0,c.Z)(n)),e.next=10,this.signer.sendTransaction(i);case 10:return a=e.sent,o=le(this.constructor,"getContractAddress")(a),Fn(s=le(this.constructor,"getContract")(o,this.interface,this.signer),a),fe(s,"deployTransaction",a),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"attach",value:function(e){return this.constructor.getContract(e,this.interface,this.signer)}},{key:"connect",value:function(e){return new this.constructor(this.interface,this.bytecode,e)}}],[{key:"fromSolidity",value:function(e,t){null==e&&Cn.throwError("missing compiler output",T.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"===typeof e&&(e=JSON.parse(e));var r=e.abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}},{key:"getInterface",value:function(e){return Gn.getInterface(e)}},{key:"getContractAddress",value:function(e){return Je(e)}},{key:"getContract",value:function(e,t,r){return new Gn(e,t,r)}}]),e}(),Jn=new T(Q),Wn={},Yn=ne.from(0),Qn=ne.from(-1);function Xn(e,t,r,n){var i={fault:t,operation:r};return void 0!==n&&(i.value=n),Jn.throwError(e,T.errors.NUMERIC_FAULT,i)}for(var $n="0";$n.length<256;)$n+=$n;function ei(e){if("number"!==typeof e)try{e=ne.from(e).toNumber()}catch(t){}return"number"===typeof e&&e>=0&&e<=256&&!(e%1)?"1"+$n.substring(0,e):Jn.throwArgumentError("invalid decimal size","decimals",e)}function ti(e,t){null==t&&(t=0);var r=ei(t),n=(e=ne.from(e)).lt(Yn);n&&(e=e.mul(Qn));for(var i=e.mod(r).toString();i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];var a=e.div(r).toString();return e=1===r.length?a:a+"."+i,n&&(e="-"+e),e}function ri(e,t){null==t&&(t=0);var r=ei(t);"string"===typeof e&&e.match(/^-?[0-9.]+$/)||Jn.throwArgumentError("invalid decimal value","value",e);var n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&Jn.throwArgumentError("missing value","value",e);var i=e.split(".");i.length>2&&Jn.throwArgumentError("too many decimal points","value",e);var a=i[0],o=i[1];for(a||(a="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Xn("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";var s=ne.from(a),u=ne.from(o),c=s.mul(r).add(u);return n&&(c=c.mul(Qn)),c}var ni=function(){function e(t,r,n,i){(0,v.Z)(this,e),t!==Wn&&Jn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",T.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=ei(i),Object.freeze(this)}return(0,y.Z)(e,null,[{key:"from",value:function(t){if(t instanceof e)return t;"number"===typeof t&&(t="fixed128x".concat(t));var r=!0,n=128,i=18;if("string"===typeof t)if("fixed"===t);else if("ufixed"===t)r=!1;else{var a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Jn.throwArgumentError("invalid fixed format","format",t),r="u"!==a[1],n=parseInt(a[2]),i=parseInt(a[3])}else if(t){var o=function(e,r,n){return null==t[e]?n:(typeof t[e]!==r&&Jn.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e])};r=o("signed","boolean",r),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&Jn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Jn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new e(Wn,r,n,i)}}]),e}(),ii=function(){function e(t,r,n,i){(0,v.Z)(this,e),t!==Wn&&Jn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",T.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return(0,y.Z)(e,[{key:"_checkFormat",value:function(e){this.format.name!==e.format.name&&Jn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}},{key:"addUnsafe",value:function(t){this._checkFormat(t);var r=ri(this._value,this.format.decimals),n=ri(t._value,t.format.decimals);return e.fromValue(r.add(n),this.format.decimals,this.format)}},{key:"subUnsafe",value:function(t){this._checkFormat(t);var r=ri(this._value,this.format.decimals),n=ri(t._value,t.format.decimals);return e.fromValue(r.sub(n),this.format.decimals,this.format)}},{key:"mulUnsafe",value:function(t){this._checkFormat(t);var r=ri(this._value,this.format.decimals),n=ri(t._value,t.format.decimals);return e.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}},{key:"divUnsafe",value:function(t){this._checkFormat(t);var r=ri(this._value,this.format.decimals),n=ri(t._value,t.format.decimals);return e.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}},{key:"floor",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(ai.toFormat(r.format))),r}},{key:"ceiling",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(ai.toFormat(r.format))),r}},{key:"round",value:function(t){null==t&&(t=0);var r=this.toString().split(".");if(1===r.length&&r.push("0"),(t<0||t>80||t%1)&&Jn.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;var n=e.from("1"+$n.substring(0,t),this.format),i=oi.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}},{key:"isZero",value:function(){return"0.0"===this._value||"0"===this._value}},{key:"isNegative",value:function(){return"-"===this._value[0]}},{key:"toString",value:function(){return this._value}},{key:"toHexString",value:function(e){return null==e?this._hex:(e%8&&Jn.throwArgumentError("invalid byte width","width",e),G(ne.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}},{key:"toUnsafeFloat",value:function(){return parseFloat(this.toString())}},{key:"toFormat",value:function(t){return e.fromString(this._value,t)}}],[{key:"fromValue",value:function(t,r,n){return null!=n||null==r||function(e){return null!=e&&(ne.isBigNumber(e)||"number"===typeof e&&e%1===0||"string"===typeof e&&!!e.match(/^-?[0-9]+$/)||L(e)||"bigint"===typeof e||O(e))}(r)||(n=r,r=null),null==r&&(r=0),null==n&&(n="fixed"),e.fromString(ti(t,r),ni.from(n))}},{key:"fromString",value:function(t,r){null==r&&(r="fixed");var n=ni.from(r),i=ri(t,n.decimals);!n.signed&&i.lt(Yn)&&Xn("unsigned value cannot be negative","overflow","value",t);var a=null;a=n.signed?i.toTwos(n.width).toHexString():G(a=i.toHexString(),n.width/8);var o=ti(i,n.decimals);return new e(Wn,a,o,n)}},{key:"fromBytes",value:function(t,r){null==r&&(r="fixed");var n=ni.from(r);if(R(t).length>n.width/8)throw new Error("overflow");var i=ne.from(t);n.signed&&(i=i.fromTwos(n.width));var a=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=ti(i,n.decimals);return new e(Wn,a,o,n)}},{key:"from",value:function(t,r){if("string"===typeof t)return e.fromString(t,r);if(O(t))return e.fromBytes(t,r);try{return e.fromValue(t,0,r)}catch(n){if(n.code!==T.errors.INVALID_ARGUMENT)throw n}return Jn.throwArgumentError("invalid FixedNumber value","value",t)}},{key:"isFixedNumber",value:function(e){return!(!e||!e._isFixedNumber)}}]),e}(),ai=ii.from(1),oi=ii.from("0.5"),si="\x19Ethereum Signed Message:\n";function ui(e){return"string"===typeof e&&(e=rt(e)),Me(B([rt(si),rt(String(e.length)),e]))}var ci="hash/5.7.0",fi=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},li=new T(ci),hi=new Uint8Array(32);hi.fill(0);var di=ne.from(-1),pi=ne.from(0),vi=ne.from(1),yi=ne.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var mi=G(vi.toHexString(),32),gi=G(pi.toHexString(),32),bi={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},wi=["name","version","chainId","verifyingContract","salt"];function ki(e){return function(t){return"string"!==typeof t&&li.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}var _i={name:ki("name"),version:ki("version"),chainId:function(e){try{return ne.from(e).toString()}catch(t){}return li.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return ze(e).toLowerCase()}catch(t){}return li.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var t=R(e);if(32!==t.length)throw new Error("bad length");return D(t)}catch(r){}return li.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function xi(e){var t=e.match(/^(u?)int(\d*)$/);if(t){var r=""===t[1],n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&li.throwArgumentError("invalid numeric width","type",e);var i=yi.mask(r?n-1:n),a=r?i.add(vi).mul(di):pi;return function(t){var r=ne.from(t);return(r.lt(a)||r.gt(i))&&li.throwArgumentError("value out-of-bounds for ".concat(e),"value",t),G(r.toTwos(256).toHexString(),32)}}var o=e.match(/^bytes(\d+)$/);if(o){var s=parseInt(o[1]);return(0===s||s>32||o[1]!==String(s))&&li.throwArgumentError("invalid bytes width","type",e),function(t){return R(t).length!==s&&li.throwArgumentError("invalid length for ".concat(e),"value",t),function(e){var t=R(e),r=t.length%32;return r?q([t,hi.slice(r)]):D(t)}(t)}}switch(e){case"address":return function(e){return G(ze(e),32)};case"bool":return function(e){return e?mi:gi};case"bytes":return function(e){return Me(e)};case"string":return function(e){return ut(e)}}return null}function Ai(e,t){return"".concat(e,"(").concat(t.map((function(e){var t=e.name;return e.type+" "+t})).join(","),")")}var Ei,Si=function(){function e(t){(0,v.Z)(this,e),fe(this,"types",Object.freeze(ge(t))),fe(this,"_encoderCache",{}),fe(this,"_types",{});var r={},n={},i={};Object.keys(t).forEach((function(e){r[e]={},n[e]=[],i[e]={}}));var a=function(e){var i={};t[e].forEach((function(a){i[a.name]&&li.throwArgumentError("duplicate variable name ".concat(JSON.stringify(a.name)," in ").concat(JSON.stringify(e)),"types",t),i[a.name]=!0;var o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===e&&li.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),xi(o)||(n[o]||li.throwArgumentError("unknown type ".concat(JSON.stringify(o)),"types",t),n[o].push(e),r[e][o]=!0)}))};for(var o in t)a(o);var s=Object.keys(n).filter((function(e){return 0===n[e].length}));for(var u in 0===s.length?li.throwArgumentError("missing primary type","types",t):s.length>1&&li.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map((function(e){return JSON.stringify(e)})).join(", ")),"types",t),fe(this,"primaryType",s[0]),function e(a,o){o[a]&&li.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",t),o[a]=!0,Object.keys(r[a]).forEach((function(t){n[t]&&(e(t,o),Object.keys(o).forEach((function(e){i[e][t]=!0})))})),delete o[a]}(this.primaryType,{}),i){var c=Object.keys(i[u]);c.sort(),this._types[u]=Ai(u,t[u])+c.map((function(e){return Ai(e,t[e])})).join("")}}return(0,y.Z)(e,[{key:"getEncoder",value:function(e){var t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}},{key:"_getEncoder",value:function(e){var t=this,r=xi(e);if(r)return r;var n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],a=this.getEncoder(i),o=parseInt(n[3]);return function(e){o>=0&&e.length!==o&&li.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);var r=e.map(a);return t._types[i]&&(r=r.map(Me)),Me(q(r))}}var s=this.types[e];if(s){var u=ut(this._types[e]);return function(e){var r=s.map((function(r){var n=r.name,i=r.type,a=t.getEncoder(i)(e[n]);return t._types[i]?Me(a):a}));return r.unshift(u),q(r)}}return li.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"encodeType",value:function(e){var t=this._types[e];return t||li.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),t}},{key:"encodeData",value:function(e,t){return this.getEncoder(e)(t)}},{key:"hashStruct",value:function(e,t){return Me(this.encodeData(e,t))}},{key:"encode",value:function(e){return this.encodeData(this.primaryType,e)}},{key:"hash",value:function(e){return this.hashStruct(this.primaryType,e)}},{key:"_visit",value:function(e,t,r){var n=this;if(xi(e))return r(e,t);var i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&li.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((function(e){return n._visit(a,e,r)}))}var s=this.types[e];return s?s.reduce((function(e,i){var a=i.name,o=i.type;return e[a]=n._visit(o,t[a],r),e}),{}):li.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"visit",value:function(e,t){return this._visit(this.primaryType,e,t)}}],[{key:"from",value:function(t){return new e(t)}},{key:"getPrimaryType",value:function(t){return e.from(t).primaryType}},{key:"hashStruct",value:function(t,r,n){return e.from(r).hashStruct(t,n)}},{key:"hashDomain",value:function(t){var r=[];for(var n in t){var i=bi[n];i||li.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",t),r.push({name:n,type:i})}return r.sort((function(e,t){return wi.indexOf(e.name)-wi.indexOf(t.name)})),e.hashStruct("EIP712Domain",{EIP712Domain:r},t)}},{key:"encode",value:function(t,r,n){return q(["0x1901",e.hashDomain(t),e.from(r).hash(n)])}},{key:"hash",value:function(t,r,n){return Me(e.encode(t,r,n))}},{key:"resolveNames",value:function(t,r,n,i){return fi(this,void 0,void 0,(0,m.Z)().mark((function a(){var o,s,u;return(0,m.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=pe(t),o={},t.verifyingContract&&!L(t.verifyingContract,20)&&(o[t.verifyingContract]="0x"),(s=e.from(r)).visit(n,(function(e,t){return"address"!==e||L(t,20)||(o[t]="0x"),t})),a.t0=(0,m.Z)().keys(o);case 6:if((a.t1=a.t0()).done){a.next=13;break}return u=a.t1.value,a.next=10,i(u);case 10:o[u]=a.sent,a.next=6;break;case 13:return t.verifyingContract&&o[t.verifyingContract]&&(t.verifyingContract=o[t.verifyingContract]),n=s.visit(n,(function(e,t){return"address"===e&&o[t]?o[t]:t})),a.abrupt("return",{domain:t,value:n});case 16:case"end":return a.stop()}}),a)})))}},{key:"getPayload",value:function(t,r,n){e.hashDomain(t);var i={},a=[];wi.forEach((function(e){var r=t[e];null!=r&&(i[e]=_i[e](r),a.push({name:e,type:bi[e]}))}));var o=e.from(r),s=pe(r);return s.EIP712Domain?li.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):s.EIP712Domain=a,o.encode(n),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(n,(function(e,t){if(e.match(/^bytes(\d*)/))return D(R(t));if(e.match(/^u?int/))return ne.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!==typeof t&&li.throwArgumentError("invalid string","value",t),t}return li.throwArgumentError("unsupported type","type",e)}))}}}]),e}(),Ti=function(){function e(t){(0,v.Z)(this,e),fe(this,"alphabet",t),fe(this,"base",t.length),fe(this,"_alphabetMap",{}),fe(this,"_leader",t.charAt(0));for(var r=0;r<t.length;r++)this._alphabetMap[t.charAt(r)]=r}return(0,y.Z)(e,[{key:"encode",value:function(e){var t=R(e);if(0===t.length)return"";for(var r=[0],n=0;n<t.length;++n){for(var i=t[n],a=0;a<r.length;++a)i+=r[a]<<8,r[a]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var o="",s=0;0===t[s]&&s<t.length-1;++s)o+=this._leader;for(var u=r.length-1;u>=0;--u)o+=this.alphabet[r[u]];return o}},{key:"decode",value:function(e){if("string"!==typeof e)throw new TypeError("Expected String");var t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(var r=0;r<e.length;r++){var n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,a=0;a<t.length;++a)i+=t[a]*this.base,t[a]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(var o=0;e[o]===this._leader&&o<e.length-1;++o)t.push(0);return R(new Uint8Array(t.reverse()))}}]),e}(),Mi=(new Ti("abcdefghijklmnopqrstuvwxyz234567"),new Ti("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));!function(e){e.sha256="sha256",e.sha512="sha512"}(Ei||(Ei={}));var Pi=new T("sha2/5.7.0");function Ii(e){return"0x"+Ar().ripemd160().update(R(e)).digest("hex")}function Ni(e){return"0x"+Ar().sha256().update(R(e)).digest("hex")}function Ci(e){return"0x"+Ar().sha512().update(R(e)).digest("hex")}function Oi(e,t,r){return Ei[e]||Pi.throwError("unsupported algorithm "+e,T.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+Ar().hmac(Ar()[e],R(t)).update(R(r)).digest("hex")}function Ri(e,t,r,n,i){var a;e=R(e),t=R(t);var o,s,u=1,c=new Uint8Array(n),f=new Uint8Array(t.length+4);f.set(t);for(var l=1;l<=u;l++){f[t.length]=l>>24&255,f[t.length+1]=l>>16&255,f[t.length+2]=l>>8&255,f[t.length+3]=255&l;var h=R(Oi(i,e,f));a||(a=h.length,s=new Uint8Array(a),o=n-((u=Math.ceil(n/a))-1)*a),s.set(h);for(var d=1;d<r;d++){h=R(Oi(i,e,h));for(var p=0;p<a;p++)s[p]^=h[p]}var v=(l-1)*a,y=l===u?o:a;c.set(R(s).slice(0,y),v)}return D(c)}var Bi=new T("wordlists/5.7.0"),Ui=function(){function e(t){(0,v.Z)(this,e),Bi.checkAbstract(this instanceof e?this.constructor:void 0,e),fe(this,"locale",t)}return(0,y.Z)(e,[{key:"split",value:function(e){return e.toLowerCase().split(/ +/g)}},{key:"join",value:function(e){return e.join(" ")}}],[{key:"check",value:function(e){for(var t=[],r=0;r<2048;r++){var n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return ut(t.join("\n")+"\n")}},{key:"register",value:function(e,t){t||(t=e.locale)}}]),e}(),Fi=null;function Li(e){if(null==Fi&&(Fi="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Ui.check(e)))throw Fi=null,new Error("BIP39 Wordlist for en (English) FAILED")}var ji=new(function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.call(this,"en")}return(0,y.Z)(r,[{key:"getWord",value:function(e){return Li(this),Fi[e]}},{key:"getWordIndex",value:function(e){return Li(this),Fi.indexOf(e)}}]),r}(Ui));Ui.register(ji);var Di={en:ji},Ki=new T("hdnode/5.7.0"),Zi=ne.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qi=rt("Bitcoin seed"),Hi=2147483648;function zi(e){return(1<<e)-1<<8-e}function Gi(e){return G(D(e),32)}function Vi(e){return Mi.encode(B([e,Z(Ni(Ni(e)),0,4)]))}function Ji(e){if(null==e)return Di.en;if("string"===typeof e){var t=Di[e];return null==t&&Ki.throwArgumentError("unknown locale","wordlist",e),t}return e}var Wi={},Yi="m/44'/60'/0'/0/0",Qi=function(){function e(t,r,n,i,a,o,s,u){if((0,v.Z)(this,e),t!==Wi)throw new Error("HDNode constructor cannot be called directly");if(r){var c=new ln(r);fe(this,"privateKey",c.privateKey),fe(this,"publicKey",c.compressedPublicKey)}else fe(this,"privateKey",null),fe(this,"publicKey",D(n));fe(this,"parentFingerprint",i),fe(this,"fingerprint",Z(Ii(Ni(this.publicKey)),0,4)),fe(this,"address",wn(this.publicKey)),fe(this,"chainCode",a),fe(this,"index",o),fe(this,"depth",s),null==u?(fe(this,"mnemonic",null),fe(this,"path",null)):"string"===typeof u?(fe(this,"mnemonic",null),fe(this,"path",u)):(fe(this,"mnemonic",u),fe(this,"path",u.path))}return(0,y.Z)(e,[{key:"extendedKey",get:function(){if(this.depth>=256)throw new Error("Depth too large!");return Vi(B([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",D(this.depth),this.parentFingerprint,G(D(this.index),4),this.chainCode,null!=this.privateKey?B(["0x00",this.privateKey]):this.publicKey]))}},{key:"neuter",value:function(){return new e(Wi,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}},{key:"_derive",value:function(t){if(t>4294967295)throw new Error("invalid index - "+String(t));var r=this.path;r&&(r+="/"+(t&~Hi));var n=new Uint8Array(37);if(t&Hi){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(R(this.privateKey),1),r&&(r+="'")}else n.set(R(this.publicKey));for(var i=24;i>=0;i-=8)n[33+(i>>3)]=t>>24-i&255;var a=R(Oi(Ei.sha512,this.chainCode,n)),o=a.slice(0,32),s=a.slice(32),u=null,c=null;this.privateKey?u=Gi(ne.from(o).add(this.privateKey).mod(Zi)):c=new ln(D(o))._addPoint(this.publicKey);var f=r,l=this.mnemonic;return l&&(f=Object.freeze({phrase:l.phrase,path:r,locale:l.locale||"en"})),new e(Wi,u,c,this.fingerprint,Gi(s),t,this.depth+1,f)}},{key:"derivePath",value:function(e){var t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();for(var r=this,n=0;n<t.length;n++){var i=t[n];if(i.match(/^[0-9]+'$/)){var a=parseInt(i.substring(0,i.length-1));if(a>=Hi)throw new Error("invalid path index - "+i);r=r._derive(Hi+a)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);var o=parseInt(i);if(o>=Hi)throw new Error("invalid path index - "+i);r=r._derive(o)}}return r}}],[{key:"_fromSeed",value:function(t,r){var n=R(t);if(n.length<16||n.length>64)throw new Error("invalid seed");var i=R(Oi(Ei.sha512,qi,n));return new e(Wi,Gi(i.slice(0,32)),null,"0x00000000",Gi(i.slice(32)),0,0,r)}},{key:"fromMnemonic",value:function(t,r,n){return t=ea($i(t,n=Ji(n)),n),e._fromSeed(Xi(t,r),{phrase:t,path:"m",locale:n.locale})}},{key:"fromSeed",value:function(t){return e._fromSeed(t,null)}},{key:"fromExtendedKey",value:function(t){var r=Mi.decode(t);82===r.length&&Vi(r.slice(0,78))===t||Ki.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var n=r[4],i=D(r.slice(5,9)),a=parseInt(D(r.slice(9,13)).substring(2),16),o=D(r.slice(13,45)),s=r.slice(45,78);switch(D(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new e(Wi,null,D(s),i,o,a,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new e(Wi,D(s.slice(1)),null,i,o,a,n,null)}return Ki.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}]),e}();function Xi(e,t){t||(t="");var r=rt("mnemonic"+t,Ye.NFKD);return Ri(rt(e,Ye.NFKD),r,2048,64,"sha512")}function $i(e,t){t=Ji(t),Ki.checkNormalize();var r=t.split(e);if(r.length%3!==0)throw new Error("invalid mnemonic");for(var n=R(new Uint8Array(Math.ceil(11*r.length/8))),i=0,a=0;a<r.length;a++){var o=t.getWordIndex(r[a].normalize("NFKD"));if(-1===o)throw new Error("invalid mnemonic");for(var s=0;s<11;s++)o&1<<10-s&&(n[i>>3]|=1<<7-i%8),i++}var u=32*r.length/3,c=zi(r.length/3);if((R(Ni(n.slice(0,u/8)))[0]&c)!==(n[n.length-1]&c))throw new Error("invalid checksum");return D(n.slice(0,u/8))}function ea(e,t){if(t=Ji(t),(e=R(e)).length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var r=[0],n=11,i=0;i<e.length;i++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[i],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[i]>>8-n,r.push(e[i]&(1<<8-n)-1),n+=3);var a=e.length/4,o=R(Ni(e))[0]&zi(a);return r[r.length-1]<<=a,r[r.length-1]|=o>>8-a,t.join(r.map((function(e){return t.getWord(e)})))}function ta(e,t){try{return $i(e,t),!0}catch(r){}return!1}function ra(e){return("number"!==typeof e||e<0||e>=Hi||e%1)&&Ki.throwArgumentError("invalid account index","index",e),"m/44'/60'/".concat(e,"'/0/0")}var na=new T("random/5.7.0");var ia=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}(),aa=ia.crypto||ia.msCrypto;function oa(e){(e<=0||e>1024||e%1||e!=e)&&na.throwArgumentError("invalid length","length",e);var t=new Uint8Array(e);return aa.getRandomValues(t),R(t)}aa&&aa.getRandomValues||(na.warn("WARNING: Missing strong random number source"),aa={getRandomValues:function(e){return na.throwError("no secure random source avaialble",T.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var sa=r(30468),ua=r.n(sa),ca=r(12065),fa=r.n(ca);function la(e){return"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),R(e)}function ha(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function da(e){return"string"===typeof e?rt(e,Ye.NFKC):R(e)}function pa(e,t){for(var r=e,n=t.toLowerCase().split("/"),i=0;i<n.length;i++){var a=null;for(var o in r)if(o.toLowerCase()===n[i]){a=r[o];break}if(null===a)return null;r=a}return r}function va(e){var t=R(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;var r=D(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var ya="json-wallets/5.7.0",ma=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},ga=new T(ya);function ba(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}var wa=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"isKeystoreAccount",value:function(e){return!(!e||!e._isKeystoreAccount)}}]),r}(be);function ka(e,t){var r=la(pa(e,"crypto/ciphertext"));if(D(Me(B([t.slice(16,32),r]))).substring(2)!==pa(e,"crypto/mac").toLowerCase())throw new Error("invalid password");var n=function(e,t,r){if("aes-128-ctr"===pa(e,"crypto/cipher")){var n=la(pa(e,"crypto/cipherparams/iv")),i=new(ua().Counter)(n);return R(new(ua().ModeOfOperation.ctr)(t,i).decrypt(r))}return null}(e,t.slice(0,16),r);n||ga.throwError("unsupported cipher",T.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var i=t.slice(32,64),a=wn(n);if(e.address){var o=e.address.toLowerCase();if("0x"!==o.substring(0,2)&&(o="0x"+o),ze(o)!==a)throw new Error("address mismatch")}var s={_isKeystoreAccount:!0,address:a,privateKey:D(n)};if("0.1"===pa(e,"x-ethers/version")){var u=la(pa(e,"x-ethers/mnemonicCiphertext")),c=la(pa(e,"x-ethers/mnemonicCounter")),f=new(ua().Counter)(c),l=new(ua().ModeOfOperation.ctr)(i,f),h=pa(e,"x-ethers/path")||Yi,d=pa(e,"x-ethers/locale")||"en",p=R(l.decrypt(u));try{var v=ea(p,d),y=Qi.fromMnemonic(v,null,d).derivePath(h);if(y.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=y.mnemonic}catch(m){if(m.code!==T.errors.INVALID_ARGUMENT||"wordlist"!==m.argument)throw m}}return new wa(s)}function _a(e,t,r,n,i){return R(Ri(e,t,r,n,i))}function xa(e,t,r,n,i){return Promise.resolve(_a(e,t,r,n,i))}function Aa(e,t,r,n,i){var a=da(t),o=pa(e,"crypto/kdf");if(o&&"string"===typeof o){var s=function(e,t){return ga.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===o.toLowerCase()){var u=la(pa(e,"crypto/kdfparams/salt")),c=parseInt(pa(e,"crypto/kdfparams/n")),f=parseInt(pa(e,"crypto/kdfparams/r")),l=parseInt(pa(e,"crypto/kdfparams/p"));c&&f&&l||s("kdf",o),0!==(c&c-1)&&s("N",c);var h=parseInt(pa(e,"crypto/kdfparams/dklen"));return 32!==h&&s("dklen",h),n(a,u,c,f,l,64,i)}if("pbkdf2"===o.toLowerCase()){var d=la(pa(e,"crypto/kdfparams/salt")),p=null,v=pa(e,"crypto/kdfparams/prf");"hmac-sha256"===v?p="sha256":"hmac-sha512"===v?p="sha512":s("prf",v);var y=parseInt(pa(e,"crypto/kdfparams/c")),m=parseInt(pa(e,"crypto/kdfparams/dklen"));return 32!==m&&s("dklen",m),r(a,d,y,m,p)}}return ga.throwArgumentError("unsupported key-derivation function","kdf",o)}var Ea=new T(ya),Sa=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"isCrowdsaleAccount",value:function(e){return!(!e||!e._isCrowdsaleAccount)}}]),r}(be);function Ta(e,t){var r=JSON.parse(e);t=da(t);var n=ze(pa(r,"ethaddr")),i=la(pa(r,"encseed"));i&&i.length%16===0||Ea.throwArgumentError("invalid encseed","json",e);for(var a=R(Ri(t,t,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),s=i.slice(16),u=new(ua().ModeOfOperation.cbc)(a,o),c=ua().padding.pkcs7.strip(R(u.decrypt(s))),f="",l=0;l<c.length;l++)f+=String.fromCharCode(c[l]);var h=Me(rt(f));return new Sa({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function Ma(e){var t=null;try{t=JSON.parse(e)}catch(r){return!1}return t.encseed&&t.ethaddr}function Pa(e){var t=null;try{t=JSON.parse(e)}catch(r){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function Ia(e){if(Ma(e))try{return ze(JSON.parse(e).ethaddr)}catch(t){return null}if(Pa(e))try{return ze(JSON.parse(e).address)}catch(t){return null}return null}function Na(e,t,r){if(Ma(e)){r&&r(0);var n=Ta(e,t);return r&&r(1),Promise.resolve(n)}return Pa(e)?function(e,t,r){return ma(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=JSON.parse(e),n.next=3,Aa(i,t,xa,fa().scrypt,r);case 3:return a=n.sent,n.abrupt("return",ka(i,a));case 5:case"end":return n.stop()}}),n)})))}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function Ca(e,t){if(Ma(e))return Ta(e,t);if(Pa(e))return function(e,t){var r=JSON.parse(e);return ka(r,Aa(r,t,_a,fa().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}var Oa=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Ra=new T("wallet/5.7.0");var Ba=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i,a;if((0,v.Z)(this,r),i=t.call(this),null!=(a=e)&&L(a.privateKey,32)&&null!=a.address){var o=new ln(e.privateKey);if(fe((0,f.Z)(i),"_signingKey",(function(){return o})),fe((0,f.Z)(i),"address",wn(i.publicKey)),i.address!==ze(e.address)&&Ra.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){var t=e.mnemonic;return t&&t.phrase}(e)){var s=e.mnemonic;fe((0,f.Z)(i),"_mnemonic",(function(){return{phrase:s.phrase,path:s.path||Yi,locale:s.locale||"en"}}));var u=i.mnemonic;wn(Qi.fromMnemonic(u.phrase,null,u.locale).derivePath(u.path).privateKey)!==i.address&&Ra.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else fe((0,f.Z)(i),"_mnemonic",(function(){return null}))}else{if(ln.isSigningKey(e))"secp256k1"!==e.curve&&Ra.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),fe((0,f.Z)(i),"_signingKey",(function(){return e}));else{"string"===typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);var c=new ln(e);fe((0,f.Z)(i),"_signingKey",(function(){return c}))}fe((0,f.Z)(i),"_mnemonic",(function(){return null})),fe((0,f.Z)(i),"address",wn(i.publicKey))}return n&&!yr.isProvider(n)&&Ra.throwArgumentError("invalid provider","provider",n),fe((0,f.Z)(i),"provider",n||null),i}return(0,y.Z)(r,[{key:"mnemonic",get:function(){return this._mnemonic()}},{key:"privateKey",get:function(){return this._signingKey().privateKey}},{key:"publicKey",get:function(){return this._signingKey().publicKey}},{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"connect",value:function(e){return new r(this,e)}},{key:"signTransaction",value:function(e){var t=this;return he(e).then((function(r){null!=r.from&&(ze(r.from)!==t.address&&Ra.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);var n=t._signingKey().signDigest(Me(Mn(r)));return Mn(r,n)}))}},{key:"signMessage",value:function(e){return Oa(this,void 0,void 0,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",J(this._signingKey().signDigest(ui(e))));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"_signTypedData",value:function(e,t,r){return Oa(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a=this;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Si.resolveNames(e,t,r,(function(e){return null==a.provider&&Ra.throwError("cannot resolve ENS names without a provider",T.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),a.provider.resolveName(e)}));case 2:return i=n.sent,n.abrupt("return",J(this._signingKey().signDigest(Si.hash(i.domain,t,i.value))));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"encrypt",value:function(e,t,r){if("function"!==typeof t||r||(r=t,t={}),r&&"function"!==typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(ze(e.address)!==wn(e.privateKey))throw new Error("address/privateKey mismatch");if(ba(e)){var i=e.mnemonic;if(Qi.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path||Yi).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(g){return Promise.reject(g)}"function"!==typeof r||n||(n=r,r={}),r||(r={});var a=R(e.privateKey),o=da(t),s=null,u=null,c=null;if(ba(e)){var f=e.mnemonic;s=R($i(f.phrase,f.locale||"en")),u=f.path||Yi,c=f.locale||"en"}var l=r.client;l||(l="ethers.js");var h=null;h=r.salt?R(r.salt):oa(32);var d=null;if(r.iv){if(16!==(d=R(r.iv)).length)throw new Error("invalid iv")}else d=oa(16);var p=null;if(r.uuid){if(16!==(p=R(r.uuid)).length)throw new Error("invalid uuid")}else p=oa(16);var v=1<<17,y=8,m=1;return r.scrypt&&(r.scrypt.N&&(v=r.scrypt.N),r.scrypt.r&&(y=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),fa().scrypt(o,h,v,y,m,64,n).then((function(t){var r=(t=R(t)).slice(0,16),n=t.slice(16,32),i=t.slice(32,64),o=new(ua().Counter)(d),f=R(new(ua().ModeOfOperation.ctr)(r,o).encrypt(a)),g=Me(B([n,f])),b={address:e.address.substring(2).toLowerCase(),id:va(p),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:D(d).substring(2)},ciphertext:D(f).substring(2),kdf:"scrypt",kdfparams:{salt:D(h).substring(2),n:v,dklen:32,p:m,r:y},mac:g.substring(2)}};if(s){var w=oa(16),k=new(ua().Counter)(w),_=R(new(ua().ModeOfOperation.ctr)(i,k).encrypt(s)),x=new Date,A=x.getUTCFullYear()+"-"+ha(x.getUTCMonth()+1,2)+"-"+ha(x.getUTCDate(),2)+"T"+ha(x.getUTCHours(),2)+"-"+ha(x.getUTCMinutes(),2)+"-"+ha(x.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:l,gethFilename:"UTC--"+A+"--"+b.address,mnemonicCounter:D(w).substring(2),mnemonicCiphertext:D(_).substring(2),path:u,locale:c,version:"0.1"}}return JSON.stringify(b)}))}(this,e,t,r)}}],[{key:"createRandom",value:function(e){var t=oa(16);e||(e={}),e.extraEntropy&&(t=R(Z(Me(B([t,e.extraEntropy])),0,16)));var n=ea(t,e.locale);return r.fromMnemonic(n,e.path,e.locale)}},{key:"fromEncryptedJson",value:function(e,t,n){return Na(e,t,n).then((function(e){return new r(e)}))}},{key:"fromEncryptedJsonSync",value:function(e,t){return new r(Ca(e,t))}},{key:"fromMnemonic",value:function(e,t,n){return t||(t=Yi),new r(Qi.fromMnemonic(e,null,n).derivePath(t))}}]),r}(kr);function Ua(e,t){return kn(ui(e),t)}function Fa(e,t,r,n){return kn(Si.hash(e,t,r),n)}var La="0x0000000000000000000000000000000000000000",ja="0x0000000000000000000000000000000000000000000000000000000000000000",Da="\u039e",Ka=new T("networks/5.7.1");function Za(e){var t=function(t,r){null==r&&(r={});var n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(s){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(s){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(s){}if(t.PocketProvider&&"-"!==r.pocket){try{var i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(s){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(s){}if(t.AnkrProvider&&"-"!==r.ankr)try{var a=new t.AnkrProvider(e,r.ankr);a.network&&-1===["ropsten"].indexOf(a.network.name)&&n.push(a)}catch(s){}if(0===n.length)return null;if(t.FallbackProvider){var o=1;return null!=r.quorum?o=r.quorum:"homestead"===e&&(o=2),new t.FallbackProvider(n,o)}return n[0]};return t.renetwork=function(e){return Za(e)},t}function qa(e,t){var r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return qa(e,t)},r}var Ha={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Za("homestead")},za={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Za("ropsten")},Ga={chainId:63,name:"classicMordor",_defaultProvider:qa("https://www.ethercluster.com/mordor","classicMordor")},Va={unspecified:{chainId:0,name:"unspecified"},homestead:Ha,mainnet:Ha,morden:{chainId:2,name:"morden"},ropsten:za,testnet:za,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Za("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Za("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Za("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Za("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:qa("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Ga,classicTestnet:Ga,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:qa("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Za("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Za("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Ja(e){if(null==e)return null;if("number"===typeof e){for(var t in Va){var r=Va[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){var n=Va[e];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}var i=Va[e.name];if(!i)return"number"!==typeof e.chainId&&Ka.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==i.chainId&&Ka.throwArgumentError("network chainId mismatch","network",e);var a,o=e._defaultProvider||null;return null==o&&i._defaultProvider&&(o=(a=i._defaultProvider)&&"function"===typeof a.renetwork?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,ensAddress:e.ensAddress||i.ensAddress||null,_defaultProvider:o}}function Wa(e){e=atob(e);for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return R(t)}function Ya(e){e=R(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Qa=r(37762);function Xa(e,t){null==t&&(t=1);var r=[],n=r.forEach;return function e(t,i){n.call(t,(function(t){i>0&&Array.isArray(t)?e(t,i-1):r.push(t)}))}(e,t),r}function $a(e){return function(e){var t=0;return function(){return e[t++]}}(function(e){var t=0;function r(){return e[t++]<<8|e[t++]}for(var n=r(),i=1,a=[0,1],o=1;o<n;o++)a.push(i+=r());var s=r(),u=t;t+=s;var c=0,f=0;function l(){return 0==c&&(f=f<<8|e[t++],c=8),f>>--c&1}for(var h=Math.pow(2,31),d=h>>>1,p=d>>1,v=h-1,y=0,m=0;m<31;m++)y=y<<1|l();for(var g=[],b=0,w=h;;){for(var k=Math.floor(((y-b+1)*i-1)/w),_=0,x=n;x-_>1;){var A=_+x>>>1;k<a[A]?x=A:_=A}if(0==_)break;g.push(_);for(var E=b+Math.floor(w*a[_]/i),S=b+Math.floor(w*a[_+1]/i)-1;0==((E^S)&d);)y=y<<1&v|l(),E=E<<1&v,S=S<<1&v|1;for(;E&~S&p;)y=y&d|y<<1&v>>>1|l(),E=E<<1^d,S=(S^d)<<1|d|1;b=E,w=1+S-E}var T=n-4;return g.map((function(t){switch(t-T){case 3:return T+65792+(e[u++]<<16|e[u++]<<8|e[u++]);case 2:return T+256+(e[u++]<<8|e[u++]);case 1:return T+e[u++];default:return t-1}}))}(e))}function eo(e){return 1&e?~e>>1:e>>1}function to(e,t){for(var r=Array(e),n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function ro(e,t){for(var r=Array(e),n=0,i=0;n<e;n++)r[n]=i+=eo(t());return r}function no(e,t){for(var r=to(e(),e),n=e(),i=to(n,e),a=function(e,t){for(var r=Array(e),n=0;n<e;n++)r[n]=1+t();return r}(n,e),o=0;o<n;o++)for(var s=0;s<a[o];s++)r.push(i[o]+s);return t?r.map((function(e){return t[e]})):r}function io(e,t,r){for(var n=Array(e).fill(void 0).map((function(){return[]})),i=0;i<t;i++)ro(e,r).forEach((function(e,t){return n[t].push(e)}));return n}function ao(e,t){var r=1+t(),n=t(),i=function(e){for(var t=[];;){var r=e();if(0==r)break;t.push(r)}return t}(t);return Xa(io(i.length,1+e,t).map((function(e,t){var a=e[0],o=e.slice(1);return Array(i[t]).fill(void 0).map((function(e,t){var i=t*n;return[a+t*r,o.map((function(e){return e+i}))]}))})))}function oo(e,t){return io(1+t(),1+e,t).map((function(e){return[e[0],e.slice(1)]}))}var so=$a(Wa("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),uo=new Set(no(so)),co=new Set(no(so)),fo=function(e){for(var t=[];;){var r=e();if(0==r)break;t.push(ao(r,e))}for(;;){var n=e()-1;if(n<0)break;t.push(oo(n,e))}return function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];t[n[0]]=n[1]}return t}(Xa(t))}(so),lo=function(e){var t=no(e).sort((function(e,t){return e-t}));return function r(){var n=[];for(;;){var i=no(e,t);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort((function(e,t){return t.set.size-e.set.size}));var a=e();return{branches:n,valid:a%3,fe0f:!!(1&(a=a/3|0)),save:1==(a>>=1),check:2==a}}()}(so),ho=45,po=95;function vo(e){return st(e)}function yo(e){return e.filter((function(e){return 65039!=e}))}function mo(e){var t,r=(0,Qa.Z)(e.split("."));try{for(r.s();!(t=r.n()).done;){var n=t.value,i=vo(n);try{for(var a=i.lastIndexOf(po)-1;a>=0;a--)if(i[a]!==po)throw new Error("underscore only allowed at start");if(i.length>=4&&i.every((function(e){return e<128}))&&i[2]===ho&&i[3]===ho)throw new Error("invalid label extension")}catch(o){throw new Error('Invalid label "'.concat(n,'": ').concat(o.message))}}}catch(o){r.e(o)}finally{r.f()}return e}function go(e){return mo(function(e,t){var r=vo(e).reverse(),n=[];for(;r.length;){var i=bo(r);if(i)n.push.apply(n,(0,c.Z)(t(i)));else{var a=r.pop();if(uo.has(a))n.push(a);else if(!co.has(a)){var o=fo[a];if(!o)throw new Error("Disallowed codepoint: 0x".concat(a.toString(16).toUpperCase()));n.push.apply(n,(0,c.Z)(o))}}}return mo((s=String.fromCodePoint.apply(String,n),s.normalize("NFC")));var s}(e,yo))}function bo(e,t){var r,n,i,a=lo,o=[],s=e.length;t&&(t.length=0);for(var u=function(){var u=e[--s];if(a=null===(r=a.branches.find((function(e){return e.set.has(u)})))||void 0===r?void 0:r.node,!a)return"break";if(a.save)i=u;else if(a.check&&u===i)return"break";o.push(u),a.fe0f&&(o.push(65039),s>0&&65039==e[s-1]&&s--),a.valid&&(n=o.slice(),2==a.valid&&n.splice(1,1),t&&t.push.apply(t,(0,c.Z)(e.slice(s).reverse())),e.length=s)};s;){if("break"===u())break}return n}var wo=new T(ci),ko=new Uint8Array(32);function _o(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function xo(e){var t=rt(go(e)),r=[];if(0===e.length)return r;for(var n=0,i=0;i<t.length;i++){46===t[i]&&(r.push(_o(t.slice(n,i))),n=i+1)}if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(_o(t.slice(n))),r}function Ao(e){try{return 0!==xo(e).length}catch(t){}return!1}function Eo(e){"string"!==typeof e&&wo.throwArgumentError("invalid ENS name; not a string","name",e);for(var t=ko,r=xo(e);r.length;)t=Me(B([t,Me(r.pop())]));return D(t)}function So(e){return D(B(xo(e).map((function(e){if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");var t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"}ko.fill(0);var To=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function Mo(e,t){return To(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i,a,o,s;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t={}),n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0},!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),null!=t.fetchOptions&&((i=t.fetchOptions).mode&&(n.mode=i.mode),i.cache&&(n.cache=i.cache),i.credentials&&(n.credentials=i.credentials),i.redirect&&(n.redirect=i.redirect),i.referrer&&(n.referrer=i.referrer)),r.next=7,fetch(e,n);case 7:return a=r.sent,r.next=10,a.arrayBuffer();case 10:return o=r.sent,s={},a.headers.forEach?a.headers.forEach((function(e,t){s[t.toLowerCase()]=e})):a.headers.keys().forEach((function(e){s[e.toLowerCase()]=a.headers.get(e)})),r.abrupt("return",{headers:s,statusCode:a.status,statusMessage:a.statusText,body:R(new Uint8Array(o))});case 14:case"end":return r.stop()}}),r)})))}var Po=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Io=new T("web/5.7.1");function No(e){return new Promise((function(t){setTimeout(t,e)}))}function Co(e,t){if(null==e)return null;if("string"===typeof e)return e;if(N(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return ot(e)}catch(r){}return D(e)}return e}function Oo(e,t,r){var n="object"===typeof e&&null!=e.throttleLimit?e.throttleLimit:12;Io.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);var i="object"===typeof e?e.throttleCallback:null,a="object"===typeof e&&"number"===typeof e.throttleSlotInterval?e.throttleSlotInterval:100;Io.assertArgument(a>0&&a%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);var o="object"===typeof e&&!!e.errorPassThrough,s={},u=null,c={method:"GET"},f=!1,l=12e4;if("string"===typeof e)u=e;else if("object"===typeof e){if(null!=e&&null!=e.url||Io.throwArgumentError("missing URL","connection.url",e),u=e.url,"number"===typeof e.timeout&&e.timeout>0&&(l=e.timeout),e.headers)for(var h in e.headers)s[h.toLowerCase()]={key:h,value:String(e.headers[h])},["if-none-match","if-modified-since"].indexOf(h.toLowerCase())>=0&&(f=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==u.substring(0,6)&&!0!==e.allowInsecureAuthentication&&Io.throwError("basic authentication requires a secure https url",T.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:e.user,password:"[REDACTED]"});var d=e.user+":"+e.password;s.authorization={key:"Authorization",value:"Basic "+Ya(rt(d))}}null!=e.skipFetchSetup&&(c.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(c.fetchOptions=pe(e.fetchOptions))}var p,v=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),y=u?u.match(v):null;if(y)try{var g={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]||"text/plain"},body:y[2]?Wa(y[3]):(p=y[3],rt(p.replace(/%([0-9a-f][0-9a-f])/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))))},b=g.body;return r&&(b=r(g.body,g)),Promise.resolve(b)}catch(x){Io.throwError("processing response error",T.errors.SERVER_ERROR,{body:Co(y[1],y[2]),error:x,requestBody:null,requestMethod:"GET",url:u})}t&&(c.method="POST",c.body=t,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(t.length)}));var w={};Object.keys(s).forEach((function(e){var t=s[e];w[t.key]=t.value})),c.headers=w;var k=function(){var e=null;return{promise:new Promise((function(t,r){l&&(e=setTimeout((function(){null!=e&&(e=null,r(Io.makeError("timeout",T.errors.TIMEOUT,{requestBody:Co(c.body,w["content-type"]),requestMethod:c.method,timeout:l,url:u})))}),l))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),_=function(){return Po(this,void 0,void 0,(0,m.Z)().mark((function e(){var t,s,l,h,d,p,v,y,g,b;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n)){e.next=65;break}return s=null,e.prev=3,e.next=6,Mo(u,c);case 6:if(s=e.sent,!(t<n)){e.next=28;break}if(301!==s.statusCode&&302!==s.statusCode){e.next=15;break}if(l=s.headers.location||"","GET"!==c.method||!l.match(/^https:/)){e.next=13;break}return u=s.headers.location,e.abrupt("continue",62);case 13:e.next=28;break;case 15:if(429!==s.statusCode){e.next=28;break}if(h=!0,!i){e.next=21;break}return e.next=20,i(t,u);case 20:h=e.sent;case 21:if(!h){e.next=28;break}return d=0,p=s.headers["retry-after"],d="string"===typeof p&&p.match(/^[1-9][0-9]*$/)?1e3*parseInt(p):a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=27,No(d);case 27:return e.abrupt("continue",62);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(3),null==(s=e.t0.response)&&(k.cancel(),Io.throwError("missing response",T.errors.SERVER_ERROR,{requestBody:Co(c.body,w["content-type"]),requestMethod:c.method,serverError:e.t0,url:u}));case 34:if(v=s.body,f&&304===s.statusCode?v=null:!o&&(s.statusCode<200||s.statusCode>=300)&&(k.cancel(),Io.throwError("bad response",T.errors.SERVER_ERROR,{status:s.statusCode,headers:s.headers,body:Co(v,s.headers?s.headers["content-type"]:null),requestBody:Co(c.body,w["content-type"]),requestMethod:c.method,url:u})),!r){e.next=60;break}return e.prev=37,e.next=40,r(v,s);case 40:return y=e.sent,k.cancel(),e.abrupt("return",y);case 45:if(e.prev=45,e.t1=e.catch(37),!(e.t1.throttleRetry&&t<n)){e.next=58;break}if(g=!0,!i){e.next=53;break}return e.next=52,i(t,u);case 52:g=e.sent;case 53:if(!g){e.next=58;break}return b=a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=57,No(b);case 57:return e.abrupt("continue",62);case 58:k.cancel(),Io.throwError("processing response error",T.errors.SERVER_ERROR,{body:Co(v,s.headers?s.headers["content-type"]:null),error:e.t1,requestBody:Co(c.body,w["content-type"]),requestMethod:c.method,url:u});case 60:return k.cancel(),e.abrupt("return",v);case 62:t++,e.next=1;break;case 65:return e.abrupt("return",Io.throwError("failed response",T.errors.SERVER_ERROR,{requestBody:Co(c.body,w["content-type"]),requestMethod:c.method,url:u}));case 66:case"end":return e.stop()}}),e,null,[[3,30],[37,45]])})))}();return Promise.race([k.promise,_])}function Ro(e,t,r){var n=null;if(null!=t){n=rt(t);var i="string"===typeof e?{url:e}:pe(e);if(i.headers)0!==Object.keys(i.headers).filter((function(e){return"content-type"===e.toLowerCase()})).length||(i.headers=pe(i.headers),i.headers["content-type"]="application/json");else i.headers={"content-type":"application/json"};e=i}return Oo(e,n,(function(e,t){var n=null;if(null!=e)try{n=JSON.parse(ot(e))}catch(i){Io.throwError("invalid JSON",T.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n}))}function Bo(e,t){return t||(t={}),null==(t=pe(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){var i=null,a=!1,o=function(){return!a&&(a=!0,i&&clearTimeout(i),!0)};t.timeout&&(i=setTimeout((function(){o()&&n(new Error("timeout"))}),t.timeout));var s=t.retryLimit,u=0;!function i(){return e().then((function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(++u>s)return void(o()&&n(new Error("retry limit reached")));var c=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));c<t.floor&&(c=t.floor),c>t.ceiling&&(c=t.ceiling),setTimeout(i,c)}return null}),(function(e){o()&&n(e)}))}()}))}var Uo=r(31360),Fo=r.n(Uo),Lo="providers/5.7.2",jo=new T(Lo),Do=function(){function e(){(0,v.Z)(this,e),this.formats=this.getDefaultFormats()}return(0,y.Z)(e,[{key:"getDefaultFormats",value:function(){var t=this,r={},n=this.address.bind(this),i=this.bigNumber.bind(this),a=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),u=this.hex.bind(this),c=this.number.bind(this),f=this.type.bind(this);return r.transaction={hash:s,type:f,accessList:e.allowNull(this.accessList.bind(this),null),blockHash:e.allowNull(s,null),blockNumber:e.allowNull(c,null),transactionIndex:e.allowNull(c,null),confirmations:e.allowNull(c,null),from:n,gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),gasLimit:i,to:e.allowNull(n,null),value:i,nonce:c,data:o,r:e.allowNull(this.uint256),s:e.allowNull(this.uint256),v:e.allowNull(c),creates:e.allowNull(n,null),raw:e.allowNull(o)},r.transactionRequest={from:e.allowNull(n),nonce:e.allowNull(c),gasLimit:e.allowNull(i),gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),to:e.allowNull(n),value:e.allowNull(i),data:e.allowNull((function(e){return t.data(e,!0)})),type:e.allowNull(c),accessList:e.allowNull(this.accessList.bind(this),null)},r.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:n,topics:e.arrayOf(s),data:o,logIndex:c,blockHash:s},r.receipt={to:e.allowNull(this.address,null),from:e.allowNull(this.address,null),contractAddress:e.allowNull(n,null),transactionIndex:c,root:e.allowNull(u),gasUsed:i,logsBloom:e.allowNull(o),blockHash:s,transactionHash:s,logs:e.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:e.allowNull(c,null),cumulativeGasUsed:i,effectiveGasPrice:e.allowNull(i),status:e.allowNull(c),type:f},r.block={hash:e.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:e.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:e.allowNull(n),extraData:o,transactions:e.allowNull(e.arrayOf(s)),baseFeePerGas:e.allowNull(i)},r.blockWithTransactions=pe(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.filter={fromBlock:e.allowNull(a,void 0),toBlock:e.allowNull(a,void 0),blockHash:e.allowNull(s,void 0),address:e.allowNull(n,void 0),topics:e.allowNull(this.topics.bind(this),void 0)},r.filterLog={blockNumber:e.allowNull(c),blockHash:e.allowNull(s),transactionIndex:c,removed:e.allowNull(this.boolean.bind(this)),address:n,data:e.allowFalsish(o,"0x"),topics:e.arrayOf(s),transactionHash:s,logIndex:c},r}},{key:"accessList",value:function(e){return An(e||[])}},{key:"number",value:function(e){return"0x"===e?0:ne.from(e).toNumber()}},{key:"type",value:function(e){return"0x"===e||null==e?0:ne.from(e).toNumber()}},{key:"bigNumber",value:function(e){return ne.from(e)}},{key:"boolean",value:function(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}},{key:"hex",value:function(e,t){return"string"===typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),L(e))?e.toLowerCase():jo.throwArgumentError("invalid hash","value",e)}},{key:"data",value:function(e,t){var r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}},{key:"address",value:function(e){return ze(e)}},{key:"callAddress",value:function(e){if(!L(e,32))return null;var t=ze(Z(e,12));return t===La?null:t}},{key:"contractAddress",value:function(e){return Je(e)}},{key:"blockTag",value:function(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"===typeof e||L(e))return H(e);throw new Error("invalid blockTag")}},{key:"hash",value:function(e,t){var r=this.hex(e,t);return 32!==K(r)?jo.throwArgumentError("invalid hash","value",e):r}},{key:"difficulty",value:function(e){if(null==e)return null;var t=ne.from(e);try{return t.toNumber()}catch(r){}return null}},{key:"uint256",value:function(e){if(!L(e))throw new Error("invalid uint256");return G(e,32)}},{key:"_block",value:function(t,r){null!=t.author&&null==t.miner&&(t.miner=t.author);var n=null!=t._difficulty?t._difficulty:t.difficulty,i=e.check(r,t);return i._difficulty=null==n?null:ne.from(n),i}},{key:"block",value:function(e){return this._block(e,this.formats.block)}},{key:"blockWithTransactions",value:function(e){return this._block(e,this.formats.blockWithTransactions)}},{key:"transactionRequest",value:function(t){return e.check(this.formats.transactionRequest,t)}},{key:"transactionResponse",value:function(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&ne.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);var r=e.check(this.formats.transaction,t);if(null!=t.chainId){var n=t.chainId;L(n)&&(n=ne.from(n).toNumber()),r.chainId=n}else{var i=t.networkId;null==i&&null==r.v&&(i=t.chainId),L(i)&&(i=ne.from(i).toNumber()),"number"!==typeof i&&null!=r.v&&((i=(r.v-35)/2)<0&&(i=0),i=parseInt(i)),"number"!==typeof i&&(i=0),r.chainId=i}return r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r}},{key:"transaction",value:function(e){return In(e)}},{key:"receiptLog",value:function(t){return e.check(this.formats.receiptLog,t)}},{key:"receipt",value:function(t){var r=e.check(this.formats.receipt,t);if(null!=r.root)if(r.root.length<=4){var n=ne.from(r.root).toNumber();0===n||1===n?(null!=r.status&&r.status!==n&&jo.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):jo.throwArgumentError("invalid alt-root-status","value.root",r.root)}else 66!==r.root.length&&jo.throwArgumentError("invalid root hash","value.root",r.root);return null!=r.status&&(r.byzantium=!0),r}},{key:"topics",value:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.topics(e)})):null!=e?this.hash(e,!0):null}},{key:"filter",value:function(t){return e.check(this.formats.filter,t)}},{key:"filterLog",value:function(t){return e.check(this.formats.filterLog,t)}}],[{key:"check",value:function(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(a){throw a.checkKey=n,a.checkValue=t[n],a}return r}},{key:"allowNull",value:function(e,t){return function(r){return null==r?t:e(r)}}},{key:"allowFalsish",value:function(e,t){return function(r){return r?e(r):t}}},{key:"arrayOf",value:function(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach((function(t){r.push(e(t))})),r}}}]),e}();function Ko(e){return e&&"function"===typeof e.isCommunityResource}function Zo(e){return Ko(e)&&e.isCommunityResource()}var qo=!1;function Ho(){qo||(qo=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var zo=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Go=new T(Lo);function Vo(e){return null==e?"null":(32!==K(e)&&Go.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Jo(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((function(e){if(Array.isArray(e)){var t={};e.forEach((function(e){t[Vo(e)]=!0}));var r=Object.keys(t);return r.sort(),r.join("|")}return Vo(e)})).join("&")}function Wo(e){if("string"===typeof e){if(32===K(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Jo(e);if(vr.isForkEvent(e))throw Go.warn("not implemented"),new Error("not implemented");if(e&&"object"===typeof e)return"filter:"+(e.address||"*")+":"+Jo(e.topics||[])}throw new Error("invalid event - "+e)}function Yo(){return(new Date).getTime()}function Qo(e){return new Promise((function(t){setTimeout(t,e)}))}var Xo=["block","network","pending","poll"],$o=function(){function e(t,r,n){(0,v.Z)(this,e),fe(this,"tag",t),fe(this,"listener",r),fe(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}return(0,y.Z)(e,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t,r=e[1],n=""===(t=e[2])?[]:t.split(/&/g).map((function(e){if(""===e)return[];var t=e.split("|").map((function(e){return"null"===e?null:e}));return 1===t.length?t[0]:t})),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}},{key:"pollable",value:function(){return this.tag.indexOf(":")>=0||Xo.indexOf(this.tag)>=0}}]),e}(),es={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ts(e){return G(ne.from(e).toHexString(),32)}function rs(e){return Mi.encode(B([e,Z(Ni(Ni(e)),0,4)]))}var ns=new RegExp("^(ipfs)://(.*)$","i"),is=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ns,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function as(e,t){try{return ot(os(e,t))}catch(r){}return null}function os(e,t){if("0x"===e)return null;var r=ne.from(Z(e,t,t+32)).toNumber(),n=ne.from(Z(e,r,r+32)).toNumber();return Z(e,r+32,r+32+n)}function ss(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Go.throwArgumentError("unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}function us(e){var t=R(e);if(t.length>32)throw new Error("internal; should not happen");var r=new Uint8Array(32);return r.set(t,32-t.length),r}function cs(e){if(e.length%32===0)return e;var t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function fs(e){for(var t=[],r=0,n=0;n<e.length;n++)t.push(null),r+=32;for(var i=0;i<e.length;i++){var a=R(e[i]);t[i]=us(r),t.push(us(a.length)),t.push(cs(a)),r+=32+32*Math.ceil(a.length/32)}return q(t)}var ls=function(){function e(t,r,n,i){(0,v.Z)(this,e),fe(this,"provider",t),fe(this,"name",n),fe(this,"address",t.formatter.address(r)),fe(this,"_resolvedAddress",i)}return(0,y.Z)(e,[{key:"supportsWildcard",value:function(){var e=this;return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((function(e){return ne.from(e).eq(1)})).catch((function(t){if(t.code===T.errors.CALL_EXCEPTION)return!1;throw e._supportsEip2544=null,t}))),this._supportsEip2544}},{key:"_fetch",value:function(e,t){return zo(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i,a;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={to:this.address,ccipReadEnabled:!0,data:q([e,Eo(this.name),t||"0x"])},i=!1,r.next=4,this.supportsWildcard();case 4:if(!r.sent){r.next=7;break}i=!0,n.data=q(["0x9061b923",fs([So(this.name),n.data])]);case 7:return r.prev=7,r.next=10,this.provider.call(n);case 10:return R(a=r.sent).length%32===4&&Go.throwError("resolver threw error",T.errors.CALL_EXCEPTION,{transaction:n,data:a}),i&&(a=os(a,0)),r.abrupt("return",a);case 16:if(r.prev=16,r.t0=r.catch(7),r.t0.code!==T.errors.CALL_EXCEPTION){r.next=20;break}return r.abrupt("return",null);case 20:throw r.t0;case 21:case"end":return r.stop()}}),r,this,[[7,16]])})))}},{key:"_fetchBytes",value:function(e,t){return zo(this,void 0,void 0,(0,m.Z)().mark((function r(){var n;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._fetch(e,t);case 2:if(null==(n=r.sent)){r.next=5;break}return r.abrupt("return",os(n,0));case 5:return r.abrupt("return",null);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"_getAddress",value:function(e,t){var r=es[String(e)];if(null==r&&Go.throwError("unsupported coin type: ".concat(e),T.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")")}),"eth"===r.ilk)return this.provider.formatter.address(t);var n=R(t);if(null!=r.p2pkh){var i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){var a=parseInt(i[1],16);if(i[2].length===2*a&&a>=1&&a<=75)return rs(B([[r.p2pkh],"0x"+i[2]]))}}if(null!=r.p2sh){var o=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){var s=parseInt(o[1],16);if(o[2].length===2*s&&s>=1&&s<=75)return rs(B([[r.p2sh],"0x"+o[2]]))}}if(null!=r.prefix){var u=n[1],c=n[0];if(0===c?20!==u&&32!==u&&(c=-1):c=-1,c>=0&&n.length===2+u&&u>=1&&u<=75){var f=Fo().toWords(n.slice(2));return f.unshift(c),Fo().encode(r.prefix,f)}}return null}},{key:"getAddress",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e&&(e=60),60!==e){t.next=16;break}return t.prev=2,t.next=5,this._fetch("0x3b3b57de");case 5:if("0x"!==(r=t.sent)&&r!==ja){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",this.provider.formatter.callAddress(r));case 11:if(t.prev=11,t.t0=t.catch(2),t.t0.code!==T.errors.CALL_EXCEPTION){t.next=15;break}return t.abrupt("return",null);case 15:throw t.t0;case 16:return t.next=18,this._fetchBytes("0xf1cb7e06",ts(e));case 18:if(null!=(n=t.sent)&&"0x"!==n){t.next=21;break}return t.abrupt("return",null);case 21:return null==(i=this._getAddress(e,n))&&Go.throwError("invalid or unsupported coin data",T.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")"),coinType:e,data:n}),t.abrupt("return",i);case 24:case"end":return t.stop()}}),t,this,[[2,11]])})))}},{key:"getAvatar",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){var t,r,n,i,a,o,s,u,c,f,l,h,d,p,v,y;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{type:"name",content:this.name}],e.prev=1,e.next=4,this.getText("avatar");case 4:if(null!=(r=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:n=0;case 8:if(!(n<is.length)){e.next=91;break}if(null!=(i=r.match(is[n]))){e.next=12;break}return e.abrupt("continue",88);case 12:a=i[1].toLowerCase(),e.t0=a,e.next="https"===e.t0?16:"data"===e.t0?18:"ipfs"===e.t0?20:"erc721"===e.t0||"erc1155"===e.t0?22:88;break;case 16:return t.push({type:"url",content:r}),e.abrupt("return",{linkage:t,url:r});case 18:return t.push({type:"data",content:r}),e.abrupt("return",{linkage:t,url:r});case 20:return t.push({type:"ipfs",content:r}),e.abrupt("return",{linkage:t,url:ss(r)});case 22:if(o="erc721"===a?"0xc87b56dd":"0x0e89341c",t.push({type:a,content:r}),e.t1=this._resolvedAddress,e.t1){e.next=29;break}return e.next=28,this.getAddress();case 28:e.t1=e.sent;case 29:if(s=e.t1,2===(u=(i[2]||"").split("/")).length){e.next=33;break}return e.abrupt("return",null);case 33:return e.next=35,this.provider.formatter.address(u[0]);case 35:if(c=e.sent,f=G(ne.from(u[1]).toHexString(),32),"erc721"!==a){e.next=48;break}return e.t2=this.provider.formatter,e.next=41,this.provider.call({to:c,data:q(["0x6352211e",f])});case 41:if(e.t3=e.sent,l=e.t2.callAddress.call(e.t2,e.t3),s===l){e.next=45;break}return e.abrupt("return",null);case 45:t.push({type:"owner",content:l}),e.next=57;break;case 48:if("erc1155"!==a){e.next=57;break}return e.t4=ne,e.next=52,this.provider.call({to:c,data:q(["0x00fdd58e",G(s,32),f])});case 52:if(e.t5=e.sent,!(h=e.t4.from.call(e.t4,e.t5)).isZero()){e.next=56;break}return e.abrupt("return",null);case 56:t.push({type:"balance",content:h.toString()});case 57:return d={to:this.provider.formatter.address(u[0]),data:q([o,f])},e.t6=as,e.next=61,this.provider.call(d);case 61:if(e.t7=e.sent,null!=(p=(0,e.t6)(e.t7,0))){e.next=65;break}return e.abrupt("return",null);case 65:return t.push({type:"metadata-url-base",content:p}),"erc1155"===a&&(p=p.replace("{id}",f.substring(2)),t.push({type:"metadata-url-expanded",content:p})),p.match(/^ipfs:/i)&&(p=ss(p)),t.push({type:"metadata-url",content:p}),e.next=71,Ro(p);case 71:if(v=e.sent){e.next=74;break}return e.abrupt("return",null);case 74:if(t.push({type:"metadata",content:JSON.stringify(v)}),"string"===typeof(y=v.image)){e.next=78;break}return e.abrupt("return",null);case 78:if(!y.match(/^(https:\/\/|data:)/i)){e.next=81;break}e.next=86;break;case 81:if(null!=y.match(ns)){e.next=84;break}return e.abrupt("return",null);case 84:t.push({type:"url-ipfs",content:y}),y=ss(y);case 86:return t.push({type:"url",content:y}),e.abrupt("return",{linkage:t,url:y});case 88:n++,e.next=8;break;case 91:e.next=95;break;case 93:e.prev=93,e.t8=e.catch(1);case 95:return e.abrupt("return",null);case 96:case"end":return e.stop()}}),e,this,[[1,93]])})))}},{key:"getContentHash",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){var t,r,n,i,a,o,s,u,c;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchBytes("0xbc1c58d1");case 2:if(null!=(t=e.sent)&&"0x"!==t){e.next=5;break}return e.abrupt("return",null);case 5:if(!(r=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=10;break}if(n=parseInt(r[3],16),r[4].length!==2*n){e.next=10;break}return e.abrupt("return","ipfs://"+Mi.encode("0x"+r[1]));case 10:if(!(i=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=15;break}if(a=parseInt(i[3],16),i[4].length!==2*a){e.next=15;break}return e.abrupt("return","ipns://"+Mi.encode("0x"+i[1]));case 15:if(!(o=t.match(/^0xe40101fa011b20([0-9a-f]*)$/))){e.next=19;break}if(64!==o[1].length){e.next=19;break}return e.abrupt("return","bzz://"+o[1]);case 19:if(!(s=t.match(/^0x90b2c605([0-9a-f]*)$/))){e.next=25;break}if(68!==s[1].length){e.next=25;break}return u={"=":"","+":"-","/":"_"},c=Ya("0x"+s[1]).replace(/[=+\/]/g,(function(e){return u[e]})),e.abrupt("return","sia://"+c);case 25:return e.abrupt("return",Go.throwError("invalid or unsupported content hash data",T.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t}));case 26:case"end":return e.stop()}}),e,this)})))}},{key:"getText",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=rt(e),(r=B([ts(64),ts(r.length),r])).length%32!==0&&(r=B([r,G("0x",32-e.length%32)])),t.next=5,this._fetchBytes("0x59d1d43c",D(r));case 5:if(null!=(n=t.sent)&&"0x"!==n){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",ot(n));case 9:case"end":return t.stop()}}),t,this)})))}}]),e}(),hs=null,ds=1,ps=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;if((0,v.Z)(this,r),(n=t.call(this))._events=[],n._emitted={block:-2},n.disableCcipRead=!1,n.formatter=(this instanceof r?this.constructor:void 0).getFormatter(),fe((0,f.Z)(n),"anyNetwork","any"===e),n.anyNetwork&&(e=n.detectNetwork()),e instanceof Promise)n._networkPromise=e,e.catch((function(e){})),n._ready().catch((function(e){}));else{var i=le(this instanceof r?this.constructor:void 0,"getNetwork")(e);i?(fe((0,f.Z)(n),"_network",i),n.emit("network",i,null)):Go.throwArgumentError("invalid network","network",e)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._maxFilterBlockRange=10,n._pollingInterval=4e3,n._fastQueryDate=0,n}return(0,y.Z)(r,[{key:"_ready",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._network){e.next=17;break}if(t=null,!this._networkPromise){e.next=11;break}return e.prev=3,e.next=6,this._networkPromise;case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(null!=t){e.next=15;break}return e.next=14,this.detectNetwork();case 14:t=e.sent;case 15:t||Go.throwError("no network detected",T.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:fe(this,"_network",t),this.emit("network",t,null));case 17:return e.abrupt("return",this._network);case 18:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"ready",get:function(){var e=this;return Bo((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==T.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))}},{key:"ccipReadFetch",value:function(e,t,r){return zo(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a,o,s,u,c,f,l,h;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.disableCcipRead&&0!==r.length){n.next=2;break}return n.abrupt("return",null);case 2:i=e.to.toLowerCase(),a=t.toLowerCase(),o=[],s=0;case 6:if(!(s<r.length)){n.next=22;break}return u=r[s],c=u.replace("{sender}",i).replace("{data}",a),f=u.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),n.next=12,Ro({url:c,errorPassThrough:!0},f,(function(e,t){return e.status=t.statusCode,e}));case 12:if(!(l=n.sent).data){n.next=15;break}return n.abrupt("return",l.data);case 15:if(h=l.message||"unknown error",!(l.status>=400&&l.status<500)){n.next=18;break}return n.abrupt("return",Go.throwError("response not found during CCIP fetch: ".concat(h),T.errors.SERVER_ERROR,{url:u,errorMessage:h}));case 18:o.push(h);case 19:s++,n.next=6;break;case 22:return n.abrupt("return",Go.throwError("error encountered during CCIP fetch: ".concat(o.map((function(e){return JSON.stringify(e)})).join(", ")),T.errors.SERVER_ERROR,{urls:r,errorMessages:o}));case 23:case"end":return n.stop()}}),n,this)})))}},{key:"_getInternalBlockNumber",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i,a,o=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready();case 2:if(!(e>0)){t.next=20;break}case 3:if(!this._internalBlockNumber){t.next=20;break}return r=this._internalBlockNumber,t.prev=5,t.next=8,r;case 8:if(n=t.sent,!(Yo()-n.respTime<=e)){t.next=11;break}return t.abrupt("return",n.blockNumber);case 11:return t.abrupt("break",20);case 14:if(t.prev=14,t.t0=t.catch(5),this._internalBlockNumber!==r){t.next=18;break}return t.abrupt("break",20);case 18:t.next=3;break;case 20:return i=Yo(),a=he({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var t=e.blockNumber,r=e.networkError;if(r)throw o._internalBlockNumber===a&&(o._internalBlockNumber=null),r;var n=Yo();return(t=ne.from(t).toNumber())<o._maxInternalBlockNumber&&(t=o._maxInternalBlockNumber),o._maxInternalBlockNumber=t,o._setFastBlockNumber(t),{blockNumber:t,reqTime:i,respTime:n}})),this._internalBlockNumber=a,a.catch((function(e){o._internalBlockNumber===a&&(o._internalBlockNumber=null)})),t.next=26,a;case 26:return t.abrupt("return",t.sent.blockNumber);case 27:case"end":return t.stop()}}),t,this,[[5,14]])})))}},{key:"poll",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){var t,r,n,i,a=this;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ds++,r=[],n=null,e.prev=3,e.next=6,this._getInternalBlockNumber(100+this.pollingInterval/2);case 6:n=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),this.emit("error",e.t0),e.abrupt("return");case 13:if(this._setFastBlockNumber(n),this.emit("poll",t,n),n!==this._lastBlockNumber){e.next=18;break}return this.emit("didPoll",t),e.abrupt("return");case 18:if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Go.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(n,")")),this.emit("error",Go.makeError("network block skew detected",T.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(i=this._emitted.block+1;i<=n;i++)this.emit("block",i);return this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((function(e){if("block"!==e){var t=a._emitted[e];"pending"!==t&&n-t>12&&delete a._emitted[e]}}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((function(e){switch(e.type){case"tx":var t=e.hash,i=a.getTransactionReceipt(t).then((function(e){return e&&null!=e.blockNumber?(a._emitted["t:"+t]=e.blockNumber,a.emit(t,e),null):null})).catch((function(e){a.emit("error",e)}));r.push(i);break;case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1);var o=e.filter;o.fromBlock=e._lastBlockNumber+1,o.toBlock=n;var s=o.toBlock-a._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);var u=a.getLogs(o).then((function(t){e._inflight=!1,0!==t.length&&t.forEach((function(t){t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),a._emitted["b:"+t.blockHash]=t.blockNumber,a._emitted["t:"+t.transactionHash]=t.blockNumber,a.emit(o,t)}))})).catch((function(t){a.emit("error",t),e._inflight=!1}));r.push(u)}}})),this._lastBlockNumber=n,Promise.all(r).then((function(){a.emit("didPoll",t)})).catch((function(e){a.emit("error",e)})),e.abrupt("return");case 26:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"resetEventsBlock",value:function(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}},{key:"network",get:function(){return this._network}},{key:"detectNetwork",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go.throwError("provider does not support network detection",T.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"}));case 1:case"end":return e.stop()}}),e)})))}},{key:"getNetwork",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){var t,r,n;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready();case 2:return t=e.sent,e.next=5,this.detectNetwork();case 5:if(r=e.sent,t.chainId===r.chainId){e.next=23;break}if(!this.anyNetwork){e.next=20;break}return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),e.next=19,Qo(0);case 19:return e.abrupt("return",this._network);case 20:throw n=Go.makeError("underlying network changed",T.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r}),this.emit("error",n),n;case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"blockNumber",get:function(){var e=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then((function(t){e._setFastBlockNumber(t)}),(function(e){})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval((function(){t.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){t.poll(),t._bootstrapPoll=setTimeout((function(){t._poller||t.poll(),t._bootstrapPoll=null}),t.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){t.poll()}),this._pollingInterval))}},{key:"_getFastBlockNumber",value:function(){var e=this,t=Yo();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber}))),this._fastBlockNumberPromise}},{key:"_setFastBlockNumber",value:function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Yo(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}},{key:"waitForTransaction",value:function(e,t,r){return zo(this,void 0,void 0,(0,m.Z)().mark((function n(){return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._waitForTransaction(e,null==t?1:t,r||0,null));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"_waitForTransaction",value:function(e,t,r,n){return zo(this,void 0,void 0,(0,m.Z)().mark((function i(){var a,o=this;return(0,m.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getTransactionReceipt(e);case 2:if(!(((a=i.sent)?a.confirmations:0)>=t)){i.next=5;break}return i.abrupt("return",a);case 5:return i.abrupt("return",new Promise((function(i,a){var s=[],u=!1,c=function(){return!!u||(u=!0,s.forEach((function(e){e()})),!1)},f=function(e){e.confirmations<t||c()||i(e)};if(o.on(e,f),s.push((function(){o.removeListener(e,f)})),n){var l=n.startBlock,h=null,d=function r(i){return zo(o,void 0,void 0,(0,m.Z)().mark((function o(){var s=this;return(0,m.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!u){o.next=2;break}return o.abrupt("return");case 2:return o.next=4,Qo(1e3);case 4:this.getTransactionCount(n.from).then((function(o){return zo(s,void 0,void 0,(0,m.Z)().mark((function s(){var f,d,p,v,y,g;return(0,m.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!u){s.next=2;break}return s.abrupt("return");case 2:if(!(o<=n.nonce)){s.next=6;break}l=i,s.next=41;break;case 6:return s.next=8,this.getTransaction(e);case 8:if(!(f=s.sent)||null==f.blockNumber){s.next=11;break}return s.abrupt("return");case 11:null==h&&(h=l-3)<n.startBlock&&(h=n.startBlock);case 12:if(!(h<=i)){s.next=41;break}if(!u){s.next=15;break}return s.abrupt("return");case 15:return s.next=17,this.getBlockWithTransactions(h);case 17:d=s.sent,p=0;case 19:if(!(p<d.transactions.length)){s.next=38;break}if((v=d.transactions[p]).hash!==e){s.next=23;break}return s.abrupt("return");case 23:if(v.from!==n.from||v.nonce!==n.nonce){s.next=35;break}if(!u){s.next=26;break}return s.abrupt("return");case 26:return s.next=28,this.waitForTransaction(v.hash,t);case 28:if(y=s.sent,!c()){s.next=31;break}return s.abrupt("return");case 31:return g="replaced",v.data===n.data&&v.to===n.to&&v.value.eq(n.value)?g="repriced":"0x"===v.data&&v.from===v.to&&v.value.isZero()&&(g="cancelled"),a(Go.makeError("transaction was replaced",T.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===g||"cancelled"===g,reason:g,replacement:this._wrapTransaction(v),hash:e,receipt:y})),s.abrupt("return");case 35:p++,s.next=19;break;case 38:h++,s.next=12;break;case 41:if(!u){s.next=43;break}return s.abrupt("return");case 43:this.once("block",r);case 44:case"end":return s.stop()}}),s,this)})))}),(function(e){u||s.once("block",r)}));case 5:case"end":return o.stop()}}),o,this)})))};if(u)return;o.once("block",d),s.push((function(){o.removeListener("block",d)}))}if("number"===typeof r&&r>0){var p=setTimeout((function(){c()||a(Go.makeError("timeout exceeded",T.errors.TIMEOUT,{timeout:r}))}),r);p.unref&&p.unref(),s.push((function(){clearTimeout(p)}))}})));case 6:case"end":return i.stop()}}),i,this)})))}},{key:"getBlockNumber",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getInternalBlockNumber(0));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,this.perform("getGasPrice",{});case 4:return t=e.sent,e.prev=5,e.abrupt("return",ne.from(t));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",Go.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})))}},{key:"getBalance",value:function(e,t){return zo(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,he({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getBalance",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",ne.from(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",Go.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getTransactionCount",value:function(e,t){return zo(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,he({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getTransactionCount",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",ne.from(i).toNumber());case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",Go.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getCode",value:function(e,t){return zo(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,he({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getCode",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",D(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",Go.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getStorageAt",value:function(e,t,r){return zo(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getNetwork();case 2:return n.next=4,he({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((function(e){return H(e)}))});case 4:return i=n.sent,n.next=7,this.perform("getStorageAt",i);case 7:return a=n.sent,n.prev=8,n.abrupt("return",D(a));case 12:return n.prev=12,n.t0=n.catch(8),n.abrupt("return",Go.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:n.t0}));case 15:case"end":return n.stop()}}),n,this,[[8,12]])})))}},{key:"_wrapTransaction",value:function(e,t,r){var n=this;if(null!=t&&32!==K(t))throw new Error("invalid response - sendTransaction");var i=e;return null!=t&&e.hash!==t&&Go.throwError("Transaction hash mismatch from Provider.sendTransaction.",T.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=function(t,i){return zo(n,void 0,void 0,(0,m.Z)().mark((function n(){var a,o;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==t&&(t=1),null==i&&(i=0),a=void 0,0!==t&&null!=r&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r}),n.next=6,this._waitForTransaction(e.hash,t,i,a);case 6:if(null!=(o=n.sent)||0!==t){n.next=9;break}return n.abrupt("return",null);case 9:return this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&Go.throwError("transaction failed",T.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),n.abrupt("return",o);case 12:case"end":return n.stop()}}),n,this)})))},i}},{key:"sendTransaction",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i,a;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Promise.resolve(e).then((function(e){return D(e)}));case 4:return r=t.sent,null==(n=this.formatter.transaction(e)).confirmations&&(n.confirmations=0),t.next=9,this._getInternalBlockNumber(100+2*this.pollingInterval);case 9:return i=t.sent,t.prev=10,t.next=13,this.perform("sendTransaction",{signedTransaction:r});case 13:return a=t.sent,t.abrupt("return",this._wrapTransaction(n,a,i));case 17:throw t.prev=17,t.t0=t.catch(10),t.t0.transaction=n,t.t0.transactionHash=n.hash,t.t0;case 22:case"end":return t.stop()}}),t,this,[[10,17]])})))}},{key:"_getTransactionRequest",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return r=t.sent,n={},["from","to"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?i._getAddress(e):null})))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?ne.from(e):null})))})),["type"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return null!=e?e:null})))})),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?D(e):null})))})),t.t0=this.formatter,t.next=12,he(n);case 12:return t.t1=t.sent,t.abrupt("return",t.t0.transactionRequest.call(t.t0,t.t1));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"_getFilter",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,r={},null!=e.address&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach((function(t){null!=e[t]&&(r[t]=e[t])})),["fromBlock","toBlock"].forEach((function(t){null!=e[t]&&(r[t]=n._getBlockTag(e[t]))})),t.t0=this.formatter,t.next=10,he(r);case 10:return t.t1=t.sent,t.abrupt("return",t.t0.filter.call(t.t0,t.t1));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"_call",value:function(e,t,r){return zo(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a,o,s,u,c,f,l,h,d,p,v,y,g,b;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r>=10&&Go.throwError("CCIP read exceeded maximum redirections",T.errors.SERVER_ERROR,{redirects:r,transaction:e}),i=e.to,n.next=4,this.perform("call",{transaction:e,blockTag:t});case 4:if(a=n.sent,!(r>=0&&"latest"===t&&null!=i&&"0x556f1830"===a.substring(0,10)&&K(a)%32===4)){n.next=31;break}for(n.prev=6,o=Z(a,4),s=Z(o,0,32),ne.from(s).eq(i)||Go.throwError("CCIP Read sender did not match",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),u=[],c=ne.from(Z(o,32,64)).toNumber(),f=ne.from(Z(o,c,c+32)).toNumber(),l=Z(o,c+32),h=0;h<f;h++)null==(d=as(l,32*h))&&Go.throwError("CCIP Read contained corrupt URL string",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),u.push(d);return p=os(o,64),ne.from(Z(o,100,128)).isZero()||Go.throwError("CCIP Read callback selector included junk",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),v=Z(o,96,100),y=os(o,128),n.next=21,this.ccipReadFetch(e,p,u);case 21:return null==(g=n.sent)&&Go.throwError("CCIP Read disabled or provided no URLs",T.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),b={to:i,data:q([v,fs([g,y])])},n.abrupt("return",this._call(b,t,r+1));case 27:if(n.prev=27,n.t0=n.catch(6),n.t0.code!==T.errors.SERVER_ERROR){n.next=31;break}throw n.t0;case 31:return n.prev=31,n.abrupt("return",D(a));case 35:return n.prev=35,n.t1=n.catch(31),n.abrupt("return",Go.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:a,error:n.t1}));case 38:case"end":return n.stop()}}),n,this,[[6,27],[31,35]])})))}},{key:"call",value:function(e,t){return zo(this,void 0,void 0,(0,m.Z)().mark((function r(){var n;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,he({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});case 4:return n=r.sent,r.abrupt("return",this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1));case 6:case"end":return r.stop()}}),r,this)})))}},{key:"estimateGas",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,he({transaction:this._getTransactionRequest(e)});case 4:return r=t.sent,t.next=7,this.perform("estimateGas",r);case 7:return n=t.sent,t.prev=8,t.abrupt("return",ne.from(n));case 12:return t.prev=12,t.t0=t.catch(8),t.abrupt("return",Go.throwError("bad result from backend",T.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:t.t0}));case 15:case"end":return t.stop()}}),t,this,[[8,12]])})))}},{key:"_getAddress",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return"string"!==typeof(e=t.sent)&&Go.throwArgumentError("invalid address or ENS name","name",e),t.next=6,this.resolveName(e);case 6:return null==(r=t.sent)&&Go.throwError("ENS name not configured",T.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(e),")")}),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"_getBlock",value:function(e,t){return zo(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i,a=this;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,e;case 4:if(e=r.sent,n=-128,i={includeTransactions:!!t},!L(e,32)){r.next=11;break}i.blockHash=e,r.next=21;break;case 11:return r.prev=11,r.next=14,this._getBlockTag(e);case 14:i.blockTag=r.sent,L(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16)),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),Go.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e);case 21:return r.abrupt("return",Bo((function(){return zo(a,void 0,void 0,(0,m.Z)().mark((function e(){var r,a,o,s,u,c,f=this;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.perform("getBlock",i);case 2:if(null!=(r=e.sent)){e.next=11;break}if(null==i.blockHash){e.next=7;break}if(null!=this._emitted["b:"+i.blockHash]){e.next=7;break}return e.abrupt("return",null);case 7:if(null==i.blockTag){e.next=10;break}if(!(n>this._emitted.block)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",void 0);case 11:if(!t){e.next=34;break}a=null,o=0;case 14:if(!(o<r.transactions.length)){e.next=31;break}if(null!=(s=r.transactions[o]).blockNumber){e.next=20;break}s.confirmations=0,e.next=28;break;case 20:if(null!=s.confirmations){e.next=28;break}if(null!=a){e.next=25;break}return e.next=24,this._getInternalBlockNumber(100+2*this.pollingInterval);case 24:a=e.sent;case 25:(u=a-s.blockNumber+1)<=0&&(u=1),s.confirmations=u;case 28:o++,e.next=14;break;case 31:return(c=this.formatter.blockWithTransactions(r)).transactions=c.transactions.map((function(e){return f._wrapTransaction(e)})),e.abrupt("return",c);case 34:return e.abrupt("return",this.formatter.block(r));case 35:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this}));case 22:case"end":return r.stop()}}),r,this,[[11,18]])})))}},{key:"getBlock",value:function(e){return this._getBlock(e,!1)}},{key:"getBlockWithTransactions",value:function(e){return this._getBlock(e,!0)}},{key:"getTransaction",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",Bo((function(){return zo(n,void 0,void 0,(0,m.Z)().mark((function t(){var n,i,a,o;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransaction",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=(i=this.formatter.transactionResponse(n)).blockNumber){t.next=12;break}i.confirmations=0,t.next=19;break;case 12:if(null!=i.confirmations){t.next=19;break}return t.next=15,this._getInternalBlockNumber(100+2*this.pollingInterval);case 15:a=t.sent,(o=a-i.blockNumber+1)<=0&&(o=1),i.confirmations=o;case 19:return t.abrupt("return",this._wrapTransaction(i));case 20:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionReceipt",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",Bo((function(){return zo(n,void 0,void 0,(0,m.Z)().mark((function t(){var n,i,a,o;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransactionReceipt",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=n.blockHash){t.next=9;break}return t.abrupt("return",void 0);case 9:if(null!=(i=this.formatter.receipt(n)).blockNumber){t.next=14;break}i.confirmations=0,t.next=21;break;case 14:if(null!=i.confirmations){t.next=21;break}return t.next=17,this._getInternalBlockNumber(100+2*this.pollingInterval);case 17:a=t.sent,(o=a-i.blockNumber+1)<=0&&(o=1),i.confirmations=o;case 21:return t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getLogs",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,he({filter:this._getFilter(e)});case 4:return r=t.sent,t.next=7,this.perform("getLogs",r);case 7:return(n=t.sent).forEach((function(e){null==e.removed&&(e.removed=!1)})),t.abrupt("return",Do.arrayOf(this.formatter.filterLog.bind(this.formatter))(n));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getEtherPrice",value:function(){return zo(this,void 0,void 0,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.abrupt("return",this.perform("getEtherPrice",{}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_getBlockTag",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(!("number"===typeof(e=t.sent)&&e<0)){t.next=11;break}return e%1&&Go.throwArgumentError("invalid BlockTag","blockTag",e),t.next=7,this._getInternalBlockNumber(100+2*this.pollingInterval);case 7:return r=t.sent,(r+=e)<0&&(r=0),t.abrupt("return",this.formatter.blockTag(r));case 11:return t.abrupt("return",this.formatter.blockTag(e));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"getResolver",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e;case 1:if(""!==r&&"."!==r){t.next=4;break}return t.abrupt("return",null);case 4:if("eth"===e||"eth"!==r){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,this._getResolver(r,"getResolver");case 8:if(null==(n=t.sent)){t.next=19;break}if(i=new ls(this,n,e),t.t0=r!==e,!t.t0){t.next=16;break}return t.next=15,i.supportsWildcard();case 15:t.t0=!t.sent;case 16:if(!t.t0){t.next=18;break}return t.abrupt("return",null);case 18:return t.abrupt("return",i);case 19:r=r.split(".").slice(1).join("."),t.next=1;break;case 22:case"end":return t.stop()}}),t,this)})))}},{key:"_getResolver",value:function(e,t){return zo(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t="ENS"),r.next=3,this.getNetwork();case 3:return(n=r.sent).ensAddress||Go.throwError("network does not support ENS",T.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name}),r.prev=5,r.next=8,this.call({to:n.ensAddress,data:"0x0178b8bf"+Eo(e).substring(2)});case 8:return i=r.sent,r.abrupt("return",this.formatter.callAddress(i));case 12:r.prev=12,r.t0=r.catch(5);case 14:return r.abrupt("return",null);case 15:case"end":return r.stop()}}),r,this,[[5,12]])})))}},{key:"resolveName",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,t.prev=3,t.abrupt("return",Promise.resolve(this.formatter.address(e)));case 7:if(t.prev=7,t.t0=t.catch(3),!L(e)){t.next=11;break}throw t.t0;case 11:return"string"!==typeof e&&Go.throwArgumentError("invalid ENS name","name",e),t.next=14,this.getResolver(e);case 14:if(r=t.sent){t.next=17;break}return t.abrupt("return",null);case 17:return t.next=19,r.getAddress();case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t,this,[[3,7]])})))}},{key:"lookupAddress",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,e=this.formatter.address(e),r=e.substring(2).toLowerCase()+".addr.reverse",t.next=7,this._getResolver(r,"lookupAddress");case 7:if(null!=(n=t.sent)){t.next=10;break}return t.abrupt("return",null);case 10:return t.t0=as,t.next=13,this.call({to:n,data:"0x691f3431"+Eo(r).substring(2)});case 13:return t.t1=t.sent,i=(0,t.t0)(t.t1,0),t.next=17,this.resolveName(i);case 17:if(t.sent==e){t.next=20;break}return t.abrupt("return",null);case 20:return t.abrupt("return",i);case 21:case"end":return t.stop()}}),t,this)})))}},{key:"getAvatar",value:function(e){return zo(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i,a,o,s,u;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null,!L(e)){t.next=40;break}return n=this.formatter.address(e),i=n.substring(2).toLowerCase()+".addr.reverse",t.next=6,this._getResolver(i,"getAvatar");case 6:if(a=t.sent){t.next=9;break}return t.abrupt("return",null);case 9:return r=new ls(this,a,i),t.prev=10,t.next=13,r.getAvatar();case 13:if(!(o=t.sent)){t.next=16;break}return t.abrupt("return",o.url);case 16:t.next=22;break;case 18:if(t.prev=18,t.t0=t.catch(10),t.t0.code===T.errors.CALL_EXCEPTION){t.next=22;break}throw t.t0;case 22:return t.prev=22,t.t1=as,t.next=26,this.call({to:a,data:"0x691f3431"+Eo(i).substring(2)});case 26:return t.t2=t.sent,s=(0,t.t1)(t.t2,0),t.next=30,this.getResolver(s);case 30:r=t.sent,t.next=38;break;case 33:if(t.prev=33,t.t3=t.catch(22),t.t3.code===T.errors.CALL_EXCEPTION){t.next=37;break}throw t.t3;case 37:return t.abrupt("return",null);case 38:t.next=45;break;case 40:return t.next=42,this.getResolver(e);case 42:if(r=t.sent){t.next=45;break}return t.abrupt("return",null);case 45:return t.next=47,r.getAvatar();case 47:if(null!=(u=t.sent)){t.next=50;break}return t.abrupt("return",null);case 50:return t.abrupt("return",u.url);case 51:case"end":return t.stop()}}),t,this,[[10,18],[22,33]])})))}},{key:"perform",value:function(e,t){return Go.throwError(e+" not implemented",T.errors.NOT_IMPLEMENTED,{operation:e})}},{key:"_startEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_stopEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_addEventListener",value:function(e,t,r){var n=new $o(Wo(e),t,r);return this._events.push(n),this._startEvent(n),this}},{key:"on",value:function(e,t){return this._addEventListener(e,t,!1)}},{key:"once",value:function(e,t){return this._addEventListener(e,t,!0)}},{key:"emit",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=!1,o=[],s=Wo(e);return this._events=this._events.filter((function(e){return e.tag!==s||(setTimeout((function(){e.listener.apply(t,n)}),0),a=!0,!e.once||(o.push(e),!1))})),o.forEach((function(e){t._stopEvent(e)})),a}},{key:"listenerCount",value:function(e){if(!e)return this._events.length;var t=Wo(e);return this._events.filter((function(e){return e.tag===t})).length}},{key:"listeners",value:function(e){if(null==e)return this._events.map((function(e){return e.listener}));var t=Wo(e);return this._events.filter((function(e){return e.tag===t})).map((function(e){return e.listener}))}},{key:"off",value:function(e,t){var r=this;if(null==t)return this.removeAllListeners(e);var n=[],i=!1,a=Wo(e);return this._events=this._events.filter((function(e){return e.tag!==a||e.listener!=t||(!!i||(i=!0,n.push(e),!1))})),n.forEach((function(e){r._stopEvent(e)})),this}},{key:"removeAllListeners",value:function(e){var t=this,r=[];if(null==e)r=this._events,this._events=[];else{var n=Wo(e);this._events=this._events.filter((function(e){return e.tag!==n||(r.push(e),!1)}))}return r.forEach((function(e){t._stopEvent(e)})),this}}],[{key:"getFormatter",value:function(){return null==hs&&(hs=new Do),hs}},{key:"getNetwork",value:function(e){return Ja(null==e?"homestead":e)}}]),r}(yr),vs=r(82963),ys=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},ms=new T(Lo),gs=["call","estimateGas"];function bs(e,t){if(null==e)return null;if("string"===typeof e.message&&e.message.match("reverted")){var r=L(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"===typeof e){for(var n in e){var i=bs(e[n],t);if(i)return i}return null}if("string"===typeof e)try{return bs(JSON.parse(e),t)}catch(a){}return null}function ws(e,t,r){var n=r.transaction||r.signedTransaction;if("call"===e){var i=bs(t,!0);if(i)return i.data;ms.throwError("missing revert data in call exception; Transaction reverted without a reason string",T.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){var a=bs(t.body,!1);null==a&&(a=bs(t,!1)),a&&ms.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:e,transaction:n,error:t})}var o=t.message;throw t.code===T.errors.SERVER_ERROR&&t.error&&"string"===typeof t.error.message?o=t.error.message:"string"===typeof t.body?o=t.body:"string"===typeof t.responseText&&(o=t.responseText),(o=(o||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&ms.throwError("insufficient funds for intrinsic transaction cost",T.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),o.match(/nonce (is )?too low/i)&&ms.throwError("nonce has already been used",T.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&ms.throwError("replacement fee too low",T.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),o.match(/only replay-protected/i)&&ms.throwError("legacy pre-eip-155 transactions not supported",T.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),gs.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&ms.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function ks(e){return new Promise((function(t){setTimeout(t,e)}))}function _s(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function xs(e){return e?e.toLowerCase():e}var As={},Es=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n,i){var a;if((0,v.Z)(this,r),a=t.call(this),e!==As)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return fe((0,f.Z)(a),"provider",n),null==i&&(i=0),"string"===typeof i?(fe((0,f.Z)(a),"_address",a.provider.formatter.address(i)),fe((0,f.Z)(a),"_index",null)):"number"===typeof i?(fe((0,f.Z)(a),"_index",i),fe((0,f.Z)(a),"_address",null)):ms.throwArgumentError("invalid address or index","addressOrIndex",i),a}return(0,y.Z)(r,[{key:"connect",value:function(e){return ms.throwError("cannot alter JSON-RPC Signer connection",T.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}},{key:"connectUnchecked",value:function(){return new Ss(As,this.provider,this._address||this._index)}},{key:"getAddress",value:function(){var e=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((function(t){return t.length<=e._index&&ms.throwError("unknown account #"+e._index,T.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])}))}},{key:"sendUncheckedTransaction",value:function(e){var t=this;e=pe(e);var r=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));if(null==e.gasLimit){var n=pe(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((function(e){return ys(t,void 0,void 0,(0,m.Z)().mark((function t(){var r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.provider.resolveName(e);case 4:return null==(r=t.sent)&&ms.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))}))),he({tx:he(e),sender:r}).then((function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&ms.throwArgumentError("from address mismatch","transaction",e):n.from=i;var a=t.provider.constructor.hexlifyTransaction(n,{from:!0});return t.provider.send("eth_sendTransaction",[a]).then((function(e){return e}),(function(e){return"string"===typeof e.message&&e.message.match(/user denied/i)&&ms.throwError("user rejected transaction",T.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),ws("sendTransaction",e,a)}))}))}},{key:"signTransaction",value:function(e){return ms.throwError("signing transactions is unsupported",T.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}},{key:"sendTransaction",value:function(e){return ys(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n,i=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval);case 2:return r=t.sent,t.next=5,this.sendUncheckedTransaction(e);case 5:return n=t.sent,t.prev=6,t.next=9,Bo((function(){return ys(i,void 0,void 0,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransaction(n);case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",this.provider._wrapTransaction(t,n,r));case 6:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this.provider});case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(6),t.t0.transactionHash=n,t.t0;case 16:case"end":return t.stop()}}),t,this,[[6,12]])})))}},{key:"signMessage",value:function(e){return ys(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"===typeof e?rt(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.prev=4,t.next=7,this.provider.send("personal_sign",[D(r),n.toLowerCase()]);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),"string"===typeof t.t0.message&&t.t0.message.match(/user denied/i)&&ms.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"_legacySignMessage",value:function(e){return ys(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"===typeof e?rt(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.prev=4,t.next=7,this.provider.send("eth_sign",[n.toLowerCase(),D(r)]);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),"string"===typeof t.t0.message&&t.t0.message.match(/user denied/i)&&ms.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"_signTypedData",value:function(e,t,r){return ys(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a,o=this;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Si.resolveNames(e,t,r,(function(e){return o.provider.resolveName(e)}));case 2:return i=n.sent,n.next=5,this.getAddress();case 5:return a=n.sent,n.prev=6,n.next=9,this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(Si.getPayload(i.domain,t,i.value))]);case 9:return n.abrupt("return",n.sent);case 12:throw n.prev=12,n.t0=n.catch(6),"string"===typeof n.t0.message&&n.t0.message.match(/user denied/i)&&ms.throwError("user rejected signing",T.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:i.domain,types:t,value:i.value}}),n.t0;case 16:case"end":return n.stop()}}),n,this,[[6,12]])})))}},{key:"unlock",value:function(e){return ys(this,void 0,void 0,(0,m.Z)().mark((function t(){var r,n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.provider,t.next=3,this.getAddress();case 3:return n=t.sent,t.abrupt("return",r.send("personal_unlockAccount",[n.toLowerCase(),e,null]));case 5:case"end":return t.stop()}}),t,this)})))}}]),r}(kr),Ss=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"sendTransaction",value:function(e){var t=this;return this.sendUncheckedTransaction(e).then((function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(r){return t.provider.waitForTransaction(e,r)}}}))}}]),r}(Es),Ts={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},Ms=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,v.Z)(this,r);var a=n;return null==a&&(a=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then((function(t){e(t)}),(function(e){t(e)}))}),0)}))),i=t.call(this,a),e||(e=le(i.constructor,"defaultUrl")()),fe((0,f.Z)(i),"connection","string"===typeof e?Object.freeze({url:e}):Object.freeze(pe(e))),i._nextId=42,i}return(0,y.Z)(r,[{key:"_cache",get:function(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}},{key:"detectNetwork",value:function(){var e=this;return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((function(){e._cache.detectNetwork=null}),0)),this._cache.detectNetwork}},{key:"_uncachedDetectNetwork",value:function(){return ys(this,void 0,void 0,(0,m.Z)().mark((function e(){var t,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(0);case 2:return t=null,e.prev=3,e.next=6,this.send("eth_chainId",[]);case 6:t=e.sent,e.next=19;break;case 9:return e.prev=9,e.t0=e.catch(3),e.prev=11,e.next=14,this.send("net_version",[]);case 14:t=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:if(null==t){e.next=28;break}return r=le(this.constructor,"getNetwork"),e.prev=21,e.abrupt("return",r(ne.from(t).toNumber()));case 25:return e.prev=25,e.t2=e.catch(21),e.abrupt("return",ms.throwError("could not detect network",T.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e.t2}));case 28:return e.abrupt("return",ms.throwError("could not detect network",T.errors.NETWORK_ERROR,{event:"noNetwork"}));case 29:case"end":return e.stop()}}),e,this,[[3,9],[11,17],[21,25]])})))}},{key:"getSigner",value:function(e){return new Es(As,this,e)}},{key:"getUncheckedSigner",value:function(e){return this.getSigner(e).connectUnchecked()}},{key:"listAccounts",value:function(){var e=this;return this.send("eth_accounts",[]).then((function(t){return t.map((function(t){return e.formatter.address(t)}))}))}},{key:"send",value:function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ge(n),provider:this});var i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];var a=Ro(this.connection,JSON.stringify(n),_s).then((function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e}),(function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e}));return i&&(this._cache[e]=a,setTimeout((function(){r._cache[e]=null}),0)),a}},{key:"prepareRequest",value:function(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[xs(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[xs(t.address),t.blockTag]];case"getCode":return["eth_getCode",[xs(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[xs(t.address),G(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[le(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[le(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=xs(t.filter.address)),["eth_getLogs",[t.filter]]}return null}},{key:"perform",value:function(e,t){return ys(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i,a;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("call"!==e&&"estimateGas"!==e){r.next=8;break}if(!(n=t.transaction)||null==n.type||!ne.from(n.type).isZero()){r.next=8;break}if(null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas){r.next=8;break}return r.next=6,this.getFeeData();case 6:null==(i=r.sent).maxFeePerGas&&null==i.maxPriorityFeePerGas&&((t=pe(t)).transaction=pe(n),delete t.transaction.type);case 8:return null==(a=this.prepareRequest(e,t))&&ms.throwError(e+" not implemented",T.errors.NOT_IMPLEMENTED,{operation:e}),r.prev=10,r.next=13,this.send(a[0],a[1]);case 13:return r.abrupt("return",r.sent);case 16:return r.prev=16,r.t0=r.catch(10),r.abrupt("return",ws(e,r.t0,t));case 19:case"end":return r.stop()}}),r,this,[[10,16]])})))}},{key:"_startEvent",value:function(e){"pending"===e.tag&&this._startPending(),(0,l.Z)((0,h.Z)(r.prototype),"_startEvent",this).call(this,e)}},{key:"_startPending",value:function(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;var n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return ks(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((function(e){}))}(),r})).catch((function(e){}))}}},{key:"_stopEvent",value:function(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),(0,l.Z)((0,h.Z)(r.prototype),"_stopEvent",this).call(this,e)}}],[{key:"defaultUrl",value:function(){return"http://localhost:8545"}},{key:"hexlifyTransaction",value:function(e,t){var r=pe(Ts);if(t)for(var n in t)t[n]&&(r[n]=!0);de(e,r);var i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null!=e[t]){var r=H(ne.from(e[t]));"gasLimit"===t&&(t="gas"),i[t]=r}})),["from","to","data"].forEach((function(t){null!=e[t]&&(i[t]=D(e[t]))})),e.accessList&&(i.accessList=An(e.accessList)),i}}]),r}(ps),Ps=null;try{if(null==(Ps=WebSocket))throw new Error("inject please")}catch(vc){var Is=new T(Lo);Ps=function(){Is.throwError("WebSockets not supported in this environment",T.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Ns=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Cs=new T(Lo),Os=1,Rs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i,a;(0,v.Z)(this,r),"any"===n&&Cs.throwError("WebSocketProvider does not support 'any' network yet",T.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(a="string"===typeof e?t.call(this,e,n):t.call(this,"_websocket",n))._pollingInterval=-1,a._wsReady=!1,fe((0,f.Z)(a),"_websocket","string"===typeof e?new Ps(a.connection.url):e),fe((0,f.Z)(a),"_requests",{}),fe((0,f.Z)(a),"_subs",{}),fe((0,f.Z)(a),"_subIds",{}),fe((0,f.Z)(a),"_detectNetwork",(0,l.Z)((i=(0,f.Z)(a),(0,h.Z)(r.prototype)),"detectNetwork",i).call(i)),a.websocket.onopen=function(){a._wsReady=!0,Object.keys(a._requests).forEach((function(e){a.websocket.send(a._requests[e].payload)}))},a.websocket.onmessage=function(e){var t=e.data,r=JSON.parse(t);if(null!=r.id){var n=String(r.id),i=a._requests[n];if(delete a._requests[n],void 0!==r.result)i.callback(null,r.result),a.emit("debug",{action:"response",request:JSON.parse(i.payload),response:r.result,provider:(0,f.Z)(a)});else{var o=null;r.error?(fe(o=new Error(r.error.message||"unknown error"),"code",r.error.code||null),fe(o,"response",t)):o=new Error("unknown error"),i.callback(o,void 0),a.emit("debug",{action:"response",error:o,request:JSON.parse(i.payload),provider:(0,f.Z)(a)})}}else if("eth_subscription"===r.method){var s=a._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};var o=setInterval((function(){a.emit("poll")}),1e3);return o.unref&&o.unref(),(0,vs.Z)(a)}return(0,y.Z)(r,[{key:"websocket",get:function(){return this._websocket}},{key:"detectNetwork",value:function(){return this._detectNetwork}},{key:"pollingInterval",get:function(){return 0},set:function(e){Cs.throwError("cannot set polling interval on WebSocketProvider",T.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}},{key:"resetEventsBlock",value:function(e){Cs.throwError("cannot reset events block on WebSocketProvider",T.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}},{key:"poll",value:function(){return Ns(this,void 0,void 0,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))}},{key:"polling",set:function(e){e&&Cs.throwError("cannot set polling on WebSocketProvider",T.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}},{key:"send",value:function(e,t){var r=this,n=Os++;return new Promise((function(i,a){var o=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});r.emit("debug",{action:"request",request:JSON.parse(o),provider:r}),r._requests[String(n)]={callback:function(e,t){return e?a(e):i(t)},payload:o},r._wsReady&&r.websocket.send(o)}))}},{key:"_subscribe",value:function(e,t,r){return Ns(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a,o=this;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(i=this._subIds[e])&&(i=Promise.all(t).then((function(e){return o.send("eth_subscribe",e)})),this._subIds[e]=i),n.next=4,i;case 4:a=n.sent,this._subs[a]={tag:e,processFunc:r};case 6:case"end":return n.stop()}}),n,this)})))}},{key:"_startEvent",value:function(e){var t=this;switch(e.type){case"block":this._subscribe("block",["newHeads"],(function(e){var r=ne.from(e.number).toNumber();t._emitted.block=r,t.emit("block",r)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(function(e){t.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(function(r){null==r.removed&&(r.removed=!1),t.emit(e.filter,t.formatter.filterLog(r))}));break;case"tx":var r=function(e){var r=e.hash;t.getTransactionReceipt(r).then((function(e){e&&t.emit(r,e)}))};r(e),this._subscribe("tx",["newHeads"],(function(e){t._events.filter((function(e){return"tx"===e.type})).forEach(r)}));break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}},{key:"_stopEvent",value:function(e){var t=this,r=e.tag;if("tx"===e.type){if(this._events.filter((function(e){return"tx"===e.type})).length)return;r="tx"}else if(this.listenerCount(e.event))return;var n=this._subIds[r];n&&(delete this._subIds[r],n.then((function(e){t._subs[e]&&(delete t._subs[e],t.send("eth_unsubscribe",[e]))})))}},{key:"destroy",value:function(){return Ns(this,void 0,void 0,(0,m.Z)().mark((function e(){var t=this;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.websocket.readyState!==Ps.CONNECTING){e.next=3;break}return e.next=3,new Promise((function(e){t.websocket.onopen=function(){e(!0)},t.websocket.onerror=function(){e(!1)}}));case 3:this.websocket.close(1e3);case 4:case"end":return e.stop()}}),e,this)})))}}],[{key:"defaultUrl",value:function(){return"ws://localhost:8546"}}]),r}(Ms),Bs=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Us=new T(Lo),Fs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"detectNetwork",value:function(){var e=this,t=Object.create(null,{detectNetwork:{get:function(){return(0,l.Z)((0,h.Z)(r.prototype),"detectNetwork",e)}}});return Bs(this,void 0,void 0,(0,m.Z)().mark((function e(){var r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=this.network)){e.next=7;break}return e.next=4,t.detectNetwork.call(this);case 4:(r=e.sent)||Us.throwError("no network detected",T.errors.UNKNOWN_ERROR,{}),null==this._network&&(fe(this,"_network",r),this.emit("network",r,null));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))}}]),r}(Ms),Ls=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,v.Z)(this,r),Us.checkAbstract(this instanceof r?this.constructor:void 0,r),e=le(this instanceof r?this.constructor:void 0,"getNetwork")(e),n=le(this instanceof r?this.constructor:void 0,"getApiKey")(n);var a=le(this instanceof r?this.constructor:void 0,"getUrl")(e,n);return i=t.call(this,a,e),"string"===typeof n?fe((0,f.Z)(i),"apiKey",n):null!=n&&Object.keys(n).forEach((function(e){fe((0,f.Z)(i),e,n[e])})),i}return(0,y.Z)(r,[{key:"_startPending",value:function(){Us.warn("WARNING: API provider does not support pending filters")}},{key:"isCommunityResource",value:function(){return!1}},{key:"getSigner",value:function(e){return Us.throwError("API provider does not support signing",T.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}},{key:"listAccounts",value:function(){return Promise.resolve([])}}],[{key:"getApiKey",value:function(e){return e}},{key:"getUrl",value:function(e,t){return Us.throwError("not implemented; sub-classes must override getUrl",T.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}]),r}(Fs),js=new T(Lo),Ds="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",Ks=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,v.Z)(this,r);var a=new Zs(e,n),o=a.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");return i=t.call(this,o,a.network),fe((0,f.Z)(i),"apiKey",a.apiKey),i}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.apiKey===Ds}}]),r}(Rs),Zs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.apiKey===Ds}}],[{key:"getWebSocketProvider",value:function(e,t){return new Ks(e,t)}},{key:"getApiKey",value:function(e){return null==e?Ds:(e&&"string"!==typeof e&&js.throwArgumentError("invalid apiKey","apiKey",e),e)}},{key:"getUrl",value:function(e,t){var r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:js.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:function(e,r){return t===Ds&&Ho(),Promise.resolve(!0)}}}}]),r}(Ls),qs=new T(Lo),Hs="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function zs(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return qs.throwArgumentError("unsupported network","name",e)}var Gs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.apiKey===Hs}}],[{key:"getApiKey",value:function(e){return null==e?Hs:e}},{key:"getUrl",value:function(e,t){null==t&&(t=Hs);var r={allowGzip:!0,url:"https://"+zs(e.name)+t,throttleCallback:function(e,r){return t.apiKey===Hs&&Ho(),Promise.resolve(!0)}};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}]),r}(Ls),Vs=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Js=new T(Lo),Ws=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"perform",value:function(e,t){var n=this,i=Object.create(null,{perform:{get:function(){return(0,l.Z)((0,h.Z)(r.prototype),"perform",n)}}});return Vs(this,void 0,void 0,(0,m.Z)().mark((function r(){var n;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("getBlockNumber"!==e){r.next=5;break}return r.next=3,i.perform.call(this,"getBlock",{blockTag:"latest"});case 3:return n=r.sent,r.abrupt("return",n.number);case 5:return r.abrupt("return",i.perform.call(this,e,t));case 6:case"end":return r.stop()}}),r,this)})))}}],[{key:"getApiKey",value:function(e){return null!=e&&Js.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}},{key:"getUrl",value:function(e,t){var r=null;if("homestead"===e.name)r="https://cloudflare-eth.com/";else Js.throwArgumentError("unsupported network","network",arguments[0]);return r}}]),r}(Ls),Ys=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Qs=new T(Lo);function Xs(e){var t={};for(var r in e)if(null!=e[r]){var n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?H(D(n)):"accessList"===r?"["+An(n).map((function(e){return'{address:"'.concat(e.address,'",storageKeys:["').concat(e.storageKeys.join('","'),'"]}')})).join(",")+"]":D(n),t[r]=n)}return t}function $s(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!==typeof e.message||!e.message.match(/^OK/)){var t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function eu(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){var t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){var r=new Error("invalid response");throw r.result=JSON.stringify(e),r}if(e.error){var n=new Error(e.error.message||"unknown error");throw e.error.code&&(n.code=e.error.code),e.error.data&&(n.data=e.error.data),n}return e.result}function tu(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function ru(e,t,r){if("call"===e&&t.code===T.errors.SERVER_ERROR){var n=t.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){var i=n.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),L(i))return i;Qs.throwError("missing revert data in call exception",T.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}var a=t.message;throw t.code===T.errors.SERVER_ERROR&&(t.error&&"string"===typeof t.error.message?a=t.error.message:"string"===typeof t.body?a=t.body:"string"===typeof t.responseText&&(a=t.responseText)),(a=(a||"").toLowerCase()).match(/insufficient funds/)&&Qs.throwError("insufficient funds for intrinsic transaction cost",T.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),a.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Qs.throwError("nonce has already been used",T.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),a.match(/another transaction with same nonce/)&&Qs.throwError("replacement fee too low",T.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),a.match(/execution failed due to an exception|execution reverted/)&&Qs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",T.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}var nu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;return(0,v.Z)(this,r),i=t.call(this,e),fe((0,f.Z)(i),"baseUrl",i.getBaseUrl()),fe((0,f.Z)(i),"apiKey",n||null),i}return(0,y.Z)(r,[{key:"getBaseUrl",value:function(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Qs.throwArgumentError("unsupported network","network",this.network.name)}},{key:"getUrl",value:function(e,t){var r=Object.keys(t).reduce((function(e,r){var n=t[r];return null!=n&&(e+="&".concat(r,"=").concat(n)),e}),""),n=this.apiKey?"&apikey=".concat(this.apiKey):"";return"".concat(this.baseUrl,"/api?module=").concat(e).concat(r).concat(n)}},{key:"getPostUrl",value:function(){return"".concat(this.baseUrl,"/api")}},{key:"getPostData",value:function(e,t){return t.module=e,t.apikey=this.apiKey,t}},{key:"fetch",value:function(e,t,r){return Ys(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a,o,s,u,c,f=this;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null,o="proxy"===e?eu:$s,this.emit("debug",{action:"request",request:i,provider:this}),s={url:i,throttleSlotInterval:1e3,throttleCallback:function(e,t){return f.isCommunityResource()&&Ho(),Promise.resolve(!0)}},u=null,a&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},u=Object.keys(a).map((function(e){return"".concat(e,"=").concat(a[e])})).join("&")),n.next=9,Ro(s,u,o||eu);case 9:return c=n.sent,this.emit("debug",{action:"response",request:i,response:ge(c),provider:this}),n.abrupt("return",c);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"detectNetwork",value:function(){return Ys(this,void 0,void 0,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.network);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"perform",value:function(e,t){var n=this,i=Object.create(null,{perform:{get:function(){return(0,l.Z)((0,h.Z)(r.prototype),"perform",n)}}});return Ys(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,a,o,s,u,c,f,l,h;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e,r.next="getBlockNumber"===r.t0?3:"getGasPrice"===r.t0?4:"getBalance"===r.t0?5:"getTransactionCount"===r.t0?6:"getCode"===r.t0?7:"getStorageAt"===r.t0?8:"sendTransaction"===r.t0?9:"getBlock"===r.t0?10:"getTransaction"===r.t0?13:"getTransactionReceipt"===r.t0?14:"call"===r.t0?15:"estimateGas"===r.t0?29:"getLogs"===r.t0?41:"getEtherPrice"===r.t0?65:72;break;case 3:return r.abrupt("return",this.fetch("proxy",{action:"eth_blockNumber"}));case 4:return r.abrupt("return",this.fetch("proxy",{action:"eth_gasPrice"}));case 5:return r.abrupt("return",this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag}));case 6:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag}));case 7:return r.abrupt("return",this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag}));case 8:return r.abrupt("return",this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag}));case 9:return r.abrupt("return",this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((function(e){return ru("sendTransaction",e,t.signedTransaction)})));case 10:if(!t.blockTag){r.next=12;break}return r.abrupt("return",this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"}));case 12:throw new Error("getBlock by blockHash not implemented");case 13:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash}));case 14:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash}));case 15:if("latest"===t.blockTag){r.next=17;break}throw new Error("EtherscanProvider does not support blockTag for call");case 17:return(n=Xs(t.transaction)).module="proxy",n.action="eth_call",r.prev=20,r.next=23,this.fetch("proxy",n,!0);case 23:return r.abrupt("return",r.sent);case 26:return r.prev=26,r.t1=r.catch(20),r.abrupt("return",ru("call",r.t1,t.transaction));case 29:return(a=Xs(t.transaction)).module="proxy",a.action="eth_estimateGas",r.prev=32,r.next=35,this.fetch("proxy",a,!0);case 35:return r.abrupt("return",r.sent);case 38:return r.prev=38,r.t2=r.catch(32),r.abrupt("return",ru("estimateGas",r.t2,t.transaction));case 41:return o={action:"getLogs"},t.filter.fromBlock&&(o.fromBlock=tu(t.filter.fromBlock)),t.filter.toBlock&&(o.toBlock=tu(t.filter.toBlock)),t.filter.address&&(o.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Qs.throwError("unsupported topic count",T.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length&&("string"===typeof(s=t.filter.topics[0])&&66===s.length||Qs.throwError("unsupported topic format",T.errors.UNSUPPORTED_OPERATION,{topic0:s}),o.topic0=s)),r.next=48,this.fetch("logs",o);case 48:u=r.sent,c={},f=0;case 51:if(!(f<u.length)){r.next=64;break}if(null==(l=u[f]).blockHash){r.next=55;break}return r.abrupt("continue",61);case 55:if(null!=c[l.blockNumber]){r.next=60;break}return r.next=58,this.getBlock(l.blockNumber);case 58:(h=r.sent)&&(c[l.blockNumber]=h.hash);case 60:l.blockHash=c[l.blockNumber];case 61:f++,r.next=51;break;case 64:return r.abrupt("return",u);case 65:if("homestead"===this.network.name){r.next=67;break}return r.abrupt("return",0);case 67:return r.t3=parseFloat,r.next=70,this.fetch("stats",{action:"ethprice"});case 70:return r.t4=r.sent.ethusd,r.abrupt("return",(0,r.t3)(r.t4));case 72:return r.abrupt("break",73);case 73:return r.abrupt("return",i.perform.call(this,e,t));case 74:case"end":return r.stop()}}),r,this,[[20,26],[32,38]])})))}},{key:"getHistory",value:function(e,t,r){return Ys(this,void 0,void 0,(0,m.Z)().mark((function n(){var i,a,o=this;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resolveName(e);case 2:return n.t0=n.sent,n.t1=null==t?0:t,n.t2=null==r?99999999:r,i={action:"txlist",address:n.t0,startblock:n.t1,endblock:n.t2,sort:"asc"},n.next=8,this.fetch("account",i);case 8:return a=n.sent,n.abrupt("return",a.map((function(e){["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);var t=o.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"isCommunityResource",value:function(){return null==this.apiKey}}]),r}(ps);function iu(e){for(var t=(e=e.slice()).length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}var au=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},ou=new T(Lo);function su(){return(new Date).getTime()}function uu(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||ou.throwArgumentError("provider mismatch","networks",e):t=n}return t}function cu(e,t){e=e.slice().sort();var r=Math.floor(e.length/2);if(e.length%2)return e[r];var n=e[r-1],i=e[r];return null!=t&&Math.abs(n-i)>t?null:(n+i)/2}function fu(e){if(null===e)return"null";if("number"===typeof e||"boolean"===typeof e)return JSON.stringify(e);if("string"===typeof e)return e;if(ne.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((function(e){return fu(e)})));if("object"===typeof e){var t=Object.keys(e);return t.sort(),"{"+t.map((function(t){var r=e[t];return r="function"===typeof r?"[function]":fu(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}var lu=1;function hu(e){var t=null,r=null,n=new Promise((function(n){t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:function(e){return n=n.then(e)}}}var du=[T.errors.CALL_EXCEPTION,T.errors.INSUFFICIENT_FUNDS,T.errors.NONCE_EXPIRED,T.errors.REPLACEMENT_UNDERPRICED,T.errors.UNPREDICTABLE_GAS_LIMIT],pu=["address","args","errorArgs","errorSignature","method","transaction"];function vu(e,t){var r={weight:e.weight};return Object.defineProperty(r,"provider",{get:function(){return e.provider}}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function yu(e,t,r){var n=fu;switch(t){case"getBlockNumber":return function(t){var r=t.map((function(e){return e.result})),n=cu(t.map((function(e){return e.result})),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){var t=e.map((function(e){return e.result}));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return cu(e.map((function(e){return e.result})))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=pe(e)).confirmations=-1,fu(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=pe(e)).transactions=e.transactions.map((function(e){return(e=pe(e)).confirmations=-1,e})),fu(e))}:function(e){return null==e?null:fu(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){var n={};r.forEach((function(t){var r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));for(var i=Object.keys(n),a=0;a<i.length;a++){var o=n[i[a]];if(o.count>=t)return o.result}}}(n,e.quorum)}function mu(e,t){return au(this,void 0,void 0,(0,m.Z)().mark((function r(){var n;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null!=(n=e.provider).blockNumber&&n.blockNumber>=t||-1===t)){r.next=3;break}return r.abrupt("return",n);case 3:return r.abrupt("return",Bo((function(){return new Promise((function(r,i){setTimeout((function(){return n.blockNumber>=t?r(n):e.cancelled?r(null):r(void 0)}),0)}))}),{oncePoll:n}));case 4:case"end":return r.stop()}}),r)})))}function gu(e,t,r,n){return au(this,void 0,void 0,(0,m.Z)().mark((function i(){var a,o;return(0,m.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=e.provider,i.t0=r,i.next="getBlockNumber"===i.t0||"getGasPrice"===i.t0?4:"getEtherPrice"===i.t0?5:"getBalance"===i.t0||"getTransactionCount"===i.t0||"getCode"===i.t0?8:"getStorageAt"===i.t0?13:"getBlock"===i.t0?18:"call"===i.t0||"estimateGas"===i.t0?23:"getTransaction"===i.t0||"getTransactionReceipt"===i.t0?30:"getLogs"===i.t0?31:37;break;case 4:return i.abrupt("return",a[r]());case 5:if(!a.getEtherPrice){i.next=7;break}return i.abrupt("return",a.getEtherPrice());case 7:return i.abrupt("break",37);case 8:if(!n.blockTag||!L(n.blockTag)){i.next=12;break}return i.next=11,mu(e,t);case 11:a=i.sent;case 12:return i.abrupt("return",a[r](n.address,n.blockTag||"latest"));case 13:if(!n.blockTag||!L(n.blockTag)){i.next=17;break}return i.next=16,mu(e,t);case 16:a=i.sent;case 17:return i.abrupt("return",a.getStorageAt(n.address,n.position,n.blockTag||"latest"));case 18:if(!n.blockTag||!L(n.blockTag)){i.next=22;break}return i.next=21,mu(e,t);case 21:a=i.sent;case 22:return i.abrupt("return",a[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash));case 23:if(!n.blockTag||!L(n.blockTag)){i.next=27;break}return i.next=26,mu(e,t);case 26:a=i.sent;case 27:if("call"!==r||!n.blockTag){i.next=29;break}return i.abrupt("return",a[r](n.transaction,n.blockTag));case 29:return i.abrupt("return",a[r](n.transaction));case 30:return i.abrupt("return",a[r](n.transactionHash));case 31:if(!((o=n.filter).fromBlock&&L(o.fromBlock)||o.toBlock&&L(o.toBlock))){i.next=36;break}return i.next=35,mu(e,t);case 35:a=i.sent;case 36:return i.abrupt("return",a.getLogs(o));case 37:return i.abrupt("return",ou.throwError("unknown method error",T.errors.UNKNOWN_ERROR,{method:r,params:n}));case 38:case"end":return i.stop()}}),i)})))}var bu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,v.Z)(this,r),0===e.length&&ou.throwArgumentError("missing providers","providers",e);var a=e.map((function(e,t){if(yr.isProvider(e)){var r=Zo(e)?2e3:750;return Object.freeze({provider:e,weight:1,stallTimeout:r,priority:1})}var n=pe(e);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=Zo(e)?2e3:750),null==n.weight&&(n.weight=1);var i=n.weight;return(i%1||i>512||i<1)&&ou.throwArgumentError("invalid weight; must be integer in [1, 512]","providers[".concat(t,"].weight"),i),Object.freeze(n)})),o=a.reduce((function(e,t){return e+t.weight}),0);null==n?n=o/2:n>o&&ou.throwArgumentError("quorum will always fail; larger than total weight","quorum",n);var s=uu(a.map((function(e){return e.provider.network})));return null==s&&(s=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then(e,t)}),0)}))),i=t.call(this,s),fe((0,f.Z)(i),"providerConfigs",Object.freeze(a)),fe((0,f.Z)(i),"quorum",n),i._highestBlockNumber=-1,i}return(0,y.Z)(r,[{key:"detectNetwork",value:function(){return au(this,void 0,void 0,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.providerConfigs.map((function(e){return e.provider.getNetwork()})));case 2:return t=e.sent,e.abrupt("return",uu(t));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"perform",value:function(e,t){return au(this,void 0,void 0,(0,m.Z)().mark((function r(){var n,i,a,o,s,u,c,f,l,h,d=this;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("sendTransaction"!==e){r.next=13;break}return r.next=3,Promise.all(this.providerConfigs.map((function(e){return e.provider.sendTransaction(t.signedTransaction).then((function(e){return e.hash}),(function(e){return e}))})));case 3:n=r.sent,i=0;case 5:if(!(i<n.length)){r.next=12;break}if("string"!==typeof(a=n[i])){r.next=9;break}return r.abrupt("return",a);case 9:i++,r.next=5;break;case 12:throw n[0];case 13:if(-1!==this._highestBlockNumber||"getBlockNumber"===e){r.next=16;break}return r.next=16,this.getBlockNumber();case 16:o=yu(this,e,t),(s=iu(this.providerConfigs.map(pe))).sort((function(e,t){return e.priority-t.priority})),u=this._highestBlockNumber,c=0,f=!0,l=(0,m.Z)().mark((function r(){var n,i,a,l,h,p,v;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=su(),i=s.filter((function(e){return e.runner&&n-e.start<e.stallTimeout})).reduce((function(e,t){return e+t.weight}),0),a=(0,m.Z)().mark((function r(){var n,a;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=s[c++],a=lu++,n.start=su(),n.staller=hu(n.stallTimeout),n.staller.wait((function(){n.staller=null})),n.runner=gu(n,u,e,t).then((function(r){n.done=!0,n.result=r,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:a,backend:vu(n,su()),request:{method:e,params:ge(t)},provider:d})}),(function(r){n.done=!0,n.error=r,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:a,backend:vu(n,su()),request:{method:e,params:ge(t)},provider:d})})),d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:a,backend:vu(n,null),request:{method:e,params:ge(t)},provider:d}),i+=n.weight;case 8:case"end":return r.stop()}}),r)}));case 3:if(!(i<d.quorum&&c<s.length)){r.next=7;break}return r.delegateYield(a(),"t0",5);case 5:r.next=3;break;case 7:if(l=[],s.forEach((function(e){!e.done&&e.runner&&(l.push(e.runner),e.staller&&l.push(e.staller.getPromise()))})),!l.length){r.next=12;break}return r.next=12,Promise.race(l);case 12:if(!((h=s.filter((function(e){return e.done&&null==e.error}))).length>=d.quorum)){r.next=22;break}if(void 0===(p=o(h))){r.next=18;break}return s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0})),r.abrupt("return",{v:p});case 18:if(f){r.next=21;break}return r.next=21,hu(100).getPromise();case 21:f=!1;case 22:if(v=s.reduce((function(e,t){if(!t.done||null==t.error)return e;var r=t.error.code;return du.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{}),Object.keys(v).forEach((function(e){var t=v[e];if(!(t.weight<d.quorum)){s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0}));var r=t.error,n={};pu.forEach((function(e){null!=r[e]&&(n[e]=r[e])})),ou.throwError(r.reason||r.message,e,n)}})),0!==s.filter((function(e){return!e.done})).length){r.next=26;break}return r.abrupt("return","break");case 26:case"end":return r.stop()}}),r)}));case 23:return r.delegateYield(l(),"t0",25);case 25:if("break"!==(h=r.t0)){r.next=28;break}return r.abrupt("break",32);case 28:if("object"!==typeof h){r.next=30;break}return r.abrupt("return",h.v);case 30:r.next=23;break;case 32:return s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0})),r.abrupt("return",ou.throwError("failed to meet quorum",T.errors.SERVER_ERROR,{method:e,params:t,results:s.map((function(e){return vu(e)})),provider:this}));case 34:case"end":return r.stop()}}),r,this)})))}}]),r}(ps),wu=null,ku=new T(Lo),_u="84842078b09946638c03157f83405213",xu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,v.Z)(this,r);var a=new Au(e,n),o=a.connection;o.password&&ku.throwError("INFURA WebSocket project secrets unsupported",T.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});var s=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");return i=t.call(this,s,e),fe((0,f.Z)(i),"apiKey",a.projectId),fe((0,f.Z)(i),"projectId",a.projectId),fe((0,f.Z)(i),"projectSecret",a.projectSecret),i}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.projectId===_u}}]),r}(Rs),Au=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.projectId===_u}}],[{key:"getWebSocketProvider",value:function(e,t){return new xu(e,t)}},{key:"getApiKey",value:function(e){var t={apiKey:_u,projectId:_u,projectSecret:null};return null==e||("string"===typeof e?t.projectId=e:null!=e.projectSecret?(ku.assertArgument("string"===typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),ku.assertArgument("string"===typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}},{key:"getUrl",value:function(e,t){var r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:ku.throwError("unsupported network",T.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:function(e,r){return t.projectId===_u&&Ho(),Promise.resolve(!0)}};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}}]),r}(Ls),Eu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"send",value:function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);var i={request:n,resolve:null,reject:null},a=new Promise((function(e,t){i.resolve=e,i.reject=t}));return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((function(){var e=r._pendingBatch;r._pendingBatch=null,r._pendingBatchAggregator=null;var t=e.map((function(e){return e.request}));return r.emit("debug",{action:"requestBatch",request:ge(t),provider:r}),Ro(r.connection,JSON.stringify(t)).then((function(n){r.emit("debug",{action:"response",request:t,response:n,provider:r}),e.forEach((function(e,t){var r=n[t];if(r.error){var i=new Error(r.error.message);i.code=r.error.code,i.data=r.error.data,e.reject(i)}else e.resolve(r.result)}))}),(function(n){r.emit("debug",{action:"response",error:n,request:t,provider:r}),e.forEach((function(e){e.reject(n)}))}))}),10)),a}}]),r}(Ms),Su=new T(Lo),Tu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,null,[{key:"getApiKey",value:function(e){return e&&"string"!==typeof e&&Su.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}},{key:"getUrl",value:function(e,t){Su.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");var r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Su.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}]),r}(Ls),Mu=new T(Lo),Pu="62e1ad51b37b8e00394bda3b",Iu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,v.Z)(this,r),t.apply(this,arguments)}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.applicationId===Pu}}],[{key:"getApiKey",value:function(e){var t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=Pu:"string"===typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:Mu.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}},{key:"getUrl",value:function(e,t){var r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:Mu.throwError("unsupported network",T.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={headers:{},url:"https://".concat(r,"/v1/lb/").concat(t.applicationId)};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}}]),r}(Ls),Nu=new T(Lo),Cu=1;function Ou(e,t){var r="Web3LegacyFetcher";return function(e,n){var i=this,a={method:e,params:n,id:Cu++,jsonrpc:"2.0"};return new Promise((function(e,n){i.emit("debug",{action:"request",fetcher:r,request:ge(a),provider:i}),t(a,(function(t,o){if(t)return i.emit("debug",{action:"response",fetcher:r,error:t,request:a,provider:i}),n(t);if(i.emit("debug",{action:"response",fetcher:r,request:a,response:o,provider:i}),o.error){var s=new Error(o.error.message);return s.code=o.error.code,s.data=o.error.data,n(s)}e(o.result)}))}))}}var Ru=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,v.Z)(this,r),null==e&&Nu.throwArgumentError("missing provider","provider",e);var a=null,o=null,s=null;return"function"===typeof e?(a="unknown:",o=e):(!(a=e.host||e.path||"")&&e.isMetaMask&&(a="metamask"),s=e,e.request?(""===a&&(a="eip-1193:"),o=function(e){return function(t,r){var n=this;null==r&&(r=[]);var i={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:ge(i),provider:this}),e.request(i).then((function(e){return n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:e,provider:n}),e}),(function(e){throw n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:e,provider:n}),e}))}}(e)):e.sendAsync?o=Ou(0,e.sendAsync.bind(e)):e.send?o=Ou(0,e.send.bind(e)):Nu.throwArgumentError("unsupported provider","provider",e),a||(a="unknown:")),i=t.call(this,a,n),fe((0,f.Z)(i),"jsonRpcFetchFunc",o),fe((0,f.Z)(i),"provider",s),i}return(0,y.Z)(r,[{key:"send",value:function(e,t){return this.jsonRpcFetchFunc(e,t)}}]),r}(Ms),Bu=new T(Lo);function Uu(e,t){if(null==e&&(e="homestead"),"string"===typeof e){var r=e.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new Ms(e);case"ws":case"wss":return new Rs(e);default:Bu.throwArgumentError("unsupported URL scheme","network",e)}}var n=Ja(e);return n&&n._defaultProvider||Bu.throwError("unsupported getDefaultProvider network",T.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:bu,AlchemyProvider:Zs,AnkrProvider:Gs,CloudflareProvider:Ws,EtherscanProvider:nu,InfuraProvider:Au,JsonRpcProvider:Ms,NodesmithProvider:Tu,PocketProvider:Iu,Web3Provider:Ru,IpcProvider:wu},t)}var Fu=new RegExp("^bytes([0-9]+)$"),Lu=new RegExp("^(u?int)([0-9]*)$"),ju=new RegExp("^(.*)\\[([0-9]*)\\]$"),Du="0000000000000000000000000000000000000000000000000000000000000000",Ku=new T("solidity/5.7.0");function Zu(e,t,r){switch(e){case"address":return r?F(t,32):R(t);case"string":return rt(t);case"bytes":return R(t);case"bool":return t=t?"0x01":"0x00",r?F(t,32):R(t)}var n=e.match(Lu);if(n){var i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||0===i||i>256)&&Ku.throwArgumentError("invalid number type","type",e),r&&(i=256),F(t=ne.from(t).toTwos(i),i/8)}if(n=e.match(Fu)){var a=parseInt(n[1]);return(String(a)!==n[1]||0===a||a>32)&&Ku.throwArgumentError("invalid bytes type","type",e),R(t).byteLength!==a&&Ku.throwArgumentError("invalid value for ".concat(e),"value",t),r?R((t+Du).substring(0,66)):t}if((n=e.match(ju))&&Array.isArray(t)){var o=n[1];parseInt(n[2]||String(t.length))!=t.length&&Ku.throwArgumentError("invalid array length for ".concat(e),"value",t);var s=[];return t.forEach((function(e){s.push(Zu(o,e,!0))})),B(s)}return Ku.throwArgumentError("invalid type","type",e)}function qu(e,t){e.length!=t.length&&Ku.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);var r=[];return e.forEach((function(e,n){r.push(Zu(e,t[n]))})),D(B(r))}function Hu(e,t){return Me(qu(e,t))}function zu(e,t){return Ni(qu(e,t))}function Gu(e,t){t||(t=function(e){return[parseInt(e,16)]});var r=0,n={};return e.split(",").forEach((function(e){var i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])})),n}function Vu(e){var t=0;return e.split(",").map((function(e){var r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}}))}function Ju(e,t){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(e>=(r+=i.l)&&e<=r+i.h&&(e-r)%(i.d||1)===0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}var Wu=Vu("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Yu="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((function(e){return parseInt(e,16)})),Qu=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Xu=Gu("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),$u=Gu("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),ec=Gu("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!==0)throw new Error("bad data");for(var t=[],r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),tc=Vu("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function rc(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();var t,r=st(e);t=r.map((function(e){if(Yu.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];var t=function(e){var t=Ju(e,Qu);if(t)return[e+t.s];var r=Xu[e];if(r)return r;var n=$u[e];return n?[e+n[0]]:ec[e]||null}(e);return t||[e]})),r=t.reduce((function(e,t){return t.forEach((function(t){e.push(t)})),e}),[]),(r=st(at(r),Ye.NFKC)).forEach((function(e){if(Ju(e,tc))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),r.forEach((function(e){if(Ju(e,Wu))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));var n=at(r);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");return n}function nc(e){var t=rt(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return D(B([t,ja]).slice(0,32))}function ic(e){var t=R(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");for(var r=31;0===t[r-1];)r--;return ot(t.slice(0,r))}var ac=new T("units/5.7.0"),oc=["wei","kwei","mwei","gwei","szabo","finney","ether"];function sc(e){var t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&ac.throwArgumentError("invalid value","value",e);var r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");var i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);for(var a=[];r.length;){if(r.length<=3){a.unshift(r);break}var o=r.length-3;a.unshift(r.substring(o)),r=r.substring(0,o)}return n+a.join(",")+i}function uc(e,t){if("string"===typeof t){var r=oc.indexOf(t);-1!==r&&(t=3*r)}return ti(e,null!=t?t:18)}function cc(e,t){if("string"!==typeof e&&ac.throwArgumentError("value must be a string","value",e),"string"===typeof t){var r=oc.indexOf(t);-1!==r&&(t=3*r)}return ri(e,null!=t?t:18)}function fc(e){return uc(e,18)}function lc(e){return cc(e,18)}var hc="ethers/5.7.2",dc=new T(hc);try{var pc=window;null==pc._ethers&&(pc._ethers=u)}catch(vc){}},27898:function(e,t,r){var n,i=r(1426);!function(){"use strict";var a="input is invalid type",o="object"===typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var u=!o&&"object"===typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"===typeof i&&i.versions&&i.versions.node?s=r.g:u&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&e.exports,f=r.amdO,l=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,h="0123456789abcdef".split(""),d=[4,1024,262144,67108864],p=[0,8,16,24],v=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],m=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var w=function(e,t,r){return function(n){return new B(e,t,e).update(n)[r]()}},k=function(e,t,r){return function(n,i){return new B(e,t,i).update(n)[r]()}},_=function(e,t,r){return function(t,n,i,a){return T["cshake"+e].update(t,n,i,a)[r]()}},x=function(e,t,r){return function(t,n,i,a){return T["kmac"+e].update(t,n,i,a)[r]()}},A=function(e,t,r,n){for(var i=0;i<g.length;++i){var a=g[i];e[a]=t(r,n,a)}return e},E=function(e,t){var r=w(e,t,"hex");return r.create=function(){return new B(e,t,e)},r.update=function(e){return r.create().update(e)},A(r,w,e,t)},S=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:E},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:E},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var r=k(e,t,"hex");return r.create=function(r){return new B(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},A(r,k,e,t)}},{name:"cshake",padding:d,bits:m,createMethod:function(e,t){var r=b[e],n=_(e,0,"hex");return n.create=function(n,i,a){return i||a?new B(e,t,n).bytepad([i,a],r):T["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},A(n,_,e,t)}},{name:"kmac",padding:d,bits:m,createMethod:function(e,t){var r=b[e],n=x(e,0,"hex");return n.create=function(n,i,a){return new U(e,t,i).bytepad(["KMAC",a],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},A(n,x,e,t)}}],T={},M=[],P=0;P<S.length;++P)for(var I=S[P],N=I.bits,C=0;C<N.length;++C){var O=I.name+"_"+N[C];if(M.push(O),T[O]=I.createMethod(N[C],I.padding),"sha3"!==I.name){var R=I.name+N[C];M.push(R),T[R]=T[O]}}function B(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function U(e,t,r){B.call(this,e,t,r)}B.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(a);if(null===e)throw new Error(a);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(a);t=!0}for(var n,i,o=this.blocks,s=this.byteCount,u=e.length,c=this.blockCount,f=0,h=this.s;f<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<c+1;++n)o[n]=0;if(t)for(n=this.start;f<u&&n<s;++f)o[n>>2]|=e[f]<<p[3&n++];else for(n=this.start;f<u&&n<s;++f)(i=e.charCodeAt(f))<128?o[n>>2]|=i<<p[3&n++]:i<2048?(o[n>>2]|=(192|i>>6)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]):i<55296||i>=57344?(o[n>>2]|=(224|i>>12)<<p[3&n++],o[n>>2]|=(128|i>>6&63)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++f)),o[n>>2]|=(240|i>>18)<<p[3&n++],o[n>>2]|=(128|i>>12&63)<<p[3&n++],o[n>>2]|=(128|i>>6&63)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=s){for(this.start=n-s,this.block=o[c],n=0;n<c;++n)h[n]^=o[n];F(h),this.reset=!0}else this.start=n}return this},B.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},B.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(a);if(null===e)throw new Error(a);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(a);t=!0}var n=0,i=e.length;if(t)n=i;else for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);s<128?n+=1:s<2048?n+=2:s<55296||s>=57344?n+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},B.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,a=[];return a.length=i,this.update(a),this},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];F(n)}},B.prototype.toString=B.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s="";o<n;){for(a=0;a<t&&o<n;++a,++o)e=r[a],s+=h[e>>4&15]+h[15&e]+h[e>>12&15]+h[e>>8&15]+h[e>>20&15]+h[e>>16&15]+h[e>>28&15]+h[e>>24&15];o%t===0&&(F(r),a=0)}return i&&(e=r[a],s+=h[e>>4&15]+h[15&e],i>1&&(s+=h[e>>12&15]+h[e>>8&15]),i>2&&(s+=h[e>>20&15]+h[e>>16&15])),s},B.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(e);o<n;){for(a=0;a<t&&o<n;++a,++o)u[o]=r[a];o%t===0&&F(r)}return i&&(u[a]=r[a],e=e.slice(0,s)),e},B.prototype.buffer=B.prototype.arrayBuffer,B.prototype.digest=B.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,a=this.extraBytes,o=0,s=0,u=[];s<i;){for(o=0;o<r&&s<i;++o,++s)e=s<<2,t=n[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%r===0&&F(n)}return a&&(e=s<<2,t=n[o],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},U.prototype=new B,U.prototype.finalize=function(){return this.encode(this.outputBits,!0),B.prototype.finalize.call(this)};var F=function(e){var t,r,n,i,a,o,s,u,c,f,l,h,d,p,y,m,g,b,w,k,_,x,A,E,S,T,M,P,I,N,C,O,R,B,U,F,L,j,D,K,Z,q,H,z,G,V,J,W,Y,Q,X,$,ee,te,re,ne,ie,ae,oe,se,ue,ce,fe;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|s>>>31),r=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|c>>>31),r=a^(c<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(f<<1|l>>>31),r=s^(l<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(h<<1|d>>>31),r=c^(d<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|a>>>31),r=l^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],y=e[1],V=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,P=e[20]<<3|e[21]>>>29,I=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,U=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,W=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,C=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,F=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,O=e[45]<<29|e[44]>>>3,R=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,j=e[26]<<25|e[27]>>>7,D=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,G=e[9]<<27|e[8]>>>5,T=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,K=e[38]<<8|e[39]>>>24,Z=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,A=e[49]<<14|e[48]>>>18,e[0]=p^~m&b,e[1]=y^~g&w,e[10]=E^~T&P,e[11]=S^~M&I,e[20]=B^~F&j,e[21]=U^~L&D,e[30]=z^~V&W,e[31]=G^~J&Y,e[40]=te^~ne&ae,e[41]=re^~ie&oe,e[2]=m^~b&k,e[3]=g^~w&_,e[12]=T^~P&N,e[13]=M^~I&C,e[22]=F^~j&K,e[23]=L^~D&Z,e[32]=V^~W&Q,e[33]=J^~Y&X,e[42]=ne^~ae&se,e[43]=ie^~oe&ue,e[4]=b^~k&x,e[5]=w^~_&A,e[14]=P^~N&O,e[15]=I^~C&R,e[24]=j^~K&q,e[25]=D^~Z&H,e[34]=W^~Q&$,e[35]=Y^~X&ee,e[44]=ae^~se&ce,e[45]=oe^~ue&fe,e[6]=k^~x&p,e[7]=_^~A&y,e[16]=N^~O&E,e[17]=C^~R&S,e[26]=K^~q&B,e[27]=Z^~H&U,e[36]=Q^~$&z,e[37]=X^~ee&G,e[46]=se^~ce&te,e[47]=ue^~fe&re,e[8]=x^~p&m,e[9]=A^~y&g,e[18]=O^~E&T,e[19]=R^~S&M,e[28]=q^~B&F,e[29]=H^~U&L,e[38]=$^~z&V,e[39]=ee^~G&J,e[48]=ce^~te&ne,e[49]=fe^~re&ie,e[0]^=v[n],e[1]^=v[n+1]};if(c)e.exports=T;else{for(P=0;P<M.length;++P)s[M[P]]=T[M[P]];f&&(void 0===(n=function(){return T}.call(t,r,t,e))||(e.exports=n))}}()},77598:function(e){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function r(e){return"function"===typeof e}function n(e){return t(e)?"array":typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return null!=e&&"object"===typeof e&&t in e}function o(e,t){return null!=e&&"object"!==typeof e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var s=RegExp.prototype.test;function u(e,t){return s.call(e,t)}var c=/\S/;function f(e){return!u(c,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function h(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))}var d=/\s*/,p=/\s+/,v=/\s*=/,y=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function g(e,r){if(!e)return[];var n,a,o,s=!1,u=[],c=[],l=[],h=!1,g=!1,_="",x=0;function E(){if(h&&!g)for(;l.length;)delete c[l.pop()];else l=[];h=!1,g=!1}function S(e){if("string"===typeof e&&(e=e.split(p,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(i(e[0])+"\\s*"),a=new RegExp("\\s*"+i(e[1])),o=new RegExp("\\s*"+i("}"+e[1]))}S(r||A.tags);for(var T,M,P,I,N,C,O=new k(e);!O.eos();){if(T=O.pos,P=O.scanUntil(n))for(var R=0,B=P.length;R<B;++R)f(I=P.charAt(R))?(l.push(c.length),_+=I):(g=!0,s=!0,_+=" "),c.push(["text",I,T,T+1]),T+=1,"\n"===I&&(E(),_="",x=0,s=!1);if(!O.scan(n))break;if(h=!0,M=O.scan(m)||"name",O.scan(d),"="===M?(P=O.scanUntil(v),O.scan(v),O.scanUntil(a)):"{"===M?(P=O.scanUntil(o),O.scan(y),O.scanUntil(a),M="&"):P=O.scanUntil(a),!O.scan(a))throw new Error("Unclosed tag at "+O.pos);if(N=">"==M?[M,P,T,O.pos,_,x,s]:[M,P,T,O.pos],x++,c.push(N),"#"===M||"^"===M)u.push(N);else if("/"===M){if(!(C=u.pop()))throw new Error('Unopened section "'+P+'" at '+T);if(C[1]!==P)throw new Error('Unclosed section "'+C[1]+'" at '+T)}else"name"===M||"{"===M||"&"===M?g=!0:"="===M&&S(P)}if(E(),C=u.pop())throw new Error('Unclosed section "'+C[1]+'" at '+O.pos);return w(b(c))}function b(e){for(var t,r,n=[],i=0,a=e.length;i<a;++i)(t=e[i])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(n.push(t),r=t));return n}function w(e){for(var t,r=[],n=r,i=[],a=0,o=e.length;a<o;++a)switch((t=e[a])[0]){case"#":case"^":n.push(t),i.push(t),n=t[4]=[];break;case"/":i.pop()[5]=t[2],n=i.length>0?i[i.length-1][4]:r;break;default:n.push(t)}return r}function k(e){this.string=e,this.tail=e,this.pos=0}function _(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function x(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}k.prototype.eos=function(){return""===this.tail},k.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},k.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},_.prototype.push=function(e){return new _(e,this)},_.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var i,s,u,c=this,f=!1;c;){if(e.indexOf(".")>0)for(i=c.view,s=e.split("."),u=0;null!=i&&u<s.length;)u===s.length-1&&(f=a(i,s[u])||o(i,s[u])),i=i[s[u++]];else i=c.view[e],f=a(c.view,e);if(f){t=i;break}c=c.parent}n[e]=t}return r(t)&&(t=t.call(this.view)),t},x.prototype.clearCache=function(){"undefined"!==typeof this.templateCache&&this.templateCache.clear()},x.prototype.parse=function(e,t){var r=this.templateCache,n=e+":"+(t||A.tags).join(":"),i="undefined"!==typeof r,a=i?r.get(n):void 0;return void 0==a&&(a=g(e,t),i&&r.set(n,a)),a},x.prototype.render=function(e,t,r,n){var i=this.getConfigTags(n),a=this.parse(e,i),o=t instanceof _?t:new _(t,void 0);return this.renderTokens(a,o,r,e,n)},x.prototype.renderTokens=function(e,t,r,n,i){for(var a,o,s,u="",c=0,f=e.length;c<f;++c)s=void 0,"#"===(o=(a=e[c])[0])?s=this.renderSection(a,t,r,n,i):"^"===o?s=this.renderInverted(a,t,r,n,i):">"===o?s=this.renderPartial(a,t,r,i):"&"===o?s=this.unescapedValue(a,t):"name"===o?s=this.escapedValue(a,t,i):"text"===o&&(s=this.rawValue(a)),void 0!==s&&(u+=s);return u},x.prototype.renderSection=function(e,n,i,a,o){var s=this,u="",c=n.lookup(e[1]);function f(e){return s.render(e,n,i,o)}if(c){if(t(c))for(var l=0,h=c.length;l<h;++l)u+=this.renderTokens(e[4],n.push(c[l]),i,a,o);else if("object"===typeof c||"string"===typeof c||"number"===typeof c)u+=this.renderTokens(e[4],n.push(c),i,a,o);else if(r(c)){if("string"!==typeof a)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(n.view,a.slice(e[3],e[5]),f))&&(u+=c)}else u+=this.renderTokens(e[4],n,i,a,o);return u}},x.prototype.renderInverted=function(e,r,n,i,a){var o=r.lookup(e[1]);if(!o||t(o)&&0===o.length)return this.renderTokens(e[4],r,n,i,a)},x.prototype.indentPartial=function(e,t,r){for(var n=t.replace(/[^ \t]/g,""),i=e.split("\n"),a=0;a<i.length;a++)i[a].length&&(a>0||!r)&&(i[a]=n+i[a]);return i.join("\n")},x.prototype.renderPartial=function(e,t,n,i){if(n){var a=this.getConfigTags(i),o=r(n)?n(e[1]):n[e[1]];if(null!=o){var s=e[6],u=e[5],c=e[4],f=o;0==u&&c&&(f=this.indentPartial(o,c,s));var l=this.parse(f,a);return this.renderTokens(l,t,n,f,i)}}},x.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(null!=r)return r},x.prototype.escapedValue=function(e,t,r){var n=this.getConfigEscape(r)||A.escape,i=t.lookup(e[1]);if(null!=i)return"number"===typeof i&&n===A.escape?String(i):n(i)},x.prototype.rawValue=function(e){return e[1]},x.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"===typeof e?e.tags:void 0},x.prototype.getConfigEscape=function(e){return e&&"object"===typeof e&&!t(e)?e.escape:void 0};var A={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){E.templateCache=e},get templateCache(){return E.templateCache}},E=new x;return A.clearCache=function(){return E.clearCache()},A.parse=function(e,t){return E.parse(e,t)},A.render=function(e,t,r,i){if("string"!==typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(e,t,r,i)},A.escape=h,A.Scanner=k,A.Context=_,A.Writer=x,A}()},5458:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(42122).default,a=r(861).default,o=r(27424).default,s=r(74704).default,u=r(17061).default,c=r(17156).default,f=r(56690).default,l=r(89728).default,h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Account=void 0;var d=h(r(17696)),p=h(r(64031)),v=r(12362),y=r(49170),m=r(79961),g=r(13950),b=r(4024),w=r(41502),k=r(20324),_=h(r(96437));function x(e){return JSON.parse(n.from(e).toString())}function A(e){return n.from(JSON.stringify(e))}var E=function(){function e(t,r){f(this,e),this.accessKeyByPublicKeyCache={},this.connection=t,this.accountId=r}return l(e,[{key:"ready",get:function(){return p.default("Account.ready()")("not needed anymore, always ready"),Promise.resolve()}},{key:"fetchState",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.default("Account.fetchState()")("use `Account.state()` instead");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"state",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"printLogsAndFailures",value:function(e,t){if(!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SOLANA_NETWORK:"devnet"}.NEAR_NO_LOGS){var r,n=s(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;console.log("Receipt".concat(i.receiptIds.length>1?"s":"",": ").concat(i.receiptIds.join(", "))),this.printLogs(e,i.logs,"\t"),i.failure&&console.warn("\tFailure [".concat(e,"]: ").concat(i.failure))}}catch(a){n.e(a)}finally{n.f()}}}},{key:"printLogs",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SOLANA_NETWORK:"devnet"}.NEAR_NO_LOGS){var n,i=s(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;console.log("".concat(r,"Log [").concat(e,"]: ").concat(a))}}catch(o){i.e(o)}finally{i.f()}}}},{key:"signTransaction",value:function(){var e=c(u().mark((function e(t,r){var n,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findAccessKey(t,r);case 2:if(n=e.sent){e.next=5;break}throw new y.TypedError("Can not sign transactions for account ".concat(this.accountId," on network ").concat(this.connection.networkId,", no matching key pair found in ").concat(this.connection.signer,"."),"KeyNotFound");case 5:return i=n.accessKey,e.next=8,this.connection.provider.block({finality:"final"});case 8:return a=e.sent,o=a.header.hash,s=++i.nonce,e.next=13,v.signTransaction(t,s,r,m.baseDecode(o),this.connection.signer,this.accountId,this.connection.networkId);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"signAndSendTransaction",value:function(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this.signAndSendTransactionV1(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):this.signAndSendTransactionV2(arguments.length<=0?void 0:arguments[0])}},{key:"signAndSendTransactionV1",value:function(e,t){return p.default("Account.signAndSendTransaction(receiverId, actions")("use `Account.signAndSendTransaction(SignAndSendTransactionOptions)` instead"),this.signAndSendTransactionV2({receiverId:e,actions:t})}},{key:"signAndSendTransactionV2",value:function(){var e=c(u().mark((function e(t){var r,n,i,s,f,l,h,d=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.receiverId,n=t.actions,i=t.returnError,e.next=3,_.default(500,12,1.5,c(u().mark((function e(){var t,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.signTransaction(r,n);case 2:return t=e.sent,i=o(t,2),s=i[0],f=i[1],a=f.transaction.publicKey,e.prev=7,e.next=10,d.connection.provider.sendTransaction(f);case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(7),"InvalidNonce"!==e.t0.type){e.next=19;break}return b.logWarning("Retrying transaction ".concat(r,":").concat(m.baseEncode(s)," with new nonce.")),delete d.accessKeyByPublicKeyCache[a.toString()],e.abrupt("return",null);case 19:if("Expired"!==e.t0.type){e.next=22;break}return b.logWarning("Retrying transaction ".concat(r,":").concat(m.baseEncode(s)," due to expired block hash")),e.abrupt("return",null);case 22:throw e.t0.context=new y.ErrorContext(m.baseEncode(s)),e.t0;case 24:case"end":return e.stop()}}),e,null,[[7,13]])}))));case 3:if(l=e.sent){e.next=6;break}throw new y.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");case 6:if(h=[l.transaction_outcome].concat(a(l.receipts_outcome)).reduce((function(e,t){return t.outcome.logs.length||"object"===typeof t.outcome.status&&"object"===typeof t.outcome.status.Failure?e.concat({receiptIds:t.outcome.receipt_ids,logs:t.outcome.logs,failure:"undefined"!=typeof t.outcome.status.Failure?w.parseRpcError(t.outcome.status.Failure):null}):e}),[]),this.printLogsAndFailures(f.transaction.receiverId,h),i||"object"!==typeof l.status||"object"!==typeof l.status.Failure){e.next=14;break}if(!l.status.Failure.error_message||!l.status.Failure.error_type){e.next=13;break}throw new y.TypedError("Transaction ".concat(l.transaction_outcome.id," failed. ").concat(l.status.Failure.error_message),l.status.Failure.error_type);case 13:throw w.parseResultError(l);case 14:return e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAccessKey",value:function(){var e=c(u().mark((function e(t,r){var n,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if(void 0===(i=this.accessKeyByPublicKeyCache[n.toString()])){e.next=8;break}return e.abrupt("return",{publicKey:n,accessKey:i});case 8:return e.prev=8,e.next=11,this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:n.toString(),finality:"optimistic"});case 11:if(a=e.sent,!this.accessKeyByPublicKeyCache[n.toString()]){e.next=14;break}return e.abrupt("return",{publicKey:n,accessKey:this.accessKeyByPublicKeyCache[n.toString()]});case 14:return this.accessKeyByPublicKeyCache[n.toString()]=a,e.abrupt("return",{publicKey:n,accessKey:a});case 18:if(e.prev=18,e.t0=e.catch(8),"AccessKeyDoesNotExist"!=e.t0.type){e.next=22;break}return e.abrupt("return",null);case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,this,[[8,18]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createAndDeployContract",value:function(){var t=c(u().mark((function t(r,n,i,a){var o,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=v.fullAccessKey(),t.next=3,this.signAndSendTransaction({receiverId:r,actions:[v.createAccount(),v.transfer(a),v.addKey(g.PublicKey.from(n),o),v.deployContract(i)]});case 3:return s=new e(this.connection,r),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r,n,i){return t.apply(this,arguments)}}()},{key:"sendMoney",value:function(){var e=c(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signAndSendTransaction({receiverId:t,actions:[v.transfer(r)]}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createAccount",value:function(){var e=c(u().mark((function e(t,r,n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.fullAccessKey(),e.abrupt("return",this.signAndSendTransaction({receiverId:t,actions:[v.createAccount(),v.transfer(n),v.addKey(g.PublicKey.from(r),i)]}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"deleteAccount",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signAndSendTransaction({receiverId:this.accountId,actions:[v.deleteAccount(t)]}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deployContract",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signAndSendTransaction({receiverId:this.accountId,actions:[v.deployContract(t)]}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"functionCall",value:function(){var e=c(u().mark((function e(){var t=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof(t.length<=0?void 0:t[0])){e.next=4;break}return e.abrupt("return",this.functionCallV1(t.length<=0?void 0:t[0],t.length<=1?void 0:t[1],t.length<=2?void 0:t[2],t.length<=3?void 0:t[3],t.length<=4?void 0:t[4]));case 4:return e.abrupt("return",this.functionCallV2(t.length<=0?void 0:t[0]));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"functionCallV1",value:function(e,t,r,n,i){return p.default("Account.functionCall(contractId, methodName, args, gas, amount)")("use `Account.functionCall(FunctionCallOptions)` instead"),r=r||{},this.validateArgs(r),this.signAndSendTransaction({receiverId:e,actions:[v.functionCall(t,r,n||k.DEFAULT_FUNCTION_CALL_GAS,i)]})}},{key:"functionCallV2",value:function(e){var t=e.contractId,r=e.methodName,n=e.args,i=void 0===n?{}:n,a=e.gas,o=void 0===a?k.DEFAULT_FUNCTION_CALL_GAS:a,s=e.attachedDeposit,u=e.walletMeta,c=e.walletCallbackUrl,f=e.stringify;this.validateArgs(i);var l=void 0===f?v.stringifyJsonOrBytes:f;return this.signAndSendTransaction({receiverId:t,actions:[v.functionCall(r,i,o,s,l)],walletMeta:u,walletCallbackUrl:c})}},{key:"addKey",value:function(){var e=c(u().mark((function e(t,r,n,i){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n=[]),Array.isArray(n)||(n=[n]),a=r?v.functionCallAccessKey(r,n,i):v.fullAccessKey(),e.abrupt("return",this.signAndSendTransaction({receiverId:this.accountId,actions:[v.addKey(g.PublicKey.from(t),a)]}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"deleteKey",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signAndSendTransaction({receiverId:this.accountId,actions:[v.deleteKey(g.PublicKey.from(t))]}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stake",value:function(){var e=c(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signAndSendTransaction({receiverId:this.accountId,actions:[v.stake(r,g.PublicKey.from(t))]}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"validateArgs",value:function(e){if(!(void 0!==e.byteLength&&e.byteLength===e.length)&&(Array.isArray(e)||"object"!==typeof e))throw new b.PositionalArgsError}},{key:"viewFunction",value:function(){var e=c(u().mark((function e(t,r){var i,a,o,s,c,f,l,h,d=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>2&&void 0!==d[2]?d[2]:{},o=(a=d.length>3&&void 0!==d[3]?d[3]:{}).parse,s=void 0===o?x:o,c=a.stringify,f=void 0===c?A:c,this.validateArgs(i),l=f(i).toString("base64"),e.next=6,this.connection.provider.query({request_type:"call_function",account_id:t,method_name:r,args_base64:l,finality:"optimistic"});case 6:return(h=e.sent).logs&&this.printLogs(t,h.logs),e.abrupt("return",h.result&&h.result.length>0&&s(n.from(h.result)));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"viewState",value:function(){var e=c(u().mark((function e(t){var r,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{finality:"optimistic"},e.next=3,this.connection.provider.query(i(i({request_type:"view_state"},r),{},{account_id:this.accountId,prefix_base64:n.from(t).toString("base64")}));case 3:return a=e.sent,o=a.values,e.abrupt("return",o.map((function(e){var t=e.key,r=e.value;return{key:n.from(t,"base64"),value:n.from(r,"base64")}})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccessKeys",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});case 2:if(t=e.sent,!Array.isArray(t)){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",t.keys);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountDetails",value:function(){var e=c(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccessKeys();case 2:return t=e.sent,r=t.filter((function(e){return"FullAccess"!==e.access_key.permission})).map((function(e){var t=e.access_key.permission;return{contractId:t.FunctionCall.receiver_id,amount:t.FunctionCall.allowance,publicKey:e.public_key}})),e.abrupt("return",{authorizedApps:r});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountBalance",value:function(){var e=c(u().mark((function e(){var t,r,n,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.provider.experimental_protocolConfig({finality:"final"});case 2:return t=e.sent,e.next=5,this.state();case 5:return r=e.sent,n=new d.default(t.runtime_config.storage_amount_per_byte),i=new d.default(r.storage_usage).mul(n),a=new d.default(r.locked),o=new d.default(r.amount).add(a),s=o.sub(d.default.max(a,i)),e.abrupt("return",{total:o.toString(),stateStaked:i.toString(),staked:a.toString(),available:s.toString()});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.Account=E},62742:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(61655).default,o=r(26389).default,s=r(89728).default,u=r(56690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.UrlAccountCreator=t.LocalAccountCreator=t.AccountCreator=void 0;var c=r(88833),f=s((function e(){u(this,e)}));t.AccountCreator=f;var l=function(e){a(r,e);var t=o(r);function r(e,n){var i;return u(this,r),(i=t.call(this)).masterAccount=e,i.initialBalance=n,i}return s(r,[{key:"createAccount",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.masterAccount.createAccount(t,r,this.initialBalance);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(f);t.LocalAccountCreator=l;var h=function(e){a(r,e);var t=o(r);function r(e,n){var i;return u(this,r),(i=t.call(this)).connection=e,i.helperUrl=n,i}return s(r,[{key:"createAccount",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.fetchJson("".concat(this.helperUrl,"/account"),JSON.stringify({newAccountId:t,newAccountPublicKey:r.toString()}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(f);t.UrlAccountCreator=h},62198:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(861).default,a=r(74704).default,o=r(42122).default,s=r(17061).default,u=r(17156).default,c=r(56690).default,f=r(89728).default,l=r(41588).default,h=r(73808).default,d=r(61655).default,p=r(26389).default,v=r(38416).default,y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Account2FA=t.AccountMultisig=t.MULTISIG_CONFIRM_METHODS=t.MULTISIG_CHANGE_METHODS=t.MULTISIG_DEPOSIT=t.MULTISIG_GAS=t.MULTISIG_ALLOWANCE=t.MULTISIG_STORAGE_KEY=void 0;var m=y(r(17696)),g=y(r(64031)),b=r(5458),w=r(11708),k=r(13950),_=r(12362),x=r(88833);t.MULTISIG_STORAGE_KEY="__multisigRequest",t.MULTISIG_ALLOWANCE=new m.default(w.parseNearAmount("1")),t.MULTISIG_GAS=new m.default("100000000000000"),t.MULTISIG_DEPOSIT=new m.default("0"),t.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],t.MULTISIG_CONFIRM_METHODS=["confirm"];var A=v({},t.MULTISIG_STORAGE_KEY,null),E=function(e){d(i,e);var r=p(i);function i(e,t,n){var a;return c(this,i),(a=r.call(this,e,t)).storage=n.storage,a.onAddRequestResult=n.onAddRequestResult,a}return f(i,[{key:"signAndSendTransactionWithAccount",value:function(){var e=u(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(h(i.prototype),"signAndSendTransaction",this).call(this,{receiverId:t,actions:r}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"signAndSendTransaction",value:function(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this._signAndSendTransaction({receiverId:arguments.length<=0?void 0:arguments[0],actions:arguments.length<=1?void 0:arguments[1]}):this._signAndSendTransaction(arguments.length<=0?void 0:arguments[0])}},{key:"_signAndSendTransaction",value:function(){var e=u(s().mark((function e(r){var a,u,c,f,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.receiverId,u=r.actions,c=this.accountId,f=n.from(JSON.stringify({request:{receiver_id:a,actions:M(u,c,a)}})),e.prev=3,e.next=6,l(h(i.prototype),"signAndSendTransaction",this).call(this,{receiverId:c,actions:[_.functionCall("add_request_and_confirm",f,t.MULTISIG_GAS,t.MULTISIG_DEPOSIT)]});case 6:d=e.sent,e.next=18;break;case 9:if(e.prev=9,e.t0=e.catch(3),!e.t0.toString().includes("Account has too many active requests. Confirm or delete some")){e.next=17;break}return e.next=14,this.deleteUnconfirmedRequests();case 14:return e.next=16,this.signAndSendTransaction(a,u);case 16:return e.abrupt("return",e.sent);case 17:throw e.t0;case 18:if(d.status){e.next=20;break}throw new Error("Request failed");case 20:if((p=o({},d.status)).SuccessValue&&"string"===typeof p.SuccessValue){e.next=23;break}throw new Error("Request failed");case 23:if(this.setRequest({accountId:c,actions:u,requestId:parseInt(n.from(p.SuccessValue,"base64").toString("ascii"),10)}),!this.onAddRequestResult){e.next=27;break}return e.next=27,this.onAddRequestResult(d);case 27:return this.deleteUnconfirmedRequests(),e.abrupt("return",d);case 29:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUnconfirmedRequests",value:function(){var e=u(s().mark((function e(){var r,n,o,u,c,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRequestIds();case 2:r=e.sent,n=this.getRequest(),o=n.requestId,u=a(r),e.prev=5,u.s();case 7:if((c=u.n()).done){e.next=21;break}if((f=c.value)!=o){e.next=11;break}return e.abrupt("continue",19);case 11:return e.prev=11,e.next=14,l(h(i.prototype),"signAndSendTransaction",this).call(this,{receiverId:this.accountId,actions:[_.functionCall("delete_request",{request_id:f},t.MULTISIG_GAS,t.MULTISIG_DEPOSIT)]});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.");case 19:e.next=7;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(5),u.e(e.t1);case 26:return e.prev=26,u.f(),e.finish(26);case 29:case"end":return e.stop()}}),e,this,[[5,23,26,29],[11,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"getRequestIds",value:function(){var e=u(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.viewFunction(this.accountId,"list_request_ids"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRequest",value:function(){return this.storage?JSON.parse(this.storage.getItem(t.MULTISIG_STORAGE_KEY)||"{}"):A[t.MULTISIG_STORAGE_KEY]}},{key:"setRequest",value:function(e){if(this.storage)return this.storage.setItem(t.MULTISIG_STORAGE_KEY,JSON.stringify(e));A[t.MULTISIG_STORAGE_KEY]=e}}]),i}(b.Account);t.AccountMultisig=E;var S=function(e){d(a,e);var r=p(a);function a(e,t,n){var i;return c(this,a),(i=r.call(this,e,t,n)).helperUrl="https://helper.testnet.near.org",i.helperUrl=n.helperUrl||i.helperUrl,i.storage=n.storage,i.sendCode=n.sendCode||i.sendCodeDefault,i.getCode=n.getCode||i.getCodeDefault,i.verifyCode=n.verifyCode||i.verifyCodeDefault,i.onConfirmResult=n.onConfirmResult,i}return f(a,[{key:"signAndSendTransaction",value:function(){var e=u(s().mark((function e(){var t=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof(t.length<=0?void 0:t[0])){e.next=6;break}return g.default("Account.signAndSendTransaction(receiverId, actions")("use `Account2FA.signAndSendTransaction(SignAndSendTransactionOptions)` instead"),e.abrupt("return",this.__signAndSendTransaction({receiverId:t.length<=0?void 0:t[0],actions:t.length<=1?void 0:t[1]}));case 6:return e.abrupt("return",this.__signAndSendTransaction(t.length<=0?void 0:t[0]));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"__signAndSendTransaction",value:function(){var e=u(s().mark((function e(t){var r,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.receiverId,n=t.actions,e.next=3,l(h(a.prototype),"signAndSendTransaction",this).call(this,{receiverId:r,actions:n});case 3:return e.next=5,this.sendCode();case 5:return e.next=7,this.promptAndVerify();case 7:if(i=e.sent,!this.onConfirmResult){e.next=11;break}return e.next=11,this.onConfirmResult(i);case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deployMultisig",value:function(){var e=u(s().mark((function e(r){var o,u,c,f,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.accountId,e.next=3,this.getRecoveryMethods();case 3:return u=e.sent.data.filter((function(e){var t=e.kind,r=e.publicKey;return("phrase"===t||"ledger"===t)&&null!==r})).map((function(e){return e.publicKey})),e.next=6,this.getAccessKeys();case 6:return c=e.sent.filter((function(e){var t=e.public_key;return"FullAccess"===e.access_key.permission&&!u.includes(t)})).map((function(e){return e.public_key})).map(T),e.t0=T,e.next=10,this.postSignedJson("/2fa/getAccessKey",{accountId:o});case 10:return e.t1=e.sent.publicKey,f=(0,e.t0)(e.t1),d=n.from(JSON.stringify({num_confirmations:2})),p=[].concat(i(c.map((function(e){return _.deleteKey(e)}))),i(c.map((function(e){return _.addKey(e,_.functionCallAccessKey(o,t.MULTISIG_CHANGE_METHODS,null))}))),[_.addKey(f,_.functionCallAccessKey(o,t.MULTISIG_CONFIRM_METHODS,null)),_.deployContract(r)]),e.next=16,this.state();case 16:if(e.t2=e.sent.code_hash,"11111111111111111111111111111111"!==e.t2){e.next=19;break}p.push(_.functionCall("new",d,t.MULTISIG_GAS,t.MULTISIG_DEPOSIT));case 19:return console.log("deploying multisig contract for",o),e.next=22,l(h(a.prototype),"signAndSendTransactionWithAccount",this).call(this,o,p);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disable",value:function(){var e=u(s().mark((function e(t){var r,n,a,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.accountId,e.next=3,this.getAccessKeys();case 3:return n=e.sent,a=n.filter((function(e){return"FullAccess"!==e.access_key.permission})).filter((function(e){var t=e.access_key.permission.FunctionCall;return t.receiver_id===r&&4===t.method_names.length&&t.method_names.includes("add_request_and_confirm")})),e.t0=k.PublicKey,e.next=8,this.postSignedJson("/2fa/getAccessKey",{accountId:r});case 8:return e.t1=e.sent.publicKey,o=e.t0.from.call(e.t0,e.t1),u=[_.deleteKey(o)].concat(i(a.map((function(e){var t=e.public_key;return _.deleteKey(k.PublicKey.from(t))}))),i(a.map((function(e){var t=e.public_key;return _.addKey(k.PublicKey.from(t),null)}))),[_.deployContract(t)]),console.log("disabling 2fa for",r),e.next=14,this.signAndSendTransaction({receiverId:r,actions:u});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendCodeDefault",value:function(){var e=u(s().mark((function e(){var t,r,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.accountId,r=this.getRequest(),n=r.requestId,e.next=4,this.get2faMethod();case 4:return i=e.sent,e.next=7,this.postSignedJson("/2fa/send",{accountId:t,method:i,requestId:n});case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCodeDefault",value:function(){var e=u(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".');case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"promptAndVerify",value:function(){var e=u(s().mark((function e(){var t,r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get2faMethod();case 2:return t=e.sent,e.next=5,this.getCode(t);case 5:return r=e.sent,e.prev=6,e.next=9,this.verifyCode(r);case 9:return n=e.sent,e.abrupt("return",n);case 13:if(e.prev=13,e.t0=e.catch(6),console.warn("Error validating security code:",e.t0),!e.t0.toString().includes("invalid 2fa code provided")&&!e.t0.toString().includes("2fa code not valid")){e.next=20;break}return e.next=19,this.promptAndVerify();case 19:return e.abrupt("return",e.sent);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"verifyCodeDefault",value:function(){var e=u(s().mark((function e(t){var r,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.accountId,n=this.getRequest()){e.next=4;break}throw new Error("no request pending");case 4:return i=n.requestId,e.next=7,this.postSignedJson("/2fa/verify",{accountId:r,securityCode:t,requestId:i});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecoveryMethods",value:function(){var e=u(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.accountId,e.t0=t,e.next=4,this.postSignedJson("/account/recoveryMethods",{accountId:t});case 4:return e.t1=e.sent,e.abrupt("return",{accountId:e.t0,data:e.t1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get2faMethod",value:function(){var e=u(s().mark((function e(){var t,r,n,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRecoveryMethods();case 2:if(t=e.sent,(r=t.data)&&r.length&&(r=r.find((function(e){return 0===e.kind.indexOf("2fa-")}))),r){e.next=7;break}return e.abrupt("return",null);case 7:return i=(n=r).kind,a=n.detail,e.abrupt("return",{kind:i,detail:a});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signatureFor",value:function(){var e=u(s().mark((function e(){var t,r,i,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.accountId,e.next=3,this.connection.provider.block({finality:"final"});case 3:return r=e.sent,i=r.header.height.toString(),e.next=7,this.connection.signer.signMessage(n.from(i),t,this.connection.networkId);case 7:return a=e.sent,o=n.from(a.signature).toString("base64"),e.abrupt("return",{blockNumber:i,blockNumberSignature:o});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"postSignedJson",value:function(){var e=u(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.t1=this.helperUrl+t,e.t2=JSON,e.t3=o,e.t4=o({},r),e.next=7,this.signatureFor();case 7:return e.t5=e.sent,e.t6=(0,e.t3)(e.t4,e.t5),e.t7=e.t2.stringify.call(e.t2,e.t6),e.next=12,e.t0.fetchJson.call(e.t0,e.t1,e.t7);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),a}(E);t.Account2FA=S;var T=function(e){return k.PublicKey.from(e)},M=function(e,r,i){return e.map((function(e){var a,o=e.enum,s=e[o],u=s.gas,c=s.publicKey,f=s.methodName,l=s.args,h=s.deposit,d=s.accessKey,p=s.code,v={type:o[0].toUpperCase()+o.substr(1),gas:u&&u.toString()||void 0,public_key:c&&(a=c,a.toString().replace("ed25519:",""))||void 0,method_name:f,args:l&&n.from(l).toString("base64")||void 0,code:p&&n.from(p).toString("base64")||void 0,amount:h&&h.toString()||void 0,deposit:h&&h.toString()||"0",permission:void 0};if(d&&(i===r&&"fullAccess"!==d.permission.enum&&(v.permission={receiver_id:r,allowance:t.MULTISIG_ALLOWANCE.toString(),method_names:t.MULTISIG_CHANGE_METHODS}),"functionCall"===d.permission.enum)){var y=d.permission.functionCall,m=y.receiverId,g=y.methodNames,b=y.allowance;v.permission={receiver_id:m,allowance:b&&b.toString()||void 0,method_names:g}}return v}))}},13397:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var a=r(56366);function o(){return(o=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.Near(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.connect=function(e){return o.apply(this,arguments)}},58963:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.keyStores=a(r(74871)),o(r(10054),t),o(r(13397),t),r(81890)},10054:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnection=t.WalletAccount=t.ConnectedWalletAccount=t.Near=t.KeyPair=t.Signer=t.InMemorySigner=t.Contract=t.Connection=t.Account=t.multisig=t.validators=t.transactions=t.utils=t.providers=t.accountCreator=void 0;var o=a(r(49170));t.providers=o;var s=a(r(45287));t.utils=s;var u=a(r(12362));t.transactions=u;var c=a(r(71678));t.validators=c;var f=r(5458);Object.defineProperty(t,"Account",{enumerable:!0,get:function(){return f.Account}});var l=a(r(62198));t.multisig=l;var h=a(r(62742));t.accountCreator=h;var d=r(11784);Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return d.Connection}});var p=r(54116);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return p.Signer}}),Object.defineProperty(t,"InMemorySigner",{enumerable:!0,get:function(){return p.InMemorySigner}});var v=r(72496);Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return v.Contract}});var y=r(13950);Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return y.KeyPair}});var m=r(56366);Object.defineProperty(t,"Near",{enumerable:!0,get:function(){return m.Near}});var g=r(10715);Object.defineProperty(t,"ConnectedWalletAccount",{enumerable:!0,get:function(){return g.ConnectedWalletAccount}}),Object.defineProperty(t,"WalletAccount",{enumerable:!0,get:function(){return g.WalletAccount}}),Object.defineProperty(t,"WalletConnection",{enumerable:!0,get:function(){return g.WalletConnection}})},11784:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var o=r(49170),s=r(54116);var u=function(){function e(t,r,i){n(this,e),this.networkId=t,this.provider=r,this.signer=i}return i(e,null,[{key:"fromConfig",value:function(t){var r=function(e){switch(e.type){case void 0:return e;case"JsonRpcProvider":return new o.JsonRpcProvider(a({},e.args));default:throw new Error("Unknown provider type ".concat(e.type))}}(t.provider),n=function(e){switch(e.type){case void 0:return e;case"InMemorySigner":return new s.InMemorySigner(e.keyStore);default:throw new Error("Unknown signer type ".concat(e.type))}}(t.signer);return new e(t.networkId,r,n)}}]),e}();t.Connection=u},20324:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FUNCTION_CALL_GAS=void 0;var i=n(r(17696));t.DEFAULT_FUNCTION_CALL_GAS=new i.default("30000000000000")},72496:function(e,t,r){"use strict";var n=r(42122).default,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(38416).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Contract=void 0;var f=c(r(17696)),l=c(r(64031)),h=r(49170),d=r(4024);function p(e,t){return u({},e,(function(){return t.apply(void 0,arguments)}))[e]}var v=function(e){return e&&void 0!==e.byteLength&&e.byteLength===e.length},y=function(e){return"[object Object]"===Object.prototype.toString.call(e)},m=function(){function e(t,r,s){var u=this;o(this,e),this.account=t,this.contractId=r;var c=s.viewMethods,f=void 0===c?[]:c,h=s.changeMethods,m=void 0===h?[]:h;f.forEach((function(e){Object.defineProperty(u,e,{writable:!1,enumerable:!0,value:p(e,a(i().mark((function t(){var r,n,a=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>0&&void 0!==a[0]?a[0]:{},n=a.length>1&&void 0!==a[1]?a[1]:{},(a.length<=2||!(a.length-2))&&(y(r)||v(r))&&y(n)){t.next=4;break}throw new d.PositionalArgsError;case 4:return t.abrupt("return",u.account.viewFunction(u.contractId,e,r,n));case 5:case"end":return t.stop()}}),t)}))))})})),m.forEach((function(e){Object.defineProperty(u,e,{writable:!1,enumerable:!0,value:p(e,a(i().mark((function t(){var r,a,o,s=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=s.length,a=new Array(r),o=0;o<r;o++)a[o]=s[o];if(!a.length||!(a.length>3||!y(a[0])&&!v(a[0]))){t.next=3;break}throw new d.PositionalArgsError;case 3:if(!(a.length>1)&&a[0]&&a[0].args){t.next=7;break}return l.default("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),t.abrupt("return",u._changeMethod({methodName:e,args:a[0],gas:a[1],amount:a[2]}));case 7:return t.abrupt("return",u._changeMethod(n({methodName:e},a[0])));case 8:case"end":return t.stop()}}),t)}))))})}))}return s(e,[{key:"_changeMethod",value:function(){var e=a(i().mark((function e(t){var r,n,a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.args,n=t.methodName,a=t.gas,o=t.amount,s=t.meta,u=t.callbackUrl,g({gas:a,amount:o}),e.next=4,this.account.functionCall({contractId:this.contractId,methodName:n,args:r,gas:a,attachedDeposit:o,walletMeta:s,walletCallbackUrl:u});case 4:return c=e.sent,e.abrupt("return",h.getTransactionLastResult(c));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function g(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t],i=e[n];if(i&&!f.default.isBN(i)&&isNaN(i))throw new d.ArgumentTypeError(n,"number, decimal string or BN",i)}}t.Contract=m},74871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=t.BrowserLocalStorageKeyStore=t.InMemoryKeyStore=t.KeyStore=void 0;var n=r(54407);Object.defineProperty(t,"KeyStore",{enumerable:!0,get:function(){return n.KeyStore}});var i=r(65488);Object.defineProperty(t,"InMemoryKeyStore",{enumerable:!0,get:function(){return i.InMemoryKeyStore}});var a=r(18286);Object.defineProperty(t,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return a.BrowserLocalStorageKeyStore}});var o=r(24653);Object.defineProperty(t,"MergeKeyStore",{enumerable:!0,get:function(){return o.MergeKeyStore}})},18286:function(e,t,r){"use strict";var n=r(74704).default,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(61655).default,c=r(26389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserLocalStorageKeyStore=void 0;var f=r(54407),l=r(13950),h=function(e){u(r,e);var t=c(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"near-api-js:keystore:";return o(this,r),(e=t.call(this)).localStorage=n,e.prefix=i,e}return s(r,[{key:"setKey",value:function(){var e=a(i().mark((function e(t,r,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorage.setItem(this.storageKeyForSecretKey(t,r),n.toString());case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getKey",value:function(){var e=a(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.localStorage.getItem(this.storageKeyForSecretKey(t,r))){e.next=3;break}return e.abrupt("return",null);case 3:return e.abrupt("return",l.KeyPair.fromString(n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"removeKey",value:function(){var e=a(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorage.removeItem(this.storageKeyForSecretKey(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n(this.storageKeys());try{for(t.s();!(r=t.n()).done;)(a=r.value).startsWith(this.prefix)&&this.localStorage.removeItem(a)}catch(i){t.e(i)}finally{t.f()}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNetworks",value:function(){var e=a(i().mark((function e(){var t,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Set,r=n(this.storageKeys());try{for(r.s();!(a=r.n()).done;)(o=a.value).startsWith(this.prefix)&&(s=o.substring(this.prefix.length).split(":"),t.add(s[1]))}catch(i){r.e(i)}finally{r.f()}return e.abrupt("return",Array.from(t.values()));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=a(i().mark((function e(t){var r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Array,a=n(this.storageKeys());try{for(a.s();!(o=a.n()).done;)(s=o.value).startsWith(this.prefix)&&(u=s.substring(this.prefix.length).split(":"))[1]===t&&r.push(u[0])}catch(i){a.e(i)}finally{a.f()}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"storageKeyForSecretKey",value:function(e,t){return"".concat(this.prefix).concat(t,":").concat(e)}},{key:"storageKeys",value:i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.localStorage.length)){e.next=7;break}return e.next=4,this.localStorage.key(t);case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}]),r}(f.KeyStore);t.BrowserLocalStorageKeyStore=h},65488:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(61655).default,u=r(26389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryKeyStore=void 0;var c=r(54407),f=r(13950),l=function(e){s(r,e);var t=u(r);function r(){var e;return a(this,r),(e=t.call(this)).keys={},e}return o(r,[{key:"setKey",value:function(){var e=i(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.keys["".concat(r,":").concat(t)]=i.toString();case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getKey",value:function(){var e=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.keys["".concat(r,":").concat(t)]){e.next=3;break}return e.abrupt("return",null);case 3:return e.abrupt("return",f.KeyPair.fromString(i));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"removeKey",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.keys["".concat(r,":").concat(t)];case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.keys={};case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNetworks",value:function(){var e=i(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Set,Object.keys(this.keys).forEach((function(e){var r=e.split(":");t.add(r[1])})),e.abrupt("return",Array.from(t.values()));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Array,Object.keys(this.keys).forEach((function(e){var n=e.split(":");n[n.length-1]===t&&r.push(n.slice(0,n.length-1).join(":"))})),e.abrupt("return",r);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toString",value:function(){return"InMemoryKeyStore"}}]),r}(c.KeyStore);t.InMemoryKeyStore=l},54407:function(e,t,r){"use strict";var n=r(89728).default,i=r(56690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyStore=void 0;var a=n((function e(){i(this,e)}));t.KeyStore=a},24653:function(e,t,r){"use strict";var n=r(74704).default,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(61655).default,c=r(26389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=void 0;var f=function(e){u(r,e);var t=c(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{writeKeyStoreIndex:0};return o(this,r),(n=t.call(this)).options=i,n.keyStores=e,n}return s(r,[{key:"setKey",value:function(){var e=a(i().mark((function e(t,r,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keyStores[this.options.writeKeyStoreIndex].setKey(t,r,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getKey",value:function(){var e=a(i().mark((function e(t,r){var a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(this.keyStores),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=12;break}return s=o.value,e.next=7,s.getKey(t,r);case 7:if(!(u=e.sent)){e.next=10;break}return e.abrupt("return",u);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this,[[1,14,17,20]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"removeKey",value:function(){var e=a(i().mark((function e(t,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(this.keyStores),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=9;break}return s=o.value,e.next=7,s.removeKey(t,r);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a.e(e.t0);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(i().mark((function e(){var t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n(this.keyStores),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return a=r.value,e.next=7,a.clear();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNetworks",value:function(){var e=a(i().mark((function e(){var t,r,a,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Set,r=n(this.keyStores),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=14;break}return o=a.value,e.t0=n,e.next=9,o.getNetworks();case 9:e.t1=e.sent,s=(0,e.t0)(e.t1);try{for(s.s();!(u=s.n()).done;)c=u.value,t.add(c)}catch(i){s.e(i)}finally{s.f()}case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(2),r.e(e.t2);case 19:return e.prev=19,r.f(),e.finish(19);case 22:return e.abrupt("return",Array.from(t));case 23:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=a(i().mark((function e(t){var r,a,o,s,u,c,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Set,a=n(this.keyStores),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=14;break}return s=o.value,e.t0=n,e.next=9,s.getAccounts(t);case 9:e.t1=e.sent,u=(0,e.t0)(e.t1);try{for(u.s();!(c=u.n()).done;)f=c.value,r.add(f)}catch(i){u.e(i)}finally{u.f()}case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(2),a.e(e.t2);case 19:return e.prev=19,a.f(),e.finish(19);case 22:return e.abrupt("return",Array.from(r));case 23:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"toString",value:function(){return"MergeKeyStore(".concat(this.keyStores.join(", "),")")}}]),r}(r(54407).KeyStore);t.MergeKeyStore=f},56366:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Near=void 0;var u=s(r(17696)),c=r(5458),f=r(11784),l=r(72496),h=r(62742),d=function(){function e(t){if(a(this,e),this.config=t,this.connection=f.Connection.fromConfig({networkId:t.networkId,provider:{type:"JsonRpcProvider",args:{url:t.nodeUrl,headers:t.headers}},signer:t.signer||{type:"InMemorySigner",keyStore:t.keyStore||t.deps.keyStore}}),t.masterAccount){var r=t.initialBalance?new u.default(t.initialBalance):new u.default("500000000000000000000000000");this.accountCreator=new h.LocalAccountCreator(new c.Account(this.connection,t.masterAccount),r)}else t.helperUrl?this.accountCreator=new h.UrlAccountCreator(this.connection,t.helperUrl):this.accountCreator=null}return o(e,[{key:"account",value:function(){var e=i(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new c.Account(this.connection,t),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAccount",value:function(){var e=i(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.accountCreator){e.next=2;break}throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");case 2:return e.next=4,this.accountCreator.createAccount(t,r);case 4:return e.abrupt("return",new c.Account(this.connection,t));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"loadContract",value:function(){var e=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new c.Account(this.connection,r.sender),e.abrupt("return",new l.Contract(i,t,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sendTokens",value:function(){var e=i(n().mark((function e(t,r,i){var a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("near.sendTokens is deprecated. Use `yourAccount.sendMoney` instead."),a=new c.Account(this.connection,r),e.next=4,a.sendMoney(i,t);case 4:return o=e.sent,e.abrupt("return",o.transaction_outcome.id);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.Near=d},49170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorContext=t.TypedError=t.getTransactionLastResult=t.FinalExecutionStatusBasic=t.JsonRpcProvider=t.Provider=void 0;var n=r(19883);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return n.Provider}}),Object.defineProperty(t,"getTransactionLastResult",{enumerable:!0,get:function(){return n.getTransactionLastResult}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}});var i=r(71367);Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return i.JsonRpcProvider}}),Object.defineProperty(t,"TypedError",{enumerable:!0,get:function(){return i.TypedError}}),Object.defineProperty(t,"ErrorContext",{enumerable:!0,get:function(){return i.ErrorContext}})},71367:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(56690).default,s=r(89728).default,u=r(61655).default,c=r(26389).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcProvider=t.ErrorContext=t.TypedError=void 0;var l=f(r(64031)),h=r(19883),d=r(88833),p=r(4024);Object.defineProperty(t,"TypedError",{enumerable:!0,get:function(){return p.TypedError}}),Object.defineProperty(t,"ErrorContext",{enumerable:!0,get:function(){return p.ErrorContext}});var v=r(79961),y=f(r(96437)),m=r(41502),g=123,b=function(e){u(r,e);var t=c(r);function r(e){var n;(o(this,r),n=t.call(this),null!=e&&"object"==typeof e)?n.connection=e:(l.default("JsonRpcProvider(url?: string)")("use `JsonRpcProvider(connectionInfo: ConnectionInfo)` instead"),n.connection={url:e});return n}return s(r,[{key:"status",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendJsonRpc("status",[]));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.encode(),e.abrupt("return",this.sendJsonRpc("broadcast_tx_commit",[n.from(r).toString("base64")]));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendTransactionAsync",value:function(){var e=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.encode(),e.abrupt("return",this.sendJsonRpc("broadcast_tx_async",[n.from(r).toString("base64")]));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"txStatus",value:function(){var e=a(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=4;break}return e.abrupt("return",this.txStatusString(t,r));case 4:return e.abrupt("return",this.txStatusUint8Array(t,r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"txStatusUint8Array",value:function(){var e=a(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendJsonRpc("tx",[v.baseEncode(t),r]));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"txStatusString",value:function(){var e=a(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendJsonRpc("tx",[t,r]));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"txStatusReceipts",value:function(){var e=a(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendJsonRpc("EXPERIMENTAL_tx_status",[v.baseEncode(t),r]));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=a(i().mark((function e(){var t,r,n,a,o,s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=u.length,n=new Array(r),a=0;a<r;a++)n[a]=u[a];if(1!==n.length){e.next=7;break}return e.next=4,this.sendJsonRpc("query",n[0]);case 4:t=e.sent,e.next=11;break;case 7:return o=n[0],s=n[1],e.next=10,this.sendJsonRpc("query",[o,s]);case 10:t=e.sent;case 11:if(!t||!t.error){e.next=13;break}throw new p.TypedError("Querying ".concat(n," failed: ").concat(t.error,".\n").concat(JSON.stringify(t,null,2)),m.getErrorTypeFromErrorMessage(t.error));case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"block",value:function(){var e=a(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.finality,n=t.blockId,"object"!==typeof t&&(l.default("JsonRpcProvider.block(blockId)")("use `block({ blockId })` or `block({ finality })` instead"),n=t),e.abrupt("return",this.sendJsonRpc("block",{block_id:n,finality:r}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"blockChanges",value:function(){var e=a(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.finality,n=t.blockId,e.abrupt("return",this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:n,finality:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"chunk",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendJsonRpc("chunk",[t]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"validators",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendJsonRpc("validators",[t]));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"experimental_genesisConfig",value:function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.default("JsonRpcProvider.experimental_protocolConfig()")("use `experimental_protocolConfig({ sync_checkpoint: 'genesis' })` to fetch the up-to-date or genesis protocol config explicitly"),e.next=4,this.sendJsonRpc("EXPERIMENTAL_protocol_config",{sync_checkpoint:"genesis"});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"experimental_protocolConfig",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendJsonRpc("EXPERIMENTAL_protocol_config",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"experimental_lightClientProof",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.default("JsonRpcProvider.experimental_lightClientProof(request)")("use `lightClientProof` instead"),e.next=4,this.lightClientProof(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lightClientProof",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendJsonRpc("EXPERIMENTAL_light_client_proof",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"accessKeyChanges",value:function(){var e=a(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.finality,a=r.blockId,e.abrupt("return",this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:t,block_id:a,finality:n}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"singleAccessKeyChanges",value:function(){var e=a(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.finality,a=r.blockId,e.abrupt("return",this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:t,block_id:a,finality:n}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"accountChanges",value:function(){var e=a(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.finality,a=r.blockId,e.abrupt("return",this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:t,block_id:a,finality:n}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"contractStateChanges",value:function(){var e=a(i().mark((function e(t,r){var n,a,o,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"",a=r.finality,o=r.blockId,e.abrupt("return",this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:t,key_prefix_base64:n,block_id:o,finality:a}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"contractCodeChanges",value:function(){var e=a(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.finality,a=r.blockId,e.abrupt("return",this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:t,block_id:a,finality:n}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"gasPrice",value:function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendJsonRpc("gas_price",[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendJsonRpc",value:function(){var e=a(i().mark((function e(t,r){var n,o,s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.default(500,12,1.5,a(i().mark((function e(){var n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:t,params:r,id:g++,jsonrpc:"2.0"},e.next=4,d.fetchJson(s.connection,JSON.stringify(n));case 4:if(!(a=e.sent).error){e.next=16;break}if("object"!==typeof a.error.data){e.next=12;break}if("string"!==typeof a.error.data.error_message||"string"!==typeof a.error.data.error_type){e.next=9;break}throw new p.TypedError(a.error.data.error_message,a.error.data.error_type);case 9:throw m.parseRpcError(a.error.data);case 12:if(o="[".concat(a.error.code,"] ").concat(a.error.message,": ").concat(a.error.data),"Timeout"!==a.error.data&&!o.includes("Timeout error")&&!o.includes("query has timed out")){e.next=15;break}throw new p.TypedError(o,"TimeoutError");case 15:throw new p.TypedError(o,m.getErrorTypeFromErrorMessage(a.error.data));case 16:return e.abrupt("return",a);case 19:if(e.prev=19,e.t0=e.catch(0),"TimeoutError"!==e.t0.type){e.next=24;break}return{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SOLANA_NETWORK:"devnet"}.NEAR_NO_LOGS||console.warn("Retrying request to ".concat(t," as it has timed out"),r),e.abrupt("return",null);case 24:throw e.t0;case 25:case"end":return e.stop()}}),e,null,[[0,19]])}))));case 2:if(n=e.sent,"undefined"!==typeof(o=n.result)){e.next=6;break}throw new p.TypedError("Exceeded ".concat(12," attempts for request to ").concat(t,"."),"RetriesExceeded");case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(h.Provider);t.JsonRpcProvider=b},19883:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(89728).default,a=r(56690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionLastResult=t.Provider=t.IdType=t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=void 0,function(e){e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure"}(t.ExecutionStatusBasic||(t.ExecutionStatusBasic={})),function(e){e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure"}(t.FinalExecutionStatusBasic||(t.FinalExecutionStatusBasic={})),function(e){e.Transaction="transaction",e.Receipt="receipt"}(t.IdType||(t.IdType={}));var o=i((function e(){a(this,e)}));t.Provider=o,t.getTransactionLastResult=function(e){if("object"===typeof e.status&&"string"===typeof e.status.SuccessValue){var t=n.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(t)}catch(r){return t}}return null}},54116:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(61655).default,o=r(26389).default,s=r(89728).default,u=r(56690).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySigner=t.Signer=void 0;var f=c(r(74981)),l=r(13950),h=r(65488),d=s((function e(){u(this,e)}));t.Signer=d;var p=function(e){a(r,e);var t=o(r);function r(e){var n;return u(this,r),(n=t.call(this)).keyStore=e,n}return s(r,[{key:"createKey",value:function(){var e=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.KeyPair.fromRandom("ed25519"),e.next=3,this.keyStore.setKey(r,t,i);case 3:return e.abrupt("return",i.getPublicKey());case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getPublicKey",value:function(){var e=i(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keyStore.getKey(r,t);case 2:if(null!==(i=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",i.getPublicKey());case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=i(n().mark((function e(t,r,i){var a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Uint8Array(f.default.sha256.array(t)),r){e.next=3;break}throw new Error("InMemorySigner requires provided account id");case 3:return e.next=5,this.keyStore.getKey(i,r);case 5:if(null!==(o=e.sent)){e.next=8;break}throw new Error("Key for ".concat(r," not found in ").concat(i));case 8:return e.abrupt("return",o.sign(a));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"toString",value:function(){return"InMemorySigner(".concat(this.keyStore,")")}}],[{key:"fromKeyPair",value:function(){var e=i(n().mark((function e(t,i,a){var o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new h.InMemoryKeyStore,e.next=3,o.setKey(t,i,a);case 3:return e.abrupt("return",new r(o));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(d);t.InMemorySigner=p},12362:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(17061).default,a=r(17156).default,o=r(89728).default,s=r(56690).default,u=r(61655).default,c=r(26389).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.signTransaction=t.createTransaction=t.SCHEMA=t.Action=t.SignedTransaction=t.Transaction=t.Signature=t.deleteAccount=t.deleteKey=t.addKey=t.stake=t.transfer=t.functionCall=t.stringifyJsonOrBytes=t.deployContract=t.createAccount=t.DeleteAccount=t.DeleteKey=t.AddKey=t.Stake=t.Transfer=t.FunctionCall=t.DeployContract=t.CreateAccount=t.IAction=t.functionCallAccessKey=t.fullAccessKey=t.AccessKey=t.AccessKeyPermission=t.FullAccessPermission=t.FunctionCallPermission=void 0;var l=f(r(74981)),h=r(71287),d=r(79961),p=r(13950),v=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(h.Assignable);t.FunctionCallPermission=v;var y=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(h.Assignable);t.FullAccessPermission=y;var m=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(h.Enum);t.AccessKeyPermission=m;var g=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(h.Assignable);t.AccessKey=g,t.fullAccessKey=function(){return new g({nonce:0,permission:new m({fullAccess:new y({})})})},t.functionCallAccessKey=function(e,t,r){return new g({nonce:0,permission:new m({functionCall:new v({receiverId:e,allowance:r,methodNames:t})})})};var b=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(h.Assignable);t.IAction=b;var w=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(b);t.CreateAccount=w;var k=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(b);t.DeployContract=k;var _=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(b);t.FunctionCall=_;var x=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(b);t.Transfer=x;var A=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(b);t.Stake=A;var E=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(b);t.AddKey=E;var S=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(b);t.DeleteKey=S;var T=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(b);function M(e){return void 0!==e.byteLength&&e.byteLength===e.length?e:n.from(JSON.stringify(e))}t.DeleteAccount=T,t.createAccount=function(){return new C({createAccount:new w({})})},t.deployContract=function(e){return new C({deployContract:new k({code:e})})},t.stringifyJsonOrBytes=M,t.functionCall=function(e,t,r,n){return new C({functionCall:new _({methodName:e,args:(arguments.length>4&&void 0!==arguments[4]?arguments[4]:M)(t),gas:r,deposit:n})})},t.transfer=function(e){return new C({transfer:new x({deposit:e})})},t.stake=function(e,t){return new C({stake:new A({stake:e,publicKey:t})})},t.addKey=function(e,t){return new C({addKey:new E({publicKey:e,accessKey:t})})},t.deleteKey=function(e){return new C({deleteKey:new S({publicKey:e})})},t.deleteAccount=function(e){return new C({deleteAccount:new T({beneficiaryId:e})})};var P=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(h.Assignable);t.Signature=P;var I=function(e){u(n,e);var r=c(n);function n(){return s(this,n),r.apply(this,arguments)}return o(n,[{key:"encode",value:function(){return d.serialize(t.SCHEMA,this)}}],[{key:"decode",value:function(e){return d.deserialize(t.SCHEMA,n,e)}}]),n}(h.Assignable);t.Transaction=I;var N=function(e){u(n,e);var r=c(n);function n(){return s(this,n),r.apply(this,arguments)}return o(n,[{key:"encode",value:function(){return d.serialize(t.SCHEMA,this)}}],[{key:"decode",value:function(e){return d.deserialize(t.SCHEMA,n,e)}}]),n}(h.Assignable);t.SignedTransaction=N;var C=function(e){u(r,e);var t=c(r);function r(){return s(this,r),t.apply(this,arguments)}return o(r)}(h.Enum);function O(e,t,r,n,i,a){return new I({signerId:e,publicKey:t,nonce:n,receiverId:r,actions:i,blockHash:a})}function R(e,t,r,n){return B.apply(this,arguments)}function B(){return(B=a(i().mark((function e(r,n,a,o){var s,u,c,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.serialize(t.SCHEMA,r),u=new Uint8Array(l.default.sha256.array(s)),e.next=4,n.signMessage(s,a,o);case 4:return c=e.sent,f=new N({transaction:r,signature:new P({keyType:r.publicKey.keyType,data:c.signature})}),e.abrupt("return",[u,f]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return U=a(i().mark((function e(){var t,r,n,a,o,s,u,c,f,l,h,d,p,v,y,m,g=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=g.length,r=new Array(t),n=0;n<t;n++)r[n]=g[n];if(r[0].constructor!==I){e.next=6;break}return a=r[0],o=r[1],s=r[2],u=r[3],e.abrupt("return",R(a,o,s,u));case 6:return c=r[0],f=r[1],l=r[2],h=r[3],d=r[4],p=r[5],v=r[6],e.next=9,d.getPublicKey(p,v);case 9:return y=e.sent,m=O(p,y,c,f,l,h),e.abrupt("return",R(m,d,p,v));case 12:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}t.Action=C,t.SCHEMA=new Map([[P,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[N,{kind:"struct",fields:[["transaction",I],["signature",P]]}],[I,{kind:"struct",fields:[["signerId","string"],["publicKey",p.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[C]]]}],[p.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[g,{kind:"struct",fields:[["nonce","u64"],["permission",m]]}],[m,{kind:"enum",field:"enum",values:[["functionCall",v],["fullAccess",y]]}],[v,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[y,{kind:"struct",fields:[]}],[C,{kind:"enum",field:"enum",values:[["createAccount",w],["deployContract",k],["functionCall",_],["transfer",x],["stake",A],["addKey",E],["deleteKey",S],["deleteAccount",T]]}],[w,{kind:"struct",fields:[]}],[k,{kind:"struct",fields:[["code",["u8"]]]}],[_,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[x,{kind:"struct",fields:[["deposit","u128"]]}],[A,{kind:"struct",fields:[["stake","u128"],["publicKey",p.PublicKey]]}],[E,{kind:"struct",fields:[["publicKey",p.PublicKey],["accessKey",g]]}],[S,{kind:"struct",fields:[["publicKey",p.PublicKey]]}],[T,{kind:"struct",fields:[["beneficiaryId","string"]]}]]),t.createTransaction=O,t.signTransaction=function(){return U.apply(this,arguments)}},71287:function(e,t,r){"use strict";var n=r(89728).default,i=r(56690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Assignable=t.Enum=void 0;var a=n((function e(t){var r=this;if(i(this,e),1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((function(e){r[e]=t[e],r.enum=e}))}));t.Enum=a;var o=n((function e(t){var r=this;i(this,e),Object.keys(t).map((function(e){r[e]=t[e]}))}));t.Assignable=o},4024:function(e,t,r){"use strict";var n=r(89728).default,i=r(56690).default,a=r(61655).default,o=r(26389).default,s=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.logWarning=t.ErrorContext=t.TypedError=t.ArgumentTypeError=t.PositionalArgsError=void 0;var u=function(e){a(r,e);var t=o(r);function r(){return i(this,r),t.call(this,"Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}return n(r)}(s(Error));t.PositionalArgsError=u;var c=function(e){a(r,e);var t=o(r);function r(e,n,a){return i(this,r),t.call(this,"Expected ".concat(n," for '").concat(e,"' argument, but got '").concat(JSON.stringify(a),"'"))}return n(r)}(s(Error));t.ArgumentTypeError=c;var f=function(e){a(r,e);var t=o(r);function r(e,n,a){var o;return i(this,r),(o=t.call(this,e)).type=n||"UntypedError",o.context=a,o}return n(r)}(s(Error));t.TypedError=f;var l=n((function e(t){i(this,e),this.transactionHash=t}));t.ErrorContext=l,t.logWarning=function(){var e;({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SOLANA_NETWORK:"devnet"}).NEAR_NO_LOGS||(e=console).warn.apply(e,arguments)}},96437:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default;function a(){return(a=i(n().mark((function e(t,r,i,a){var s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t,u=0;case 2:if(!(u<r)){e.next=14;break}return e.next=5,a();case 5:if(!(c=e.sent)){e.next=8;break}return e.abrupt("return",c);case 8:return e.next=10,o(s);case 10:s*=i;case 11:u++,e.next=2;break;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return new Promise((function(t){return setTimeout(t,e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){return a.apply(this,arguments)}},11708:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseNearAmount=t.formatNearAmount=t.NEAR_NOMINATION=t.NEAR_NOMINATION_EXP=void 0;var i=n(r(17696));t.NEAR_NOMINATION_EXP=24,t.NEAR_NOMINATION=new i.default("10",10).pow(new i.default(t.NEAR_NOMINATION_EXP,10));for(var a=[],o=new i.default(10),s=0,u=new i.default(5);s<t.NEAR_NOMINATION_EXP;s++,u=u.mul(o))a[s]=u;t.formatNearAmount=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.NEAR_NOMINATION_EXP,n=new i.default(e,10);if(r!==t.NEAR_NOMINATION_EXP){var o=t.NEAR_NOMINATION_EXP-r-1;o>0&&n.iadd(a[o])}var s=(e=n.toString()).substring(0,e.length-t.NEAR_NOMINATION_EXP)||"0",u=e.substring(e.length-t.NEAR_NOMINATION_EXP).padStart(t.NEAR_NOMINATION_EXP,"0").substring(0,r);return"".concat(function(e){for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}(s),".").concat(u).replace(/\.?0*$/,"")},t.parseNearAmount=function(e){if(!e)return null;var r=(e=e.replace(/,/g,"").trim()).split("."),n=r[0],i=r[1]||"";if(r.length>2||i.length>t.NEAR_NOMINATION_EXP)throw new Error("Cannot parse '".concat(e,"' as NEAR amount"));return function(e){if(""===(e=e.replace(/^0+/,"")))return"0";return e}(n+i.padEnd(t.NEAR_NOMINATION_EXP,"0"))}},45287:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.logWarning=t.rpc_errors=t.KeyPairEd25519=t.KeyPair=t.PublicKey=t.format=t.enums=t.web=t.serialize=t.key_pair=void 0;var o=a(r(13950));t.key_pair=o;var s=a(r(45721));t.serialize=s;var u=a(r(88833));t.web=u;var c=a(r(71287));t.enums=c;var f=a(r(11708));t.format=f;var l=a(r(41502));t.rpc_errors=l;var h=r(13950);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return h.PublicKey}}),Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return h.KeyPair}}),Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return h.KeyPairEd25519}});var d=r(4024);Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return d.logWarning}})},13950:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(61655).default,o=r(26389).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairEd25519=t.KeyPair=t.PublicKey=t.KeyType=void 0;var u,c=s(r(2826)),f=r(45721),l=r(71287);function h(e){if("ed25519"===e.toLowerCase())return u.ED25519;throw new Error("Unknown key type ".concat(e))}!function(e){e[e.ED25519=0]="ED25519"}(u=t.KeyType||(t.KeyType={}));var d=function(e){a(r,e);var t=o(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"toString",value:function(){return"".concat(function(e){if(e===u.ED25519)return"ed25519";throw new Error("Unknown key type ".concat(e))}(this.keyType),":").concat(f.base_encode(this.data))}},{key:"verify",value:function(e,t){if(this.keyType===u.ED25519)return c.default.sign.detached.verify(e,t,this.data);throw new Error("Unknown key type ".concat(this.keyType))}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):e}},{key:"fromString",value:function(e){var t=e.split(":");if(1===t.length)return new r({keyType:u.ED25519,data:f.base_decode(t[0])});if(2===t.length)return new r({keyType:h(t[0]),data:f.base_decode(t[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}]),r}(l.Assignable);t.PublicKey=d;var p=function(){function e(){n(this,e)}return i(e,null,[{key:"fromRandom",value:function(e){if("ED25519"===e.toUpperCase())return v.fromRandom();throw new Error("Unknown curve ".concat(e))}},{key:"fromString",value:function(e){var t=e.split(":");if(1===t.length)return new v(t[0]);if(2===t.length){if("ED25519"===t[0].toUpperCase())return new v(t[1]);throw new Error("Unknown curve: ".concat(t[0]))}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}]),e}();t.KeyPair=p;var v=function(e){a(r,e);var t=o(r);function r(e){var i;n(this,r),i=t.call(this);var a=c.default.sign.keyPair.fromSecretKey(f.base_decode(e));return i.publicKey=new d({keyType:u.ED25519,data:a.publicKey}),i.secretKey=e,i}return i(r,[{key:"sign",value:function(e){return{signature:c.default.sign.detached(e,f.base_decode(this.secretKey)),publicKey:this.publicKey}}},{key:"verify",value:function(e,t){return this.publicKey.verify(e,t)}},{key:"toString",value:function(){return"ed25519:".concat(this.secretKey)}},{key:"getPublicKey",value:function(){return this.publicKey}}],[{key:"fromRandom",value:function(){var e=c.default.sign.keyPair();return new r(f.base_encode(e.secretKey))}}]),r}(p);t.KeyPairEd25519=v},41502:function(e,t,r){"use strict";var n=r(42122).default,i=r(89728).default,a=r(56690).default,o=r(61655).default,s=r(26389).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorTypeFromErrorMessage=t.formatError=t.parseResultError=t.parseRpcError=t.ServerError=void 0;var c=u(r(77598)),f=u(r(56527)),l=u(r(87930)),h=r(10054),d=r(4024),p={formatNear:function(){return function(e,t){return h.utils.format.formatNearAmount(t(e))}}},v=function(e){o(r,e);var t=s(r);function r(){return a(this,r),t.apply(this,arguments)}return i(r)}(d.TypedError);t.ServerError=v;var y=function(e){o(r,e);var t=s(r);function r(){return a(this,r),t.apply(this,arguments)}return i(r)}(v);function m(e){var t={},r=b(e,f.default.schema,t,""),n=new v(g(r,t),r);return Object.assign(n,t),n}function g(e,t){return"string"===typeof l.default[e]?c.default.render(l.default[e],n(n({},t),p)):JSON.stringify(t)}function b(e,t,r,n){var i,a,o,s;for(var u in t){if(s=e[u],"[object String]"===Object.prototype.toString.call(s))return e[u];if(w(e[u]))i=e[u],a=t[u],o=u;else{if(!w(e.kind)||!w(e.kind[u]))continue;i=e.kind[u],a=t[u],o=u}}if(i&&a){for(var c=0,f=Object.keys(a.props);c<f.length;c++){var l=f[c];r[l]=i[l]}return b(i,t,r,o)}return r.kind=e,n}function w(e){return"[object Object]"===Object.prototype.toString.call(e)}t.parseRpcError=m,t.parseResultError=function(e){var t=m(e.status.Failure),r=new y;return Object.assign(r,t),r.type=t.type,r.message=t.message,r.transaction_outcome=e.transaction_outcome,r},t.formatError=g,t.getErrorTypeFromErrorMessage=function(e){switch(!0){case/^account .*? does not exist while viewing$/.test(e):case/^Account .*? doesn't exist$/.test(e):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(e):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(e):return"InvalidNonce";default:return"UntypedError"}}},45721:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(79961);Object.defineProperty(t,"base_encode",{enumerable:!0,get:function(){return n.baseEncode}}),Object.defineProperty(t,"base_decode",{enumerable:!0,get:function(){return n.baseDecode}}),Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return n.serialize}}),Object.defineProperty(t,"deserialize",{enumerable:!0,get:function(){return n.deserialize}}),Object.defineProperty(t,"BorshError",{enumerable:!0,get:function(){return n.BorshError}}),Object.defineProperty(t,"BinaryWriter",{enumerable:!0,get:function(){return n.BinaryWriter}}),Object.defineProperty(t,"BinaryReader",{enumerable:!0,get:function(){return n.BinaryReader}})},88833:function(e,t,r){"use strict";var n=r(17061).default,i=r(42122).default,a=r(17156).default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchJson=void 0;var s=o(r(89184)),u=o(r(96437)),c=r(49170),f=r(4024),l=1e3,h=1.5,d=10;function p(){return(p=a(n().mark((function e(t,r){var o,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={url:null},"string"===typeof t?o.url=t:o=t,e.next=4,u.default(l,d,h,a(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(o.url,{method:r?"POST":"GET",body:r||void 0,headers:i(i({},o.headers),{},{"Content-Type":"application/json"})});case 3:if((t=e.sent).ok){e.next=14;break}if(503!==t.status){e.next=8;break}return f.logWarning("Retrying HTTP request for ".concat(o.url," as it's not available now")),e.abrupt("return",null);case 8:return e.t0=s,e.t1=t.status,e.next=12,t.text();case 12:throw e.t2=e.sent,e.t0.default.call(e.t0,e.t1,e.t2);case 14:return e.abrupt("return",t);case 17:if(e.prev=17,e.t3=e.catch(0),!e.t3.toString().includes("FetchError")&&!e.t3.toString().includes("Failed to fetch")){e.next=22;break}return f.logWarning("Retrying HTTP request for ".concat(o.url," because of error: ").concat(e.t3)),e.abrupt("return",null);case 22:throw e.t3;case 23:case"end":return e.stop()}}),e,null,[[0,17]])}))));case 4:if(p=e.sent){e.next=7;break}throw new c.TypedError("Exceeded ".concat(d," attempts for ").concat(o.url,"."),"RetriesExceeded");case 7:return e.next=9,p.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.fetchJson=function(e,t){return p.apply(this,arguments)}},71678:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.diffEpochValidators=t.findSeatPrice=void 0;var i=n(r(17696)),a=n(r(64031));t.findSeatPrice=function(e,t,r,n){return n&&n<49?function(e,t){var r=e.map((function(e){return new i.default(e.stake,10)})).sort((function(e,t){return e.cmp(t)})),n=new i.default(t),a=r.reduce((function(e,t){return e.add(t)}));if(a.lt(n))throw new Error("Stakes are below seats");var o=new i.default(1),s=a.add(new i.default(1));for(;!o.eq(s.sub(new i.default(1)));){for(var u=o.add(s).div(new i.default(2)),c=!1,f=new i.default(0),l=0;l<r.length;++l)if((f=f.add(r[l].div(u))).gte(n)){o=u,c=!0;break}c||(s=u)}return o}(e,t):(r||(a.default("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),r=[1,6250]),function(e,t,r){if(2!=r.length)throw Error("minimumStakeRatio should have 2 elements");var n=e.map((function(e){return new i.default(e.stake,10)})).sort((function(e,t){return e.cmp(t)})),a=n.reduce((function(e,t){return e.add(t)}));return e.length<t?a.mul(new i.default(r[0])).div(new i.default(r[1])):n[0].add(new i.default(1))}(e,t,r))},t.diffEpochValidators=function(e,t){var r=new Map;e.forEach((function(e){return r.set(e.account_id,e)}));var n=new Set(t.map((function(e){return e.account_id})));return{newValidators:t.filter((function(e){return!r.has(e.account_id)})),removedValidators:e.filter((function(e){return!n.has(e.account_id)})),changedValidators:t.filter((function(e){return r.has(e.account_id)&&r.get(e.account_id).stake!=e.stake})).map((function(e){return{current:r.get(e.account_id),next:e}}))}}},10715:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(74704).default,a=r(27424).default,o=r(41588).default,s=r(73808).default,u=r(61655).default,c=r(26389).default,f=r(17061).default,l=r(17156).default,h=r(56690).default,d=r(89728).default,p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedWalletAccount=t.WalletAccount=t.WalletConnection=void 0;var v=p(r(64031)),y=r(5458),m=r(12362),g=r(45287),b=r(79961),w=r(79961),k="pending_key",_=function(){function e(t,r){h(this,e),this._near=t;var n=r+"_wallet_auth_key",i=JSON.parse(window.localStorage.getItem(n));this._networkId=t.config.networkId,this._walletBaseUrl=t.config.walletUrl,r=r||t.config.contractName||"default",this._keyStore=t.connection.signer.keyStore,this._authData=i||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||this._completeSignInWithAccessKey()}return d(e,[{key:"isSignedIn",value:function(){return!!this._authData.accountId}},{key:"getAccountId",value:function(){return this._authData.accountId||""}},{key:"requestSignIn",value:function(){var e=l(f().mark((function e(){var t,r,n,i,a,o,s,u,c=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>1?c[1]:void 0,r=c.length>2?c[2]:void 0,n=c.length>3?c[3]:void 0,"string"===typeof(t=c.length>0&&void 0!==c[0]?c[0]:{})?(v.default("requestSignIn(contractId, title)")("`title` ignored; use `requestSignIn({ contractId, methodNames, successUrl, failureUrl })` instead"),i={contractId:t,successUrl:r,failureUrl:n}):i=t,a=new URL(window.location.href),(o=new URL(this._walletBaseUrl+"/login/")).searchParams.set("success_url",i.successUrl||a.href),o.searchParams.set("failure_url",i.failureUrl||a.href),!i.contractId){e.next=20;break}return e.next=12,this._near.account(i.contractId);case 12:return s=e.sent,e.next=15,s.state();case 15:return o.searchParams.set("contract_id",i.contractId),u=g.KeyPair.fromRandom("ed25519"),o.searchParams.set("public_key",u.getPublicKey().toString()),e.next=20,this._keyStore.setKey(this._networkId,k+u.getPublicKey(),u);case 20:i.methodNames&&i.methodNames.forEach((function(e){o.searchParams.append("methodNames",e)})),window.location.assign(o.toString());case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestSignTransactions",value:function(){var e=l(f().mark((function e(){var t=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t.length<=0?void 0:t[0])){e.next=4;break}return v.default("WalletConnection.requestSignTransactions(transactions, callbackUrl, meta)")("use `WalletConnection.requestSignTransactions(RequestSignTransactionsOptions)` instead"),e.abrupt("return",this._requestSignTransactions({transactions:t.length<=0?void 0:t[0],callbackUrl:t.length<=1?void 0:t[1],meta:t.length<=2?void 0:t[2]}));case 4:return e.abrupt("return",this._requestSignTransactions(t.length<=0?void 0:t[0]));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_requestSignTransactions",value:function(){var e=l(f().mark((function e(t){var r,i,a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.transactions,i=t.meta,a=t.callbackUrl,o=new URL(window.location.href),(s=new URL("sign",this._walletBaseUrl)).searchParams.set("transactions",r.map((function(e){return w.serialize(m.SCHEMA,e)})).map((function(e){return n.from(e).toString("base64")})).join(",")),s.searchParams.set("callbackUrl",a||o.href),i&&s.searchParams.set("meta",i),window.location.assign(s.toString());case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_completeSignInWithAccessKey",value:function(){var e=l(f().mark((function e(){var t,r,n,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URL(window.location.href),r=t.searchParams.get("public_key")||"",n=(t.searchParams.get("all_keys")||"").split(","),!(i=t.searchParams.get("account_id")||"")){e.next=10;break}if(this._authData={accountId:i,allKeys:n},window.localStorage.setItem(this._authDataKey,JSON.stringify(this._authData)),!r){e.next=10;break}return e.next=10,this._moveKeyFromTempToPermanent(i,r);case 10:t.searchParams.delete("public_key"),t.searchParams.delete("all_keys"),t.searchParams.delete("account_id"),t.searchParams.delete("meta"),t.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,t.toString());case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_moveKeyFromTempToPermanent",value:function(){var e=l(f().mark((function e(t,r){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._keyStore.getKey(this._networkId,k+r);case 2:return n=e.sent,e.next=5,this._keyStore.setKey(this._networkId,t,n);case 5:return e.next=7,this._keyStore.removeKey(this._networkId,k+r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){this._authData={},window.localStorage.removeItem(this._authDataKey)}},{key:"account",value:function(){return this._connectedAccount||(this._connectedAccount=new x(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}]),e}();t.WalletConnection=_,t.WalletAccount=_;var x=function(e){u(r,e);var t=c(r);function r(e,n,i){var a;return h(this,r),(a=t.call(this,n,i)).walletConnection=e,a}return d(r,[{key:"signAndSendTransaction",value:function(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this._signAndSendTransaction({receiverId:arguments.length<=0?void 0:arguments[0],actions:arguments.length<=1?void 0:arguments[1]}):this._signAndSendTransaction(arguments.length<=0?void 0:arguments[0])}},{key:"_signAndSendTransaction",value:function(){var e=l(f().mark((function e(t){var n,i,a,u,c,l,h,d,p,v,y,w;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.receiverId,i=t.actions,a=t.walletMeta,u=t.walletCallbackUrl,c=void 0===u?window.location.href:u,e.next=3,this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);case 3:return l=e.sent,e.next=6,this.accessKeyForTransaction(n,i,l);case 6:if(h=e.sent){e.next=9;break}throw new Error("Cannot find matching key for transaction sent to ".concat(n));case 9:if(!l||l.toString()!==h.public_key){e.next=25;break}return e.prev=10,e.next=13,o(s(r.prototype),"signAndSendTransaction",this).call(this,{receiverId:n,actions:i});case 13:return e.abrupt("return",e.sent);case 16:if(e.prev=16,e.t0=e.catch(10),"NotEnoughAllowance"!==e.t0.type){e.next=24;break}return e.next=21,this.accessKeyForTransaction(n,i);case 21:h=e.sent,e.next=25;break;case 24:throw e.t0;case 25:return e.next=27,this.connection.provider.block({finality:"final"});case 27:return d=e.sent,p=b.baseDecode(d.header.hash),v=g.PublicKey.from(h.public_key),y=h.access_key.nonce+1,w=m.createTransaction(this.accountId,v,n,y,i,p),e.next=34,this.walletConnection.requestSignTransactions({transactions:[w],meta:a,callbackUrl:c});case 34:return e.abrupt("return",new Promise((function(e,t){setTimeout((function(){t(new Error("Failed to redirect to sign transaction"))}),1e3)})));case 35:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"accessKeyMatchesTransaction",value:function(){var e=l(f().mark((function e(t,r,n){var i,o,s,u,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("FullAccess"!==(i=t.access_key.permission)){e.next=3;break}return e.abrupt("return",!0);case 3:if(!i.FunctionCall){e.next=12;break}if(o=i.FunctionCall,s=o.receiver_id,u=o.method_names,s!==this.accountId||!u.includes("add_request_and_confirm")){e.next=7;break}return e.abrupt("return",!0);case 7:if(s!==r){e.next=12;break}if(1===n.length){e.next=10;break}return e.abrupt("return",!1);case 10:return c=a(n,1),l=c[0].functionCall,e.abrupt("return",l&&(!l.deposit||"0"===l.deposit.toString())&&(0===u.length||u.includes(l.methodName)));case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"accessKeyForTransaction",value:function(){var e=l(f().mark((function e(t,r,n){var a,o,s,u,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccessKeys();case 2:if(a=e.sent,!n){e.next=12;break}if(o=a.find((function(e){return e.public_key.toString()===n.toString()})),e.t0=o,!e.t0){e.next=10;break}return e.next=9,this.accessKeyMatchesTransaction(o,t,r);case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=12;break}return e.abrupt("return",o);case 12:s=this.walletConnection._authData.allKeys,u=i(a),e.prev=14,u.s();case 16:if((c=u.n()).done){e.next=27;break}if(l=c.value,e.t1=-1!==s.indexOf(l.public_key),!e.t1){e.next=23;break}return e.next=22,this.accessKeyMatchesTransaction(l,t,r);case 22:e.t1=e.sent;case 23:if(!e.t1){e.next=25;break}return e.abrupt("return",l);case 25:e.next=16;break;case 27:e.next=32;break;case 29:e.prev=29,e.t2=e.catch(14),u.e(e.t2);case 32:return e.prev=32,u.f(),e.finish(32);case 35:return e.abrupt("return",null);case 36:case"end":return e.stop()}}),e,this,[[14,29,32,35]])})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(y.Account);t.ConnectedWalletAccount=x},17696:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function a(e,t,r){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(73105).Buffer}catch(M){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,i){for(var a=0,o=0,s=Math.min(e.length,r),u=t;u<s;u++){var c=e.charCodeAt(u)-48;a*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),a+=o}return a}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},a.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},a.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this._strip()},a.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,u=0,f=r;f<s;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,f,e.length,t),f=0;f<o;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){f(e,this)},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(M){a.prototype.inspect=l}else a.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);r=0!==(a=s>>>24-i&16777215)||o!==this.length-1?h[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],f=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var v=l.modrn(f).toString(e);r=(l=l.idivn(f)).isZero()?v+r:h[c-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},o&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function v(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;f+=(o=(i=0|e.words[p])*(a=0|t.words[d])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}a.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},a.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===a?(r<e.length&&(e[r++]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===a?(r>=0&&(e[r--]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},a.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,f=0|o[0],l=8191&f,h=f>>>13,d=0|o[1],p=8191&d,v=d>>>13,y=0|o[2],m=8191&y,g=y>>>13,b=0|o[3],w=8191&b,k=b>>>13,_=0|o[4],x=8191&_,A=_>>>13,E=0|o[5],S=8191&E,T=E>>>13,M=0|o[6],P=8191&M,I=M>>>13,N=0|o[7],C=8191&N,O=N>>>13,R=0|o[8],B=8191&R,U=R>>>13,F=0|o[9],L=8191&F,j=F>>>13,D=0|s[0],K=8191&D,Z=D>>>13,q=0|s[1],H=8191&q,z=q>>>13,G=0|s[2],V=8191&G,J=G>>>13,W=0|s[3],Y=8191&W,Q=W>>>13,X=0|s[4],$=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,fe=0|s[8],le=8191&fe,he=fe>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(c+(n=Math.imul(l,K))|0)+((8191&(i=(i=Math.imul(l,Z))+Math.imul(h,K)|0))<<13)|0;c=((a=Math.imul(h,Z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,K),i=(i=Math.imul(p,Z))+Math.imul(v,K)|0,a=Math.imul(v,Z);var me=(c+(n=n+Math.imul(l,H)|0)|0)+((8191&(i=(i=i+Math.imul(l,z)|0)+Math.imul(h,H)|0))<<13)|0;c=((a=a+Math.imul(h,z)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,K),i=(i=Math.imul(m,Z))+Math.imul(g,K)|0,a=Math.imul(g,Z),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,z)|0;var ge=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,J)|0)+Math.imul(h,V)|0))<<13)|0;c=((a=a+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,K),i=(i=Math.imul(w,Z))+Math.imul(k,K)|0,a=Math.imul(k,Z),n=n+Math.imul(m,H)|0,i=(i=i+Math.imul(m,z)|0)+Math.imul(g,H)|0,a=a+Math.imul(g,z)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,V)|0,a=a+Math.imul(v,J)|0;var be=(c+(n=n+Math.imul(l,Y)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(h,Y)|0))<<13)|0;c=((a=a+Math.imul(h,Q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,K),i=(i=Math.imul(x,Z))+Math.imul(A,K)|0,a=Math.imul(A,Z),n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,z)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(g,V)|0,a=a+Math.imul(g,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(v,Y)|0,a=a+Math.imul(v,Q)|0;var we=(c+(n=n+Math.imul(l,$)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(h,$)|0))<<13)|0;c=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,K),i=(i=Math.imul(S,Z))+Math.imul(T,K)|0,a=Math.imul(T,Z),n=n+Math.imul(x,H)|0,i=(i=i+Math.imul(x,z)|0)+Math.imul(A,H)|0,a=a+Math.imul(A,z)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(k,V)|0,a=a+Math.imul(k,J)|0,n=n+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,Q)|0)+Math.imul(g,Y)|0,a=a+Math.imul(g,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,$)|0,a=a+Math.imul(v,ee)|0;var ke=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((a=a+Math.imul(h,ne)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(P,K),i=(i=Math.imul(P,Z))+Math.imul(I,K)|0,a=Math.imul(I,Z),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,z)|0)+Math.imul(T,H)|0,a=a+Math.imul(T,z)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(A,V)|0,a=a+Math.imul(A,J)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,Q)|0,n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(v,re)|0,a=a+Math.imul(v,ne)|0;var _e=(c+(n=n+Math.imul(l,ae)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(h,ae)|0))<<13)|0;c=((a=a+Math.imul(h,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(C,K),i=(i=Math.imul(C,Z))+Math.imul(O,K)|0,a=Math.imul(O,Z),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,z)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,z)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(T,V)|0,a=a+Math.imul(T,J)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,Q)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(g,re)|0,a=a+Math.imul(g,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,oe)|0;var xe=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((a=a+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,K),i=(i=Math.imul(B,Z))+Math.imul(U,K)|0,a=Math.imul(U,Z),n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,z)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(I,V)|0,a=a+Math.imul(I,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,Y)|0,a=a+Math.imul(T,Q)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,$)|0,a=a+Math.imul(A,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(k,re)|0,a=a+Math.imul(k,ne)|0,n=n+Math.imul(m,ae)|0,i=(i=i+Math.imul(m,oe)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,he)|0)+Math.imul(h,le)|0))<<13)|0;c=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,Z))+Math.imul(j,K)|0,a=Math.imul(j,Z),n=n+Math.imul(B,H)|0,i=(i=i+Math.imul(B,z)|0)+Math.imul(U,H)|0,a=a+Math.imul(U,z)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(O,V)|0,a=a+Math.imul(O,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,a=a+Math.imul(A,ne)|0,n=n+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,oe)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,ce)|0)+Math.imul(g,ue)|0,a=a+Math.imul(g,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(v,le)|0,a=a+Math.imul(v,he)|0;var Ee=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ve)|0)+Math.imul(h,pe)|0))<<13)|0;c=((a=a+Math.imul(h,ve)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,H),i=(i=Math.imul(L,z))+Math.imul(j,H)|0,a=Math.imul(j,z),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,J)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,$)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(T,re)|0,a=a+Math.imul(T,ne)|0,n=n+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,ce)|0,n=n+Math.imul(m,le)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(g,le)|0,a=a+Math.imul(g,he)|0;var Se=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;c=((a=a+Math.imul(v,ve)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,J))+Math.imul(j,V)|0,a=Math.imul(j,J),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,Q)|0)+Math.imul(U,Y)|0,a=a+Math.imul(U,Q)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,$)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(T,ae)|0,a=a+Math.imul(T,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(k,le)|0,a=a+Math.imul(k,he)|0;var Te=(c+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(g,pe)|0))<<13)|0;c=((a=a+Math.imul(g,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,Y),i=(i=Math.imul(L,Q))+Math.imul(j,Y)|0,a=Math.imul(j,Q),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(U,$)|0,a=a+Math.imul(U,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(T,ue)|0,a=a+Math.imul(T,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(A,le)|0,a=a+Math.imul(A,he)|0;var Me=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ve)|0)+Math.imul(k,pe)|0))<<13)|0;c=((a=a+Math.imul(k,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,ee))+Math.imul(j,$)|0,a=Math.imul(j,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(U,re)|0,a=a+Math.imul(U,ne)|0,n=n+Math.imul(C,ae)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(S,le)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(T,le)|0,a=a+Math.imul(T,he)|0;var Pe=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ve)|0)+Math.imul(A,pe)|0))<<13)|0;c=((a=a+Math.imul(A,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,a=Math.imul(j,ne),n=n+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,oe)|0)+Math.imul(U,ae)|0,a=a+Math.imul(U,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,le)|0,a=a+Math.imul(I,he)|0;var Ie=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(T,pe)|0))<<13)|0;c=((a=a+Math.imul(T,ve)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(L,ae),i=(i=Math.imul(L,oe))+Math.imul(j,ae)|0,a=Math.imul(j,oe),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(U,ue)|0,a=a+Math.imul(U,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(O,le)|0,a=a+Math.imul(O,he)|0;var Ne=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(I,pe)|0))<<13)|0;c=((a=a+Math.imul(I,ve)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,a=Math.imul(j,ce),n=n+Math.imul(B,le)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(U,le)|0,a=a+Math.imul(U,he)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ve)|0)+Math.imul(O,pe)|0))<<13)|0;c=((a=a+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,he))+Math.imul(j,le)|0,a=Math.imul(j,he);var Oe=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ve)|0)+Math.imul(U,pe)|0))<<13)|0;c=((a=a+Math.imul(U,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Re=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,ve))+Math.imul(j,pe)|0))<<13)|0;return c=((a=Math.imul(j,ve))+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,u[0]=ye,u[1]=me,u[2]=ge,u[3]=be,u[4]=we,u[5]=ke,u[6]=_e,u[7]=xe,u[8]=Ae,u[9]=Ee,u[10]=Se,u[11]=Te,u[12]=Me,u[13]=Pe,u[14]=Ie,u[15]=Ne,u[16]=Ce,u[17]=Oe,u[18]=Re,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var f=a-c,l=(0|e.words[f])*(0|t.words[c]),h=67108863&l;s=67108863&(h=h+s|0),i+=(o=(o=o+(l/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r._strip()}function g(e,t,r){return m(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(y=v),a.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?v(this,e,t):r<1024?m(this,e,t):g(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=a.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},b.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var l=u,h=c,d=0;d<o;d++){var p=r[f+d],v=n[f+d],y=r[f+d+o],m=n[f+d+o],g=l*y-h*m;m=l*m+h*y,y=g,r[f+d]=p+y,n[f+d]=v+m,r[f+d+o]=p-y,n[f+d+o]=v-m,d!==s&&(g=u*l-c*h,h=u*h+c*l,l=g)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0===(-8192&a))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,f,l,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,h,a,n,i),this.conjugate(h,a,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),g(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,o=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new a(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},a.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},a.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-a|l>>>a,f=l&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},a.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==t){(s=new a(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);s&&(s.words[l]=h)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},a.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(r*i+(0|this.words[a]))%e;return t?-i:i},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*r;this.words[i]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),u=new a(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(f),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(l)),s.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),o.isub(u)):(r.isub(t),s.isub(i),u.isub(o))}return{a:s,b:u,gcd:r.iushln(c)}},a.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new a(1),s=new a(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0===(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,h=1;0===(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(s)):(r.isub(t),s.isub(o))}return(i=0===t.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new S(e)},a.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function k(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},k.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},k.prototype.split=function(e,t){e.iushrn(this.n,0,t)},k.prototype.imulK=function(e){return e.imul(this.k)},i(_,k),_.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,k),i(A,k),i(E,k),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new x;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return w[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new a(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var s=new a(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new a(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=o;0!==d.cmp(s);){for(var v=d,y=0;0!==v.cmp(s);y++)v=v.redSqr();n(y<p);var m=this.pow(l,new a(1).iushln(p-y-1));h=h.redMul(m),l=m.redSqr(),d=d.redMul(l),p=y}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new a(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[o]),s=0,o=0)):s=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new T(e)},i(T,S),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},79961:function(e,t,r){"use strict";var n=r(19778).Buffer,i=r(38416).default,a=r(27424).default,o=r(74704).default,s=r(56690).default,u=r(89728).default,c=r(61655).default,f=r(26389).default,l=r(33496).default,h=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},v=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&h(t,e,r);return d(t,e),t},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;var m=y(r(88654)),g=y(r(77239)),b=v(r(9344)),w=new("function"!==typeof r.g.TextDecoder?b.TextDecoder:r.g.TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),g.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(g.default.decode(e))};var k=1024,_=function(e){c(r,e);var t=f(r);function r(e){var n;return s(this,r),(n=t.call(this,e)).fieldPath=[],n.originalMessage=e,n}return u(r,[{key:"addToFieldPath",value:function(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}]),r}(l(Error));t.BorshError=_;var x=function(){function e(){s(this,e),this.buf=n.alloc(k),this.length=0}return u(e,[{key:"maybeResize",value:function(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(k)]))}},{key:"writeU8",value:function(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}},{key:"writeU16",value:function(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}},{key:"writeU32",value:function(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}},{key:"writeU64",value:function(e){this.maybeResize(),this.writeBuffer(n.from(new m.default(e).toArray("le",8)))}},{key:"writeU128",value:function(e){this.maybeResize(),this.writeBuffer(n.from(new m.default(e).toArray("le",16)))}},{key:"writeU256",value:function(e){this.maybeResize(),this.writeBuffer(n.from(new m.default(e).toArray("le",32)))}},{key:"writeU512",value:function(e){this.maybeResize(),this.writeBuffer(n.from(new m.default(e).toArray("le",64)))}},{key:"writeBuffer",value:function(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(k)]),this.length+=e.length}},{key:"writeString",value:function(e){this.maybeResize();var t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}},{key:"writeFixedArray",value:function(e){this.writeBuffer(n.from(e))}},{key:"writeArray",value:function(e,t){this.maybeResize(),this.writeU32(e.length);var r,n=o(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.maybeResize(),t(i)}}catch(a){n.e(a)}finally{n.f()}}},{key:"toArray",value:function(){return this.buf.subarray(0,this.length)}}]),e}();function A(e,t,r){var n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(a){if(a instanceof RangeError){var i=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(i)>=0)throw new _("Reached the end of buffer when deserializing")}throw a}}}t.BinaryWriter=x;var E=function(){function e(t){s(this,e),this.buf=t,this.offset=0}return u(e,[{key:"readU8",value:function(){var e=this.buf.readUInt8(this.offset);return this.offset+=1,e}},{key:"readU16",value:function(){var e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}},{key:"readU32",value:function(){var e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}},{key:"readU64",value:function(){var e=this.readBuffer(8);return new m.default(e,"le")}},{key:"readU128",value:function(){var e=this.readBuffer(16);return new m.default(e,"le")}},{key:"readU256",value:function(){var e=this.readBuffer(32);return new m.default(e,"le")}},{key:"readU512",value:function(){var e=this.readBuffer(64);return new m.default(e,"le")}},{key:"readBuffer",value:function(e){if(this.offset+e>this.buf.length)throw new _("Expected buffer length ".concat(e," isn't within bounds"));var t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"readString",value:function(){var e=this.readU32(),t=this.readBuffer(e);try{return w.decode(t)}catch(r){throw new _("Error decoding UTF-8 string: ".concat(r))}}},{key:"readFixedArray",value:function(e){return new Uint8Array(this.readBuffer(e))}},{key:"readArray",value:function(e){for(var t=this.readU32(),r=Array(),n=0;n<t;++n)r.push(e());return r}}]),e}();function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}function T(e,t,r,n,i){try{if("string"===typeof n)i["write".concat(S(n))](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new _("Expecting byte array of length ".concat(n[0],", but got ").concat(r.length," bytes"));i.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new _("Expecting byte array of length ".concat(n[1],", but got ").concat(r.length," bytes"));for(var a=0;a<n[1];a++)T(e,null,r[a],n[0],i)}else i.writeArray(r,(function(r){T(e,t,r,n[0],i)}));else if(void 0!==n.kind){if("option"!==n.kind)throw new _("FieldType ".concat(n," unrecognized"));null===r||void 0===r?i.writeU8(0):(i.writeU8(1),T(e,t,r,n.type,i))}else M(e,r,i)}catch(o){throw o instanceof _&&o.addToFieldPath(t),o}}function M(e,t,r){if("function"!==typeof t.borshSerialize){var n=e.get(t.constructor);if(!n)throw new _("Class ".concat(t.constructor.name," is missing in schema"));if("struct"===n.kind)n.fields.map((function(n){var i=a(n,2),o=i[0],s=i[1];T(e,o,t[o],s,r)}));else{if("enum"!==n.kind)throw new _("Unexpected schema kind: ".concat(n.kind," for ").concat(t.constructor.name));for(var i=t[n.field],o=0;o<n.values.length;++o){var s=a(n.values[o],2),u=s[0],c=s[1];if(u===i){r.writeU8(o),T(e,u,t[u],c,r);break}}}}else t.borshSerialize(r)}function P(e,t,r,n){try{if("string"===typeof r)return n["read".concat(S(r))]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){for(var i=[],a=0;a<r[1];a++)i.push(P(e,null,r[0],n));return i}return n.readArray((function(){return P(e,t,r[0],n)}))}return"option"===r.kind?n.readU8()?P(e,t,r.type,n):void 0:I(e,r,n)}catch(o){throw o instanceof _&&o.addToFieldPath(t),o}}function I(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);var n=e.get(t);if(!n)throw new _("Class ".concat(t.name," is missing in schema"));if("struct"===n.kind){var s,u={},c=o(e.get(t).fields);try{for(c.s();!(s=c.n()).done;){var f=a(s.value,2),l=f[0],h=f[1];u[l]=P(e,l,h,r)}}catch(m){c.e(m)}finally{c.f()}return new t(u)}if("enum"===n.kind){var d=r.readU8();if(d>=n.values.length)throw new _("Enum index: ".concat(d," is out of range"));var p=a(n.values[d],2),v=p[0],y=P(e,v,p[1],r);return new t(i({},v,y))}throw new _("Unexpected schema kind: ".concat(n.kind," for ").concat(t.constructor.name))}p([A],E.prototype,"readU8",null),p([A],E.prototype,"readU16",null),p([A],E.prototype,"readU32",null),p([A],E.prototype,"readU64",null),p([A],E.prototype,"readU128",null),p([A],E.prototype,"readU256",null),p([A],E.prototype,"readU512",null),p([A],E.prototype,"readString",null),p([A],E.prototype,"readFixedArray",null),p([A],E.prototype,"readArray",null),t.BinaryReader=E,t.serialize=function(e,t){var r=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:x);return M(e,t,r),r.toArray()},t.deserialize=function(e,t,r){var n=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:E)(r),i=I(e,t,n);if(n.offset<r.length)throw new _("Unexpected ".concat(r.length-n.offset," bytes after deserialized data"));return i},t.deserializeUnchecked=function(e,t,r){return I(e,t,new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:E)(r))}},88654:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function a(e,t,r){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(65308).Buffer}catch(M){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,i){for(var a=0,o=0,s=Math.min(e.length,r),u=t;u<s;u++){var c=e.charCodeAt(u)-48;a*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),a+=o}return a}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},a.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},a.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this._strip()},a.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,u=0,f=r;f<s;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var l=1;for(u=c(e,f,e.length,t),f=0;f<o;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){f(e,this)},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(M){a.prototype.inspect=l}else a.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);a=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==a||o!==this.length-1?h[6-u.length]+u+r:u+r}for(0!==a&&(r=a.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],f=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var v=l.modrn(f).toString(e);r=(l=l.idivn(f)).isZero()?v+r:h[c-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},o&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function v(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;f+=(o=(i=0|e.words[p])*(a=0|t.words[d])+l)/67108864|0,l=67108863&o}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}a.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},a.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===a?(r<e.length&&(e[r++]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===a?(r>=0&&(e[r--]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},a.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,f=0|o[0],l=8191&f,h=f>>>13,d=0|o[1],p=8191&d,v=d>>>13,y=0|o[2],m=8191&y,g=y>>>13,b=0|o[3],w=8191&b,k=b>>>13,_=0|o[4],x=8191&_,A=_>>>13,E=0|o[5],S=8191&E,T=E>>>13,M=0|o[6],P=8191&M,I=M>>>13,N=0|o[7],C=8191&N,O=N>>>13,R=0|o[8],B=8191&R,U=R>>>13,F=0|o[9],L=8191&F,j=F>>>13,D=0|s[0],K=8191&D,Z=D>>>13,q=0|s[1],H=8191&q,z=q>>>13,G=0|s[2],V=8191&G,J=G>>>13,W=0|s[3],Y=8191&W,Q=W>>>13,X=0|s[4],$=8191&X,ee=X>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,fe=0|s[8],le=8191&fe,he=fe>>>13,de=0|s[9],pe=8191&de,ve=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(c+(n=Math.imul(l,K))|0)+((8191&(i=(i=Math.imul(l,Z))+Math.imul(h,K)|0))<<13)|0;c=((a=Math.imul(h,Z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,K),i=(i=Math.imul(p,Z))+Math.imul(v,K)|0,a=Math.imul(v,Z);var me=(c+(n=n+Math.imul(l,H)|0)|0)+((8191&(i=(i=i+Math.imul(l,z)|0)+Math.imul(h,H)|0))<<13)|0;c=((a=a+Math.imul(h,z)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,K),i=(i=Math.imul(m,Z))+Math.imul(g,K)|0,a=Math.imul(g,Z),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,z)|0;var ge=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,J)|0)+Math.imul(h,V)|0))<<13)|0;c=((a=a+Math.imul(h,J)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,K),i=(i=Math.imul(w,Z))+Math.imul(k,K)|0,a=Math.imul(k,Z),n=n+Math.imul(m,H)|0,i=(i=i+Math.imul(m,z)|0)+Math.imul(g,H)|0,a=a+Math.imul(g,z)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,V)|0,a=a+Math.imul(v,J)|0;var be=(c+(n=n+Math.imul(l,Y)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(h,Y)|0))<<13)|0;c=((a=a+Math.imul(h,Q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(x,K),i=(i=Math.imul(x,Z))+Math.imul(A,K)|0,a=Math.imul(A,Z),n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,z)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,J)|0)+Math.imul(g,V)|0,a=a+Math.imul(g,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(v,Y)|0,a=a+Math.imul(v,Q)|0;var we=(c+(n=n+Math.imul(l,$)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(h,$)|0))<<13)|0;c=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,K),i=(i=Math.imul(S,Z))+Math.imul(T,K)|0,a=Math.imul(T,Z),n=n+Math.imul(x,H)|0,i=(i=i+Math.imul(x,z)|0)+Math.imul(A,H)|0,a=a+Math.imul(A,z)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(k,V)|0,a=a+Math.imul(k,J)|0,n=n+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,Q)|0)+Math.imul(g,Y)|0,a=a+Math.imul(g,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,$)|0,a=a+Math.imul(v,ee)|0;var ke=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((a=a+Math.imul(h,ne)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(P,K),i=(i=Math.imul(P,Z))+Math.imul(I,K)|0,a=Math.imul(I,Z),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,z)|0)+Math.imul(T,H)|0,a=a+Math.imul(T,z)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(A,V)|0,a=a+Math.imul(A,J)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,Q)|0,n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(v,re)|0,a=a+Math.imul(v,ne)|0;var _e=(c+(n=n+Math.imul(l,ae)|0)|0)+((8191&(i=(i=i+Math.imul(l,oe)|0)+Math.imul(h,ae)|0))<<13)|0;c=((a=a+Math.imul(h,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(C,K),i=(i=Math.imul(C,Z))+Math.imul(O,K)|0,a=Math.imul(O,Z),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,z)|0)+Math.imul(I,H)|0,a=a+Math.imul(I,z)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(T,V)|0,a=a+Math.imul(T,J)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,Q)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(g,re)|0,a=a+Math.imul(g,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,oe)|0;var xe=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((a=a+Math.imul(h,ce)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,K),i=(i=Math.imul(B,Z))+Math.imul(U,K)|0,a=Math.imul(U,Z),n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(O,H)|0,a=a+Math.imul(O,z)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(I,V)|0,a=a+Math.imul(I,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(T,Y)|0,a=a+Math.imul(T,Q)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,$)|0,a=a+Math.imul(A,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(k,re)|0,a=a+Math.imul(k,ne)|0,n=n+Math.imul(m,ae)|0,i=(i=i+Math.imul(m,oe)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,he)|0)+Math.imul(h,le)|0))<<13)|0;c=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,Z))+Math.imul(j,K)|0,a=Math.imul(j,Z),n=n+Math.imul(B,H)|0,i=(i=i+Math.imul(B,z)|0)+Math.imul(U,H)|0,a=a+Math.imul(U,z)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(O,V)|0,a=a+Math.imul(O,J)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(I,Y)|0,a=a+Math.imul(I,Q)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,a=a+Math.imul(A,ne)|0,n=n+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,oe)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,ce)|0)+Math.imul(g,ue)|0,a=a+Math.imul(g,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(v,le)|0,a=a+Math.imul(v,he)|0;var Ee=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ve)|0)+Math.imul(h,pe)|0))<<13)|0;c=((a=a+Math.imul(h,ve)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,H),i=(i=Math.imul(L,z))+Math.imul(j,H)|0,a=Math.imul(j,z),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,J)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,$)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(T,re)|0,a=a+Math.imul(T,ne)|0,n=n+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,oe)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,ce)|0,n=n+Math.imul(m,le)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(g,le)|0,a=a+Math.imul(g,he)|0;var Se=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;c=((a=a+Math.imul(v,ve)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,J))+Math.imul(j,V)|0,a=Math.imul(j,J),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,Q)|0)+Math.imul(U,Y)|0,a=a+Math.imul(U,Q)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,$)|0,a=a+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(T,ae)|0,a=a+Math.imul(T,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,ce)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(k,le)|0,a=a+Math.imul(k,he)|0;var Te=(c+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ve)|0)+Math.imul(g,pe)|0))<<13)|0;c=((a=a+Math.imul(g,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,Y),i=(i=Math.imul(L,Q))+Math.imul(j,Y)|0,a=Math.imul(j,Q),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(U,$)|0,a=a+Math.imul(U,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,a=a+Math.imul(O,ne)|0,n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(T,ue)|0,a=a+Math.imul(T,ce)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(A,le)|0,a=a+Math.imul(A,he)|0;var Me=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ve)|0)+Math.imul(k,pe)|0))<<13)|0;c=((a=a+Math.imul(k,ve)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,ee))+Math.imul(j,$)|0,a=Math.imul(j,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(U,re)|0,a=a+Math.imul(U,ne)|0,n=n+Math.imul(C,ae)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(O,ae)|0,a=a+Math.imul(O,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(I,ue)|0,a=a+Math.imul(I,ce)|0,n=n+Math.imul(S,le)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(T,le)|0,a=a+Math.imul(T,he)|0;var Pe=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ve)|0)+Math.imul(A,pe)|0))<<13)|0;c=((a=a+Math.imul(A,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(j,re)|0,a=Math.imul(j,ne),n=n+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,oe)|0)+Math.imul(U,ae)|0,a=a+Math.imul(U,oe)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,a=a+Math.imul(O,ce)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,le)|0,a=a+Math.imul(I,he)|0;var Ie=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(T,pe)|0))<<13)|0;c=((a=a+Math.imul(T,ve)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(L,ae),i=(i=Math.imul(L,oe))+Math.imul(j,ae)|0,a=Math.imul(j,oe),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(U,ue)|0,a=a+Math.imul(U,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(O,le)|0,a=a+Math.imul(O,he)|0;var Ne=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(I,pe)|0))<<13)|0;c=((a=a+Math.imul(I,ve)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(j,ue)|0,a=Math.imul(j,ce),n=n+Math.imul(B,le)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(U,le)|0,a=a+Math.imul(U,he)|0;var Ce=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ve)|0)+Math.imul(O,pe)|0))<<13)|0;c=((a=a+Math.imul(O,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,he))+Math.imul(j,le)|0,a=Math.imul(j,he);var Oe=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ve)|0)+Math.imul(U,pe)|0))<<13)|0;c=((a=a+Math.imul(U,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Re=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,ve))+Math.imul(j,pe)|0))<<13)|0;return c=((a=Math.imul(j,ve))+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,u[0]=ye,u[1]=me,u[2]=ge,u[3]=be,u[4]=we,u[5]=ke,u[6]=_e,u[7]=xe,u[8]=Ae,u[9]=Ee,u[10]=Se,u[11]=Te,u[12]=Me,u[13]=Pe,u[14]=Ie,u[15]=Ne,u[16]=Ce,u[17]=Oe,u[18]=Re,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var f=a-c,l=(0|e.words[f])*(0|t.words[c]),h=67108863&l;s=67108863&(h=h+s|0),i+=(o=(o=o+(l/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r._strip()}function g(e,t,r){return m(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(y=v),a.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?v(this,e,t):r<1024?m(this,e,t):g(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=a.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},b.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var l=u,h=c,d=0;d<o;d++){var p=r[f+d],v=n[f+d],y=r[f+d+o],m=n[f+d+o],g=l*y-h*m;m=l*m+h*y,y=g,r[f+d]=p+y,n[f+d]=v+m,r[f+d+o]=p-y,n[f+d+o]=v-m,d!==s&&(g=u*l-c*h,h=u*h+c*l,l=g)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0===(-8192&a))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,f,l,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,h,a,n,i),this.conjugate(h,a,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),g(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,o=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new a(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},a.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},a.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-a|l>>>a,f=l&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},a.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==t){(s=new a(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);s&&(s.words[l]=h)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},a.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(r*i+(0|this.words[a]))%e;return t?-i:i},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*r;this.words[i]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),u=new a(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(f),o.isub(l)),i.iushrn(1),o.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(l)),s.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),o.isub(u)):(r.isub(t),s.isub(i),u.isub(o))}return{a:s,b:u,gcd:r.iushln(c)}},a.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new a(1),s=new a(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0===(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var l=0,h=1;0===(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(s)):(r.isub(t),s.isub(o))}return(i=0===t.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new S(e)},a.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function k(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},k.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},k.prototype.split=function(e,t){e.iushrn(this.n,0,t)},k.prototype.imulK=function(e){return e.imul(this.k)},i(_,k),_.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,k),i(A,k),i(E,k),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new x;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return w[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new a(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var s=new a(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new a(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=o;0!==d.cmp(s);){for(var v=d,y=0;0!==v.cmp(s);y++)v=v.redSqr();n(y<p);var m=this.pow(l,new a(1).iushln(p-y-1));h=h.redMul(m),l=m.redSqr(),d=d.redMul(l),p=y}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new a(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==o?(o<<=1,o|=l,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[o]),s=0,o=0)):s=0}u=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new T(e)},i(T,S),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},77239:function(e,t,r){var n=r(12307);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},89184:function(e,t,r){"use strict";var n,i=r(27775)("http-errors"),a=r(67354),o=r(8269),s=r(12534),u=r(22884);function c(e){return Number(String(e).charAt(0)+"00")}function f(e,t){var r=Object.getOwnPropertyDescriptor(e,"name");r&&r.configurable&&(r.value=t,Object.defineProperty(e,"name",r))}function l(e){return"Error"!==e.substr(-5)?e+"Error":e}e.exports=function e(){for(var t,r,n=500,a={},s=0;s<arguments.length;s++){var u=arguments[s];if(u instanceof Error)n=(t=u).status||t.statusCode||n;else switch(typeof u){case"string":r=u;break;case"number":n=u,0!==s&&i("non-first-argument status code; replace with createError("+u+", ...)");break;case"object":a=u}}"number"===typeof n&&(n<400||n>=600)&&i("non-error status code; use only 4xx or 5xx status codes");("number"!==typeof n||!o[n]&&(n<400||n>=600))&&(n=500);var f=e[n]||e[c(n)];t||(t=f?new f(r):new Error(r||o[n]),Error.captureStackTrace(t,e));f&&t instanceof f&&t.status===n||(t.expose=n<500,t.status=t.statusCode=n);for(var l in a)"status"!==l&&"statusCode"!==l&&(t[l]=a[l]);return t},e.exports.HttpError=function(){function e(){throw new TypeError("cannot construct abstract class")}return s(e,Error),e}(),e.exports.isHttpError=(n=e.exports.HttpError,function(e){return!(!e||"object"!==typeof e)&&(e instanceof n||e instanceof Error&&"boolean"===typeof e.expose&&"number"===typeof e.statusCode&&e.status===e.statusCode)}),function(e,t,r){t.forEach((function(t){var n,i=u(o[t]);switch(c(t)){case 400:n=function(e,t,r){var n=l(t);function i(e){var t=null!=e?e:o[r],s=new Error(t);return Error.captureStackTrace(s,i),a(s,i.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return s(i,e),f(i,n),i.prototype.status=r,i.prototype.statusCode=r,i.prototype.expose=!0,i}(r,i,t);break;case 500:n=function(e,t,r){var n=l(t);function i(e){var t=null!=e?e:o[r],s=new Error(t);return Error.captureStackTrace(s,i),a(s,i.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return s(i,e),f(i,n),i.prototype.status=r,i.prototype.statusCode=r,i.prototype.expose=!1,i}(r,i,t)}n&&(e[t]=n,e[i]=n)})),e["I'mateapot"]=i.function(e.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(e.exports,o.codes,e.exports.HttpError)},27775:function(e){"use strict";function t(e,t){if("function"!==typeof e)throw new TypeError("argument fn must be a function");return e}function r(e,t,r){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");function n(e){}return n._file=void 0,n._ignored=!0,n._namespace=e,n._traced=!1,n._warned=Object.create(null),n.function=t,n.property=r,n}},8269:function(e,t,r){"use strict";var n=r(10798);function i(e){if("number"===typeof e){if(!i[e])throw new Error("invalid status code: "+e);return e}if("string"!==typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);if(!isNaN(t)){if(!i[t])throw new Error("invalid status code: "+t);return t}if(!(t=i[e.toLowerCase()]))throw new Error('invalid status message: "'+e+'"');return t}e.exports=i,i.STATUS_CODES=n,i.codes=function(e,t){var r=[];return Object.keys(t).forEach((function(n){var i=t[n],a=Number(n);e[a]=i,e[i]=a,e[i.toLowerCase()]=a,r.push(a)})),r}(i,n),i.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},i.empty={204:!0,205:!0,304:!0},i.retry={502:!0,503:!0,504:!0}},24381:function(e,t,r){r(94057),e.exports=r(63905)},38937:function(e){var t=function e(){var t=Object.create({Source:Object,config:{},buildArgs:[]});function r(e){var r="config";if(e instanceof Function)r="Source";else if(e instanceof Array)r="buildArgs";else{if(!(e instanceof Object))throw new Error("Invalid configuration option.");r="config"}if(t.hasOwnProperty(r))throw new Error("Duplicated configuration option: "+r+".");t[r]=e}for(var n=0,i=arguments.length;n<i;++n)r(arguments[n]);var a=t.Source,o=t.config,s=t.buildArgs;return(a.extend||e.extend).call(a,o,s)};t.factory=function(){return function(){var e=this;e.build instanceof Function&&e.build.apply(e,arguments),e.init instanceof Function&&e.init.apply(e,arguments)}},t.extend=function(e,r){var n,i=this;return e||(e={}),e.prototype instanceof Object&&e.prototype.constructor!==Object?n=e.prototype.constructor:e.factory instanceof Function&&(n=e.factory.call(i)),((n=(i.clone||t.clone).call(i,n,r)).merge||t.merge).call(n,e),n},t.prototype.extend=function(e,r){var n=(this.clone||t.prototype.clone).apply(this,r);return(n.merge||t.prototype.merge).call(n,e),n},t.clone=function(e,r){var n=this;for(var i in e instanceof Function||(e=(n.factory||t.factory).call(n)),e.prototype=(n.prototype.clone||t.prototype.clone).apply(n.prototype,r||[]),e.prototype.constructor=e,n)"prototype"!==i&&(e[i]=n[i]);return e},t.prototype.clone=function(){var e=Object.create(this);return e.build instanceof Function&&e.build.apply(e,arguments),e},t.merge=function(e){var r=this;for(var n in e)"prototype"!==n&&(r[n]=e[n]);return e.prototype instanceof Object&&(r.prototype.merge||t.prototype.merge).call(r.prototype,e.prototype),r},t.prototype.merge=function(e){for(var t in e)"constructor"!==t&&(this[t]=e[t]);return this},t.absorb=function(e){var r=this;for(var n in e)"prototype"===n||void 0!==r[n]&&r[n]!==Function.prototype[n]||(r[n]=e[n]);return e.prototype instanceof Object&&(r.prototype.absorb||t.prototype.absorb).call(r.prototype,e.prototype),r},t.prototype.absorb=function(e){var t=this;for(var r in e)"constructor"===r||void 0!==t[r]&&t[r]!==Object.prototype[r]||(t[r]=e[r]);return t},t.getAncestor=function(){var e=this;if(e!==e.prototype.constructor)return e.prototype.constructor},t.newInstance=function(){var e=Object.create(this.prototype);return this.apply(e,arguments),e},e.exports=t},85714:function(e){e.exports=function(){throw new Error("Not implemented.")}},63905:function(e,t,r){e.exports={Class:r(38937),abstractMethod:r(85714)}},99158:function(e,t,r){e.exports=r(95509)},95509:function(e,t,r){var n=r(1500);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"===typeof e[i]&&n.push(i);for(var a=0;a<n.length;a++){var o=n[a],s=e[o];e[o]=function(n){var i=t.operation(r),a=Array.prototype.slice.call(arguments,1),o=a.pop();a.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(e,a)}))}.bind(e,s),e[o].options=r}}},1500:function(e){function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=r&&(t=i,r=o)}return t}},12065:function(e){"use strict";!function(t){var r=2147483647;function n(e){var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=1779033703,n=3144134277,i=1013904242,a=2773480762,o=1359893119,s=2600822924,u=528734635,c=1541459225,f=new Uint32Array(64);function l(e){for(var l=0,h=e.length;h>=64;){var d=r,p=n,v=i,y=a,m=o,g=s,b=u,w=c,k=void 0,_=void 0,x=void 0,A=void 0,E=void 0;for(_=0;_<16;_++)x=l+4*_,f[_]=(255&e[x])<<24|(255&e[x+1])<<16|(255&e[x+2])<<8|255&e[x+3];for(_=16;_<64;_++)A=((k=f[_-2])>>>17|k<<15)^(k>>>19|k<<13)^k>>>10,E=((k=f[_-15])>>>7|k<<25)^(k>>>18|k<<14)^k>>>3,f[_]=(A+f[_-7]|0)+(E+f[_-16]|0)|0;for(_=0;_<64;_++)A=(((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&b)|0)+(w+(t[_]+f[_]|0)|0)|0,E=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&p^d&v^p&v)|0,w=b,b=g,g=m,m=y+A|0,y=v,v=p,p=d,d=A+E|0;r=r+d|0,n=n+p|0,i=i+v|0,a=a+y|0,o=o+m|0,s=s+g|0,u=u+b|0,c=c+w|0,l+=64,h-=64}}l(e);var h,d=e.length%64,p=e.length/536870912|0,v=e.length<<3,y=d<56?56:120,m=e.slice(e.length-d,e.length);for(m.push(128),h=d+1;h<y;h++)m.push(0);return m.push(p>>>24&255),m.push(p>>>16&255),m.push(p>>>8&255),m.push(p>>>0&255),m.push(v>>>24&255),m.push(v>>>16&255),m.push(v>>>8&255),m.push(v>>>0&255),l(m),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);var i,a=64+t.length+4,o=new Array(a),s=new Array(64),u=[];for(i=0;i<64;i++)o[i]=54;for(i=0;i<e.length;i++)o[i]^=e[i];for(i=0;i<t.length;i++)o[64+i]=t[i];for(i=a-4;i<a;i++)o[i]=0;for(i=0;i<64;i++)s[i]=92;for(i=0;i<e.length;i++)s[i]^=e[i];function c(){for(var e=a-1;e>=a-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;r>=32;)c(),u=u.concat(n(s.concat(n(o)))),r-=32;return r>0&&(c(),u=u.concat(n(s.concat(n(o))).slice(0,r))),u}function a(e,t,r,n,i){var a;for(c(e,16*(2*r-1),i,0,16),a=0;a<2*r;a++)u(e,16*a,i,16),s(i,n),c(i,0,e,t+16*a,16);for(a=0;a<r;a++)c(e,t+2*a*16,e,16*a,16);for(a=0;a<r;a++)c(e,t+16*(2*a+1),e,16*(a+r),16)}function o(e,t){return e<<t|e>>>32-t}function s(e,t){c(e,0,t,0,16);for(var r=8;r>0;r-=2)t[4]^=o(t[0]+t[12],7),t[8]^=o(t[4]+t[0],9),t[12]^=o(t[8]+t[4],13),t[0]^=o(t[12]+t[8],18),t[9]^=o(t[5]+t[1],7),t[13]^=o(t[9]+t[5],9),t[1]^=o(t[13]+t[9],13),t[5]^=o(t[1]+t[13],18),t[14]^=o(t[10]+t[6],7),t[2]^=o(t[14]+t[10],9),t[6]^=o(t[2]+t[14],13),t[10]^=o(t[6]+t[2],18),t[3]^=o(t[15]+t[11],7),t[7]^=o(t[3]+t[15],9),t[11]^=o(t[7]+t[3],13),t[15]^=o(t[11]+t[7],18),t[1]^=o(t[0]+t[3],7),t[2]^=o(t[1]+t[0],9),t[3]^=o(t[2]+t[1],13),t[0]^=o(t[3]+t[2],18),t[6]^=o(t[5]+t[4],7),t[7]^=o(t[6]+t[5],9),t[4]^=o(t[7]+t[6],13),t[5]^=o(t[4]+t[7],18),t[11]^=o(t[10]+t[9],7),t[8]^=o(t[11]+t[10],9),t[9]^=o(t[8]+t[11],13),t[10]^=o(t[9]+t[8],18),t[12]^=o(t[15]+t[14],7),t[13]^=o(t[12]+t[15],9),t[14]^=o(t[13]+t[12],13),t[15]^=o(t[14]+t[13],18);for(var n=0;n<16;++n)e[n]+=t[n]}function u(e,t,r,n){for(var i=0;i<n;i++)r[i]^=e[t+i]}function c(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function f(e){if(!e||"number"!==typeof e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if("number"!==typeof r||r%1||r<0||r>=256)return!1}return!0}function l(e,t){if("number"!==typeof e||e%1)throw new Error("invalid "+t);return e}function h(e,t,n,o,s,h,d){if(n=l(n,"N"),o=l(o,"r"),s=l(s,"p"),h=l(h,"dkLen"),0===n||0!==(n&n-1))throw new Error("N must be power of 2");if(n>r/128/o)throw new Error("N too large");if(o>r/128/s)throw new Error("r too large");if(!f(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!f(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);for(var p=i(e,t,128*s*o),v=new Uint32Array(32*s*o),y=0;y<v.length;y++){var m=4*y;v[y]=(255&p[m+3])<<24|(255&p[m+2])<<16|(255&p[m+1])<<8|(255&p[m+0])<<0}var g,b,w=new Uint32Array(64*o),k=new Uint32Array(32*o*n),_=32*o,x=new Uint32Array(16),A=new Uint32Array(16),E=s*n*2,S=0,T=null,M=!1,P=0,I=0,N=d?parseInt(1e3/o):4294967295,C="undefined"!==typeof setImmediate?setImmediate:setTimeout,O=function t(){if(M)return d(new Error("cancelled"),S/E);var r;switch(P){case 0:c(v,b=32*I*o,w,0,_),P=1,g=0;case 1:(r=n-g)>N&&(r=N);for(var f=0;f<r;f++)c(w,0,k,(g+f)*_,_),a(w,_,o,x,A);if(g+=r,S+=r,d){var l=parseInt(1e3*S/E);if(l!==T){if(M=d(null,S/E))break;T=l}}if(g<n)break;g=0,P=2;case 2:(r=n-g)>N&&(r=N);for(var y=0;y<r;y++){var m=w[16*(2*o-1)]&n-1;u(k,m*_,w,_),a(w,_,o,x,A)}if(g+=r,S+=r,d){var O=parseInt(1e3*S/E);if(O!==T){if(M=d(null,S/E))break;T=O}}if(g<n)break;if(c(w,0,v,b,_),++I<s){P=0;break}p=[];for(var R=0;R<v.length;R++)p.push(v[R]>>0&255),p.push(v[R]>>8&255),p.push(v[R]>>16&255),p.push(v[R]>>24&255);var B=i(e,p,h);return d&&d(null,1,B),B}d&&C(t)};if(!d)for(;;){var R=O();if(void 0!=R)return R}O()}var d={scrypt:function(e,t,r,n,i,a,o){return new Promise((function(s,u){var c=0;o&&o(0),h(e,t,r,n,i,a,(function(e,t,r){if(e)u(e);else if(r)o&&1!==c&&o(1),s(new Uint8Array(r));else if(o&&t!==c)return c=t,o(t)}))}))},syncScrypt:function(e,t,r,n,i,a){return new Uint8Array(h(e,t,r,n,i,a))}};e.exports=d}()},71113:function(e,t,r){e.exports=r(42899)(r(34513))},34513:function(e,t,r){var n=new(0,r(6289).ec)("secp256k1"),i=n.curve,a=i.n.constructor;function o(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new a(t);if(r.cmp(i.p)>=0)return null;var o=(r=r.toRed(i.red)).redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==o.isOdd()&&(o=o.redNeg()),n.keyPair({pub:{x:r,y:o}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var o=new a(t),s=new a(r);if(o.cmp(i.p)>=0||s.cmp(i.p)>=0)return null;if(o=o.toRed(i.red),s=s.toRed(i.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;var u=o.redSqr().redIMul(o);return s.redSqr().redISub(u.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:o,y:s}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function s(e,t){for(var r=t.encode(null,33===e.length),n=0;n<e.length;++n)e[n]=r[n]}e.exports={contextRandomize:function(){return 0},privateKeyVerify:function(e){var t=new a(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate:function(e){var t=new a(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd:function(e,t){var r=new a(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new a(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul:function(e,t){var r=new a(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new a(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:function(e){return null===o(e)?1:0},publicKeyCreate:function(e,t){var r=new a(t);return r.cmp(i.n)>=0||r.isZero()?1:(s(e,n.keyFromPrivate(t).getPublic()),0)},publicKeyConvert:function(e,t){var r=o(t);return null===r?1:(s(e,r.getPublic()),0)},publicKeyNegate:function(e,t){var r=o(t);if(null===r)return 1;var n=r.getPublic();return n.y=n.y.redNeg(),s(e,n),0},publicKeyCombine:function(e,t){for(var r=new Array(t.length),n=0;n<t.length;++n)if(r[n]=o(t[n]),null===r[n])return 1;for(var i=r[0].getPublic(),a=1;a<r.length;++a)i=i.add(r[a].pub);return i.isInfinity()?2:(s(e,i),0)},publicKeyTweakAdd:function(e,t,r){var n=o(t);if(null===n)return 1;if((r=new a(r)).cmp(i.n)>=0)return 2;var u=n.getPublic().add(i.g.mul(r));return u.isInfinity()?2:(s(e,u),0)},publicKeyTweakMul:function(e,t,r){var n=o(t);return null===n?1:(r=new a(r)).cmp(i.n)>=0||r.isZero()?2:(s(e,n.getPublic().mul(r)),0)},signatureNormalize:function(e){var t=new a(e.subarray(0,32)),r=new a(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport:function(e,t){var r=t.subarray(0,32),n=t.subarray(32,64);if(new a(r).cmp(i.n)>=0)return 1;if(new a(n).cmp(i.n)>=0)return 1;var o=e.output,s=o.subarray(4,37);s[0]=0,s.set(r,1);for(var u=33,c=0;u>1&&0===s[c]&&!(128&s[c+1]);--u,++c);if(128&(s=s.subarray(c))[0])return 1;if(u>1&&0===s[0]&&!(128&s[1]))return 1;var f=o.subarray(39,72);f[0]=0,f.set(n,1);for(var l=33,h=0;l>1&&0===f[h]&&!(128&f[h+1]);--l,++h);return 128&(f=f.subarray(h))[0]||l>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+u+l,o[0]=48,o[1]=e.outputlen-2,o[2]=2,o[3]=s.length,o.set(s,4),o[4+u]=2,o[5+u]=f.length,o.set(f,6+u),0)},signatureImport:function(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;var r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;var n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;var o=t.subarray(4,4+r);if(33===o.length&&0===o[0]&&(o=o.subarray(1)),o.length>32)return 1;var s=t.subarray(6+r);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");var u=new a(o);u.cmp(i.n)>=0&&(u=new a(0));var c=new a(t.subarray(6+r));return c.cmp(i.n)>=0&&(c=new a(0)),e.set(u.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign:function(e,t,r,o,s){if(s){var u=s;s=function(e){var n=u(t,r,null,o,e);if(!(n instanceof Uint8Array&&32===n.length))throw new Error("This is the way");return new a(n)}}var c,f=new a(r);if(f.cmp(i.n)>=0||f.isZero())return 1;try{c=n.sign(t,r,{canonical:!0,k:s,pers:o})}catch(l){return 1}return e.signature.set(c.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(c.s.toArrayLike(Uint8Array,"be",32),32),e.recid=c.recoveryParam,0},ecdsaVerify:function(e,t,r){var s={r:e.subarray(0,32),s:e.subarray(32,64)},u=new a(s.r),c=new a(s.s);if(u.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(1===c.cmp(n.nh)||u.isZero()||c.isZero())return 3;var f=o(r);if(null===f)return 2;var l=f.getPublic();return n.verify(t,s,l)?0:3},ecdsaRecover:function(e,t,r,o){var u,c={r:t.slice(0,32),s:t.slice(32,64)},f=new a(c.r),l=new a(c.s);if(f.cmp(i.n)>=0||l.cmp(i.n)>=0)return 1;if(f.isZero()||l.isZero())return 2;try{u=n.recoverPubKey(o,c,r)}catch(h){return 2}return s(e,u),0},ecdh:function(e,t,r,s,u,c,f){var l=o(t);if(null===l)return 1;var h=new a(r);if(h.cmp(i.n)>=0||h.isZero())return 2;var d=l.getPublic().mul(h);if(void 0===u)for(var p=d.encode(null,!0),v=n.hash().update(p).digest(),y=0;y<32;++y)e[y]=v[y];else{c||(c=new Uint8Array(32));for(var m=d.getX().toArray("be",32),g=0;g<32;++g)c[g]=m[g];f||(f=new Uint8Array(32));for(var b=d.getY().toArray("be",32),w=0;w<32;++w)f[w]=b[w];var k=u(c,f,s);if(!(k instanceof Uint8Array&&k.length===e.length))return 2;e.set(k)}return 0}}},42899:function(e,t,r){var n=r(74704).default,i="Impossible case. Please create issue.",a="The tweak was out of range or the resulted private key is invalid",o="The tweak was out of range or equal to zero",s="Unknow error on context randomization",u="Private Key is invalid",c="Public Key could not be parsed",f="Public Key serialization error",l="The sum of the public keys is not valid",h="Signature could not be parsed",d="The nonce generation function failed, or the private key was invalid",p="Public key could not be recover",v="Scalar was invalid (zero or overflow)";function y(e,t){if(!e)throw new Error(t)}function m(e,t,r){if(y(t instanceof Uint8Array,"Expected ".concat(e," to be an Uint8Array")),void 0!==r)if(Array.isArray(r)){var n=r.join(", "),i="Expected ".concat(e," to be an Uint8Array with length [").concat(n,"]");y(r.includes(t.length),i)}else{var a="Expected ".concat(e," to be an Uint8Array with length ").concat(r);y(t.length===r,a)}}function g(e){y("Boolean"===w(e),"Expected compressed to be a Boolean")}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return new Uint8Array(e)},t=arguments.length>1?arguments[1]:void 0;return"function"===typeof e&&(e=e(t)),m("output",e,t),e}function w(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=function(e){return{contextRandomize:function(t){if(y(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&m("seed",t,32),1===e.contextRandomize(t))throw new Error(s)},privateKeyVerify:function(t){return m("private key",t,32),0===e.privateKeyVerify(t)},privateKeyNegate:function(t){switch(m("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(i)}},privateKeyTweakAdd:function(t,r){switch(m("private key",t,32),m("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(a)}},privateKeyTweakMul:function(t,r){switch(m("private key",t,32),m("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(o)}},publicKeyVerify:function(t){return m("public key",t,[33,65]),0===e.publicKeyVerify(t)},publicKeyCreate:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(m("private key",t,32),g(r),n=b(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(u);case 2:throw new Error(f)}},publicKeyConvert:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(m("public key",t,[33,65]),g(r),n=b(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(f)}},publicKeyNegate:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(m("public key",t,[33,65]),g(r),n=b(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(i);case 3:throw new Error(f)}},publicKeyCombine:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;y(Array.isArray(t),"Expected public keys to be an Array"),y(t.length>0,"Expected public keys array will have more than zero items");var a,o=n(t);try{for(o.s();!(a=o.n()).done;){m("public key",a.value,[33,65])}}catch(s){o.e(s)}finally{o.f()}switch(g(r),i=b(i,r?33:65),e.publicKeyCombine(i,t)){case 0:return i;case 1:throw new Error(c);case 2:throw new Error(l);case 3:throw new Error(f)}},publicKeyTweakAdd:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(m("public key",t,[33,65]),m("tweak",r,32),g(n),i=b(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(c);case 2:throw new Error(a)}},publicKeyTweakMul:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(m("public key",t,[33,65]),m("tweak",r,32),g(n),i=b(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(c);case 2:throw new Error(o)}},signatureNormalize:function(t){switch(m("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(h)}},signatureExport:function(t,r){m("signature",t,64);var n={output:r=b(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(h);case 2:throw new Error(i)}},signatureImport:function(t,r){switch(m("signature",t),r=b(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(h);case 2:throw new Error(i)}},ecdsaSign:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;m("message",t,32),m("private key",r,32),y("Object"===w(n),"Expected options to be an Object"),void 0!==n.data&&m("options.data",n.data),void 0!==n.noncefn&&y("Function"===w(n.noncefn),"Expected options.noncefn to be a Function");var o={signature:a=b(a,64),recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(d);case 2:throw new Error(i)}},ecdsaVerify:function(t,r,n){switch(m("signature",t,64),m("message",r,32),m("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(h);case 2:throw new Error(c)}},ecdsaRecover:function(t,r,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0;switch(m("signature",t,64),y("Number"===w(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),m("message",n,32),g(a),o=b(o,a?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(h);case 2:throw new Error(p);case 3:throw new Error(i)}},ecdh:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;switch(m("public key",t,[33,65]),m("private key",r,32),y("Object"===w(n),"Expected options to be an Object"),void 0!==n.data&&m("options.data",n.data),void 0!==n.hashfn?(y("Function"===w(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&m("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&m("options.ybuf",n.ybuf,32),m("output",i)):i=b(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(c);case 2:throw new Error(v)}}}}},67354:function(e){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e})},22884:function(e){"use strict";e.exports=function(e){return e.split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}},2826:function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var o=t(),s=t([1]),u=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function v(e,t,r,n,i){var a,o=0;for(a=0;a<i;a++)o|=e[t+a]^r[n+a];return(1&o-1>>>8)-1}function y(e,t,r,n){return v(e,t,r,n,16)}function m(e,t,r,n){return v(e,t,r,n,32)}function g(e,t,r,n){!function(e,t,r,n){for(var i,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,k=a,_=o,x=s,A=u,E=c,S=f,T=l,M=h,P=d,I=p,N=v,C=y,O=m,R=g,B=b,U=w,F=0;F<20;F+=2)k^=(i=(O^=(i=(P^=(i=(E^=(i=k+O|0)<<7|i>>>25)+k|0)<<9|i>>>23)+E|0)<<13|i>>>19)+P|0)<<18|i>>>14,S^=(i=(_^=(i=(R^=(i=(I^=(i=S+_|0)<<7|i>>>25)+S|0)<<9|i>>>23)+I|0)<<13|i>>>19)+R|0)<<18|i>>>14,N^=(i=(T^=(i=(x^=(i=(B^=(i=N+T|0)<<7|i>>>25)+N|0)<<9|i>>>23)+B|0)<<13|i>>>19)+x|0)<<18|i>>>14,U^=(i=(C^=(i=(M^=(i=(A^=(i=U+C|0)<<7|i>>>25)+U|0)<<9|i>>>23)+A|0)<<13|i>>>19)+M|0)<<18|i>>>14,k^=(i=(A^=(i=(x^=(i=(_^=(i=k+A|0)<<7|i>>>25)+k|0)<<9|i>>>23)+_|0)<<13|i>>>19)+x|0)<<18|i>>>14,S^=(i=(E^=(i=(M^=(i=(T^=(i=S+E|0)<<7|i>>>25)+S|0)<<9|i>>>23)+T|0)<<13|i>>>19)+M|0)<<18|i>>>14,N^=(i=(I^=(i=(P^=(i=(C^=(i=N+I|0)<<7|i>>>25)+N|0)<<9|i>>>23)+C|0)<<13|i>>>19)+P|0)<<18|i>>>14,U^=(i=(B^=(i=(R^=(i=(O^=(i=U+B|0)<<7|i>>>25)+U|0)<<9|i>>>23)+O|0)<<13|i>>>19)+R|0)<<18|i>>>14;k=k+a|0,_=_+o|0,x=x+s|0,A=A+u|0,E=E+c|0,S=S+f|0,T=T+l|0,M=M+h|0,P=P+d|0,I=I+p|0,N=N+v|0,C=C+y|0,O=O+m|0,R=R+g|0,B=B+b|0,U=U+w|0,e[0]=k>>>0&255,e[1]=k>>>8&255,e[2]=k>>>16&255,e[3]=k>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=M>>>0&255,e[29]=M>>>8&255,e[30]=M>>>16&255,e[31]=M>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=I>>>0&255,e[37]=I>>>8&255,e[38]=I>>>16&255,e[39]=I>>>24&255,e[40]=N>>>0&255,e[41]=N>>>8&255,e[42]=N>>>16&255,e[43]=N>>>24&255,e[44]=C>>>0&255,e[45]=C>>>8&255,e[46]=C>>>16&255,e[47]=C>>>24&255,e[48]=O>>>0&255,e[49]=O>>>8&255,e[50]=O>>>16&255,e[51]=O>>>24&255,e[52]=R>>>0&255,e[53]=R>>>8&255,e[54]=R>>>16&255,e[55]=R>>>24&255,e[56]=B>>>0&255,e[57]=B>>>8&255,e[58]=B>>>16&255,e[59]=B>>>24&255,e[60]=U>>>0&255,e[61]=U>>>8&255,e[62]=U>>>16&255,e[63]=U>>>24&255}(e,t,r,n)}function b(e,t,r,n){!function(e,t,r,n){for(var i,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,k=0;k<20;k+=2)a^=(i=(m^=(i=(d^=(i=(c^=(i=a+m|0)<<7|i>>>25)+a|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,f^=(i=(o^=(i=(g^=(i=(p^=(i=f+o|0)<<7|i>>>25)+f|0)<<9|i>>>23)+p|0)<<13|i>>>19)+g|0)<<18|i>>>14,v^=(i=(l^=(i=(s^=(i=(b^=(i=v+l|0)<<7|i>>>25)+v|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(y^=(i=(h^=(i=(u^=(i=w+y|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,a^=(i=(u^=(i=(s^=(i=(o^=(i=a+u|0)<<7|i>>>25)+a|0)<<9|i>>>23)+o|0)<<13|i>>>19)+s|0)<<18|i>>>14,f^=(i=(c^=(i=(h^=(i=(l^=(i=f+c|0)<<7|i>>>25)+f|0)<<9|i>>>23)+l|0)<<13|i>>>19)+h|0)<<18|i>>>14,v^=(i=(p^=(i=(d^=(i=(y^=(i=v+p|0)<<7|i>>>25)+v|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,w^=(i=(b^=(i=(g^=(i=(m^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+m|0)<<13|i>>>19)+g|0)<<18|i>>>14;e[0]=a>>>0&255,e[1]=a>>>8&255,e[2]=a>>>16&255,e[3]=a>>>24&255,e[4]=f>>>0&255,e[5]=f>>>8&255,e[6]=f>>>16&255,e[7]=f>>>24&255,e[8]=v>>>0&255,e[9]=v>>>8&255,e[10]=v>>>16&255,e[11]=v>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=l>>>0&255,e[17]=l>>>8&255,e[18]=l>>>16&255,e[19]=l>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function k(e,t,r,n,i,a,o){var s,u,c=new Uint8Array(16),f=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=a[u];for(;i>=64;){for(g(f,c,o,w),u=0;u<64;u++)e[t+u]=r[n+u]^f[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;i-=64,t+=64,n+=64}if(i>0)for(g(f,c,o,w),u=0;u<i;u++)e[t+u]=r[n+u]^f[u];return 0}function _(e,t,r,n,i){var a,o,s=new Uint8Array(16),u=new Uint8Array(64);for(o=0;o<16;o++)s[o]=0;for(o=0;o<8;o++)s[o]=n[o];for(;r>=64;){for(g(u,s,i,w),o=0;o<64;o++)e[t+o]=u[o];for(a=1,o=8;o<16;o++)a=a+(255&s[o])|0,s[o]=255&a,a>>>=8;r-=64,t+=64}if(r>0)for(g(u,s,i,w),o=0;o<r;o++)e[t+o]=u[o];return 0}function x(e,t,r,n,i){var a=new Uint8Array(32);b(a,n,i,w);for(var o=new Uint8Array(8),s=0;s<8;s++)o[s]=n[s+16];return _(e,t,r,o,a)}function A(e,t,r,n,i,a,o){var s=new Uint8Array(32);b(s,a,o,w);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=a[c+16];return k(e,t,r,n,i,u,s)}var E=function(e){var t,r,n,i,a,o,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),a=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|a<<12),this.r[5]=a>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(a>>>14|o<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|s<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function S(e,t,r,n,i,a){var o=new E(a);return o.update(r,n,i),o.finish(e,t),0}function T(e,t,r,n,i,a){var o=new Uint8Array(16);return S(o,0,r,n,i,a),y(e,t,o,0)}function M(e,t,r,n,i){var a;if(r<32)return-1;for(A(e,0,t,0,r,n,i),S(e,16,e,32,r-32,e),a=0;a<16;a++)e[a]=0;return 0}function P(e,t,r,n,i){var a,o=new Uint8Array(32);if(r<32)return-1;if(x(o,0,32,n,i),0!==T(t,16,t,32,r-32,o))return-1;for(A(e,0,t,0,r,n,i),a=0;a<32;a++)e[a]=0;return 0}function I(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function N(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function C(e,t,r){for(var n,i=~(r-1),a=0;a<16;a++)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function O(e,r){var n,i,a,o=t(),s=t();for(n=0;n<16;n++)s[n]=r[n];for(N(s),N(s),N(s),i=0;i<2;i++){for(o[0]=s[0]-65517,n=1;n<15;n++)o[n]=s[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),a=o[15]>>16&1,o[14]&=65535,C(s,o,1-a)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function R(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,e),O(n,t),m(r,0,n,0)}function B(e){var t=new Uint8Array(32);return O(t,e),1&t[0]}function U(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function F(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,i,a=0,o=0,s=0,u=0,c=0,f=0,l=0,h=0,d=0,p=0,v=0,y=0,m=0,g=0,b=0,w=0,k=0,_=0,x=0,A=0,E=0,S=0,T=0,M=0,P=0,I=0,N=0,C=0,O=0,R=0,B=0,U=r[0],F=r[1],L=r[2],j=r[3],D=r[4],K=r[5],Z=r[6],q=r[7],H=r[8],z=r[9],G=r[10],V=r[11],J=r[12],W=r[13],Y=r[14],Q=r[15];a+=(n=t[0])*U,o+=n*F,s+=n*L,u+=n*j,c+=n*D,f+=n*K,l+=n*Z,h+=n*q,d+=n*H,p+=n*z,v+=n*G,y+=n*V,m+=n*J,g+=n*W,b+=n*Y,w+=n*Q,o+=(n=t[1])*U,s+=n*F,u+=n*L,c+=n*j,f+=n*D,l+=n*K,h+=n*Z,d+=n*q,p+=n*H,v+=n*z,y+=n*G,m+=n*V,g+=n*J,b+=n*W,w+=n*Y,k+=n*Q,s+=(n=t[2])*U,u+=n*F,c+=n*L,f+=n*j,l+=n*D,h+=n*K,d+=n*Z,p+=n*q,v+=n*H,y+=n*z,m+=n*G,g+=n*V,b+=n*J,w+=n*W,k+=n*Y,_+=n*Q,u+=(n=t[3])*U,c+=n*F,f+=n*L,l+=n*j,h+=n*D,d+=n*K,p+=n*Z,v+=n*q,y+=n*H,m+=n*z,g+=n*G,b+=n*V,w+=n*J,k+=n*W,_+=n*Y,x+=n*Q,c+=(n=t[4])*U,f+=n*F,l+=n*L,h+=n*j,d+=n*D,p+=n*K,v+=n*Z,y+=n*q,m+=n*H,g+=n*z,b+=n*G,w+=n*V,k+=n*J,_+=n*W,x+=n*Y,A+=n*Q,f+=(n=t[5])*U,l+=n*F,h+=n*L,d+=n*j,p+=n*D,v+=n*K,y+=n*Z,m+=n*q,g+=n*H,b+=n*z,w+=n*G,k+=n*V,_+=n*J,x+=n*W,A+=n*Y,E+=n*Q,l+=(n=t[6])*U,h+=n*F,d+=n*L,p+=n*j,v+=n*D,y+=n*K,m+=n*Z,g+=n*q,b+=n*H,w+=n*z,k+=n*G,_+=n*V,x+=n*J,A+=n*W,E+=n*Y,S+=n*Q,h+=(n=t[7])*U,d+=n*F,p+=n*L,v+=n*j,y+=n*D,m+=n*K,g+=n*Z,b+=n*q,w+=n*H,k+=n*z,_+=n*G,x+=n*V,A+=n*J,E+=n*W,S+=n*Y,T+=n*Q,d+=(n=t[8])*U,p+=n*F,v+=n*L,y+=n*j,m+=n*D,g+=n*K,b+=n*Z,w+=n*q,k+=n*H,_+=n*z,x+=n*G,A+=n*V,E+=n*J,S+=n*W,T+=n*Y,M+=n*Q,p+=(n=t[9])*U,v+=n*F,y+=n*L,m+=n*j,g+=n*D,b+=n*K,w+=n*Z,k+=n*q,_+=n*H,x+=n*z,A+=n*G,E+=n*V,S+=n*J,T+=n*W,M+=n*Y,P+=n*Q,v+=(n=t[10])*U,y+=n*F,m+=n*L,g+=n*j,b+=n*D,w+=n*K,k+=n*Z,_+=n*q,x+=n*H,A+=n*z,E+=n*G,S+=n*V,T+=n*J,M+=n*W,P+=n*Y,I+=n*Q,y+=(n=t[11])*U,m+=n*F,g+=n*L,b+=n*j,w+=n*D,k+=n*K,_+=n*Z,x+=n*q,A+=n*H,E+=n*z,S+=n*G,T+=n*V,M+=n*J,P+=n*W,I+=n*Y,N+=n*Q,m+=(n=t[12])*U,g+=n*F,b+=n*L,w+=n*j,k+=n*D,_+=n*K,x+=n*Z,A+=n*q,E+=n*H,S+=n*z,T+=n*G,M+=n*V,P+=n*J,I+=n*W,N+=n*Y,C+=n*Q,g+=(n=t[13])*U,b+=n*F,w+=n*L,k+=n*j,_+=n*D,x+=n*K,A+=n*Z,E+=n*q,S+=n*H,T+=n*z,M+=n*G,P+=n*V,I+=n*J,N+=n*W,C+=n*Y,O+=n*Q,b+=(n=t[14])*U,w+=n*F,k+=n*L,_+=n*j,x+=n*D,A+=n*K,E+=n*Z,S+=n*q,T+=n*H,M+=n*z,P+=n*G,I+=n*V,N+=n*J,C+=n*W,O+=n*Y,R+=n*Q,w+=(n=t[15])*U,o+=38*(_+=n*L),s+=38*(x+=n*j),u+=38*(A+=n*D),c+=38*(E+=n*K),f+=38*(S+=n*Z),l+=38*(T+=n*q),h+=38*(M+=n*H),d+=38*(P+=n*z),p+=38*(I+=n*G),v+=38*(N+=n*V),y+=38*(C+=n*J),m+=38*(O+=n*W),g+=38*(R+=n*Y),b+=38*(B+=n*Q),a=(n=(a+=38*(k+=n*F))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=u,e[4]=c,e[5]=f,e[6]=l,e[7]=h,e[8]=d,e[9]=p,e[10]=v,e[11]=y,e[12]=m,e[13]=g,e[14]=b,e[15]=w}function D(e,t){j(e,t,t)}function K(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)D(i,i),2!==n&&4!==n&&j(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function Z(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)D(i,i),1!==n&&j(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function q(e,r,n){var i,a,o=new Uint8Array(32),s=new Float64Array(80),c=t(),f=t(),l=t(),h=t(),d=t(),p=t();for(a=0;a<31;a++)o[a]=r[a];for(o[31]=127&r[31]|64,o[0]&=248,U(s,n),a=0;a<16;a++)f[a]=s[a],h[a]=c[a]=l[a]=0;for(c[0]=h[0]=1,a=254;a>=0;--a)C(c,f,i=o[a>>>3]>>>(7&a)&1),C(l,h,i),F(d,c,l),L(c,c,l),F(l,f,h),L(f,f,h),D(h,d),D(p,c),j(c,l,c),j(l,f,d),F(d,c,l),L(c,c,l),D(f,c),L(l,h,p),j(c,l,u),F(c,c,h),j(l,l,c),j(c,h,p),j(h,f,s),D(f,d),C(c,f,i),C(l,h,i);for(a=0;a<16;a++)s[a+16]=c[a],s[a+32]=l[a],s[a+48]=f[a],s[a+64]=h[a];var v=s.subarray(32),y=s.subarray(16);return K(v,v),j(y,y,v),O(e,y),0}function H(e,t){return q(e,t,a)}function z(e,t){return n(t,32),H(e,t)}function G(e,t,r){var n=new Uint8Array(32);return q(n,r,t),b(e,i,n,w)}E.prototype.blocks=function(e,t,r){for(var n,i,a,o,s,u,c,f,l,h,d,p,v,y,m,g,b,w,k,_=this.fin?0:2048,x=this.h[0],A=this.h[1],E=this.h[2],S=this.h[3],T=this.h[4],M=this.h[5],P=this.h[6],I=this.h[7],N=this.h[8],C=this.h[9],O=this.r[0],R=this.r[1],B=this.r[2],U=this.r[3],F=this.r[4],L=this.r[5],j=this.r[6],D=this.r[7],K=this.r[8],Z=this.r[9];r>=16;)h=l=0,h+=(x+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*O,h+=(A+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*Z),h+=(E+=8191&(i>>>10|(a=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*K),h+=(S+=8191&(a>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*D),l=(h+=(T+=8191&(o>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*j))>>>13,h&=8191,h+=(M+=s>>>1&8191)*(5*L),h+=(P+=8191&(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*F),h+=(I+=8191&(u>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*U),h+=(N+=8191&(c>>>8|(f=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*B),d=l+=(h+=(C+=f>>>5|_)*(5*R))>>>13,d+=x*R,d+=A*O,d+=E*(5*Z),d+=S*(5*K),l=(d+=T*(5*D))>>>13,d&=8191,d+=M*(5*j),d+=P*(5*L),d+=I*(5*F),d+=N*(5*U),l+=(d+=C*(5*B))>>>13,d&=8191,p=l,p+=x*B,p+=A*R,p+=E*O,p+=S*(5*Z),l=(p+=T*(5*K))>>>13,p&=8191,p+=M*(5*D),p+=P*(5*j),p+=I*(5*L),p+=N*(5*F),v=l+=(p+=C*(5*U))>>>13,v+=x*U,v+=A*B,v+=E*R,v+=S*O,l=(v+=T*(5*Z))>>>13,v&=8191,v+=M*(5*K),v+=P*(5*D),v+=I*(5*j),v+=N*(5*L),y=l+=(v+=C*(5*F))>>>13,y+=x*F,y+=A*U,y+=E*B,y+=S*R,l=(y+=T*O)>>>13,y&=8191,y+=M*(5*Z),y+=P*(5*K),y+=I*(5*D),y+=N*(5*j),m=l+=(y+=C*(5*L))>>>13,m+=x*L,m+=A*F,m+=E*U,m+=S*B,l=(m+=T*R)>>>13,m&=8191,m+=M*O,m+=P*(5*Z),m+=I*(5*K),m+=N*(5*D),g=l+=(m+=C*(5*j))>>>13,g+=x*j,g+=A*L,g+=E*F,g+=S*U,l=(g+=T*B)>>>13,g&=8191,g+=M*R,g+=P*O,g+=I*(5*Z),g+=N*(5*K),b=l+=(g+=C*(5*D))>>>13,b+=x*D,b+=A*j,b+=E*L,b+=S*F,l=(b+=T*U)>>>13,b&=8191,b+=M*B,b+=P*R,b+=I*O,b+=N*(5*Z),w=l+=(b+=C*(5*K))>>>13,w+=x*K,w+=A*D,w+=E*j,w+=S*L,l=(w+=T*F)>>>13,w&=8191,w+=M*U,w+=P*B,w+=I*R,w+=N*O,k=l+=(w+=C*(5*Z))>>>13,k+=x*Z,k+=A*K,k+=E*D,k+=S*j,l=(k+=T*L)>>>13,k&=8191,k+=M*F,k+=P*U,k+=I*B,k+=N*R,x=h=8191&(l=(l=((l+=(k+=C*O)>>>13)<<2)+l|0)+(h&=8191)|0),A=d+=l>>>=13,E=p&=8191,S=v&=8191,T=y&=8191,M=m&=8191,P=g&=8191,I=b&=8191,N=w&=8191,C=k&=8191,t+=16,r-=16;this.h[0]=x,this.h[1]=A,this.h[2]=E,this.h[3]=S,this.h[4]=T,this.h[5]=M,this.h[6]=P,this.h[7]=I,this.h[8]=N,this.h[9]=C},E.prototype.finish=function(e,t){var r,n,i,a,o=new Uint16Array(10);if(this.leftover){for(a=this.leftover,this.buffer[a++]=1;a<16;a++)this.buffer[a]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,a=2;a<10;a++)this.h[a]+=r,r=this.h[a]>>>13,this.h[a]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,a=1;a<10;a++)o[a]=this.h[a]+r,r=o[a]>>>13,o[a]&=8191;for(o[9]-=8192,n=(1^r)-1,a=0;a<10;a++)o[a]&=n;for(n=~n,a=0;a<10;a++)this.h[a]=this.h[a]&n|o[a];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,a=1;a<8;a++)i=(this.h[a]+this.pad[a]|0)+(i>>>16)|0,this.h[a]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},E.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var V=M,J=P;var W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(e,t,r,n){for(var i,a,o,s,u,c,f,l,h,d,p,v,y,m,g,b,w,k,_,x,A,E,S,T,M,P,I=new Int32Array(16),N=new Int32Array(16),C=e[0],O=e[1],R=e[2],B=e[3],U=e[4],F=e[5],L=e[6],j=e[7],D=t[0],K=t[1],Z=t[2],q=t[3],H=t[4],z=t[5],G=t[6],V=t[7],J=0;n>=128;){for(_=0;_<16;_++)x=8*_+J,I[_]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],N[_]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(_=0;_<80;_++)if(i=C,a=O,o=R,s=B,u=U,c=F,f=L,j,h=D,d=K,p=Z,v=q,y=H,m=z,g=G,V,S=65535&(E=V),T=E>>>16,M=65535&(A=j),P=A>>>16,S+=65535&(E=(H>>>14|U<<18)^(H>>>18|U<<14)^(U>>>9|H<<23)),T+=E>>>16,M+=65535&(A=(U>>>14|H<<18)^(U>>>18|H<<14)^(H>>>9|U<<23)),P+=A>>>16,S+=65535&(E=H&z^~H&G),T+=E>>>16,M+=65535&(A=U&F^~U&L),P+=A>>>16,A=W[2*_],S+=65535&(E=W[2*_+1]),T+=E>>>16,M+=65535&A,P+=A>>>16,A=I[_%16],T+=(E=N[_%16])>>>16,M+=65535&A,P+=A>>>16,M+=(T+=(S+=65535&E)>>>16)>>>16,S=65535&(E=k=65535&S|T<<16),T=E>>>16,M=65535&(A=w=65535&M|(P+=M>>>16)<<16),P=A>>>16,S+=65535&(E=(D>>>28|C<<4)^(C>>>2|D<<30)^(C>>>7|D<<25)),T+=E>>>16,M+=65535&(A=(C>>>28|D<<4)^(D>>>2|C<<30)^(D>>>7|C<<25)),P+=A>>>16,T+=(E=D&K^D&Z^K&Z)>>>16,M+=65535&(A=C&O^C&R^O&R),P+=A>>>16,l=65535&(M+=(T+=(S+=65535&E)>>>16)>>>16)|(P+=M>>>16)<<16,b=65535&S|T<<16,S=65535&(E=v),T=E>>>16,M=65535&(A=s),P=A>>>16,T+=(E=k)>>>16,M+=65535&(A=w),P+=A>>>16,O=i,R=a,B=o,U=s=65535&(M+=(T+=(S+=65535&E)>>>16)>>>16)|(P+=M>>>16)<<16,F=u,L=c,j=f,C=l,K=h,Z=d,q=p,H=v=65535&S|T<<16,z=y,G=m,V=g,D=b,_%16===15)for(x=0;x<16;x++)A=I[x],S=65535&(E=N[x]),T=E>>>16,M=65535&A,P=A>>>16,A=I[(x+9)%16],S+=65535&(E=N[(x+9)%16]),T+=E>>>16,M+=65535&A,P+=A>>>16,w=I[(x+1)%16],S+=65535&(E=((k=N[(x+1)%16])>>>1|w<<31)^(k>>>8|w<<24)^(k>>>7|w<<25)),T+=E>>>16,M+=65535&(A=(w>>>1|k<<31)^(w>>>8|k<<24)^w>>>7),P+=A>>>16,w=I[(x+14)%16],T+=(E=((k=N[(x+14)%16])>>>19|w<<13)^(w>>>29|k<<3)^(k>>>6|w<<26))>>>16,M+=65535&(A=(w>>>19|k<<13)^(k>>>29|w<<3)^w>>>6),P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,I[x]=65535&M|P<<16,N[x]=65535&S|T<<16;S=65535&(E=D),T=E>>>16,M=65535&(A=C),P=A>>>16,A=e[0],T+=(E=t[0])>>>16,M+=65535&A,P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[0]=C=65535&M|P<<16,t[0]=D=65535&S|T<<16,S=65535&(E=K),T=E>>>16,M=65535&(A=O),P=A>>>16,A=e[1],T+=(E=t[1])>>>16,M+=65535&A,P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[1]=O=65535&M|P<<16,t[1]=K=65535&S|T<<16,S=65535&(E=Z),T=E>>>16,M=65535&(A=R),P=A>>>16,A=e[2],T+=(E=t[2])>>>16,M+=65535&A,P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[2]=R=65535&M|P<<16,t[2]=Z=65535&S|T<<16,S=65535&(E=q),T=E>>>16,M=65535&(A=B),P=A>>>16,A=e[3],T+=(E=t[3])>>>16,M+=65535&A,P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[3]=B=65535&M|P<<16,t[3]=q=65535&S|T<<16,S=65535&(E=H),T=E>>>16,M=65535&(A=U),P=A>>>16,A=e[4],T+=(E=t[4])>>>16,M+=65535&A,P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[4]=U=65535&M|P<<16,t[4]=H=65535&S|T<<16,S=65535&(E=z),T=E>>>16,M=65535&(A=F),P=A>>>16,A=e[5],T+=(E=t[5])>>>16,M+=65535&A,P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[5]=F=65535&M|P<<16,t[5]=z=65535&S|T<<16,S=65535&(E=G),T=E>>>16,M=65535&(A=L),P=A>>>16,A=e[6],T+=(E=t[6])>>>16,M+=65535&A,P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[6]=L=65535&M|P<<16,t[6]=G=65535&S|T<<16,S=65535&(E=V),T=E>>>16,M=65535&(A=j),P=A>>>16,A=e[7],T+=(E=t[7])>>>16,M+=65535&A,P+=A>>>16,P+=(M+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[7]=j=65535&M|P<<16,t[7]=V=65535&S|T<<16,J+=128,n-=128}return n}function Q(e,t,r){var n,i=new Int32Array(8),a=new Int32Array(8),o=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,Y(i,a,t,r),r%=128,n=0;n<r;n++)o[n]=t[s-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,s/536870912|0,s<<3),Y(i,a,o,r),n=0;n<8;n++)p(e,8*n,i[n],a[n]);return 0}function X(e,r){var n=t(),i=t(),a=t(),o=t(),s=t(),u=t(),c=t(),l=t(),h=t();L(n,e[1],e[0]),L(h,r[1],r[0]),j(n,n,h),F(i,e[0],e[1]),F(h,r[0],r[1]),j(i,i,h),j(a,e[3],r[3]),j(a,a,f),j(o,e[2],r[2]),F(o,o,o),L(s,i,n),L(u,o,a),F(c,o,a),F(l,i,n),j(e[0],s,u),j(e[1],l,c),j(e[2],c,u),j(e[3],s,l)}function $(e,t,r){var n;for(n=0;n<4;n++)C(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),a=t();K(a,r[2]),j(n,r[0],a),j(i,r[1],a),O(e,i),e[31]^=B(n)<<7}function te(e,t,r){var n,i;for(I(e[0],o),I(e[1],s),I(e[2],s),I(e[3],o),i=255;i>=0;--i)$(e,t,n=r[i/8|0]>>(7&i)&1),X(t,e),X(e,e),$(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];I(n[0],l),I(n[1],h),I(n[2],s),j(n[3],l,h),te(e,n,r)}function ne(e,r,i){var a,o=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||n(r,32),Q(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64,re(s,o),ee(e,s),a=0;a<32;a++)r[a+32]=e[a];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ae(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ae(e,r)}function se(e,r,n,i){var a,o,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),f=new Float64Array(64),l=[t(),t(),t(),t()];Q(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var h=n+64;for(a=0;a<n;a++)e[64+a]=r[a];for(a=0;a<32;a++)e[32+a]=s[32+a];for(Q(c,e.subarray(32),n+32),oe(c),re(l,c),ee(e,l),a=32;a<64;a++)e[a]=i[a];for(Q(u,e,n+64),oe(u),a=0;a<64;a++)f[a]=0;for(a=0;a<32;a++)f[a]=c[a];for(a=0;a<32;a++)for(o=0;o<32;o++)f[a+o]+=u[a]*s[o];return ae(e.subarray(32),f),h}function ue(e,r,n,i){var a,u=new Uint8Array(32),f=new Uint8Array(64),l=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),a=t(),u=t(),f=t(),l=t(),h=t();return I(e[2],s),U(e[1],r),D(a,e[1]),j(u,a,c),L(a,a,e[2]),F(u,e[2],u),D(f,u),D(l,f),j(h,l,f),j(n,h,a),j(n,n,u),Z(n,n),j(n,n,a),j(n,n,u),j(n,n,u),j(e[0],n,u),D(i,e[0]),j(i,i,u),R(i,a)&&j(e[0],e[0],d),D(i,e[0]),j(i,i,u),R(i,a)?-1:(B(e[0])===r[31]>>7&&L(e[0],o,e[0]),j(e[3],e[0],e[1]),0)}(h,i))return-1;for(a=0;a<n;a++)e[a]=r[a];for(a=0;a<32;a++)e[a+32]=i[a];if(Q(f,e,n),oe(f),te(l,h,f),re(h,r.subarray(32)),X(l,h),ee(u,l),n-=64,m(r,0,u,0)){for(a=0;a<n;a++)e[a]=0;return-1}for(a=0;a<n;a++)e[a]=r[a+64];return n}var ce=16,fe=64,le=32,he=64;function de(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ve(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:A,crypto_stream:x,crypto_stream_salsa20_xor:k,crypto_stream_salsa20:_,crypto_onetimeauth:S,crypto_onetimeauth_verify:T,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:M,crypto_secretbox_open:P,crypto_scalarmult:q,crypto_scalarmult_base:H,crypto_box_beforenm:G,crypto_box_afternm:V,crypto_box:function(e,t,r,n,i,a){var o=new Uint8Array(32);return G(o,i,a),V(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,a){var o=new Uint8Array(32);return G(o,i,a),J(e,t,r,n,o)},crypto_box_keypair:z,crypto_hash:Q,crypto_sign:se,crypto_sign_keypair:ne,crypto_sign_open:ue,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:fe,crypto_sign_PUBLICKEYBYTES:le,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ie,pack25519:O,unpack25519:U,M:j,A:F,S:D,Z:L,pow2523:Z,add:X,set25519:I,modL:ae,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),de(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),a=0;a<e.length;a++)n[a+32]=e[a];return M(i,n,n.length,t,r),i.subarray(ce)},e.secretbox.open=function(e,t,r){pe(e,t,r),de(r,t);for(var n=new Uint8Array(ce+e.length),i=new Uint8Array(n.length),a=0;a<e.length;a++)n[a+ce]=e[a];return n.length<32||0!==P(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return q(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var a=e.box.before(n,i);return e.secretbox(t,r,a)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return G(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var a=e.box.before(n,i);return e.secretbox.open(t,r,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return z(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad secret key size");var r=new Uint8Array(fe+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==le)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ue(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),a=0;a<i.length;a++)i[a]=r[a];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(fe),a=0;a<i.length;a++)i[a]=n[a];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==fe)throw new Error("bad signature size");if(r.length!==le)throw new Error("bad public key size");var n,i=new Uint8Array(fe+e.length),a=new Uint8Array(fe+e.length);for(n=0;n<fe;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+fe]=e[n];return ue(a,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(le),t=new Uint8Array(he);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(le),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(le),r=new Uint8Array(he),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=le,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=fe,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===v(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ve(i)}))}else(t=r(55024))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ve(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},91710:function(e,t,r){e.exports=r(46207)},73626:function(e){e.exports=function(e){var t,r=!1;return e instanceof Function||(r=!0,t=e,e=null),function(){return r||(r=!0,t=e.apply(this,arguments),e=null),t}}},27008:function(e){e.exports=function e(t,r,n){if(n||(n=[]),n.length<t.length){var i=t[n.length];for(var a in i)n[n.length]=i[a],e(t,r,n),--n.length}else r.apply(null,n)}},46207:function(e,t,r){e.exports={cache:r(73626),eachCombination:r(27008)}},21151:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},56527:function(e){"use strict";e.exports=JSON.parse('{"schema":{"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BreakpointTrap":{"name":"BreakpointTrap","subtypes":[],"props":{}},"CacheError":{"name":"CacheError","subtypes":["ReadError","WriteError","DeserializationError","SerializationError"],"props":{}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"DeserializationError":{"name":"DeserializationError","subtypes":[],"props":{}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"FunctionCallError":{"name":"FunctionCallError","subtypes":["CompilationError","LinkError","MethodResolveError","WasmTrap","WasmUnknownError","HostError","EvmError"],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LinkError":{"name":"LinkError","subtypes":[],"props":{"msg":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodUTF8Error","MethodNotFound","MethodInvalidSignature"],"props":{}},"MethodUTF8Error":{"name":"MethodUTF8Error","subtypes":[],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReadError":{"name":"ReadError","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"SerializationError":{"name":"SerializationError","subtypes":[],"props":{"hash":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","BreakpointTrap","StackOverflow","GenericTrap"],"props":{}},"WasmUnknownError":{"name":"WasmUnknownError","subtypes":[],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"WriteError":{"name":"WriteError","subtypes":[],"props":{}},"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation"],"props":{}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"InternalError":{"name":"InternalError","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed","InternalError"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},87930:function(e){"use strict";e.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed"}')},10798:function(e){"use strict";e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')}}]);
//# sourceMappingURL=76.4fc2de1d.chunk.js.map